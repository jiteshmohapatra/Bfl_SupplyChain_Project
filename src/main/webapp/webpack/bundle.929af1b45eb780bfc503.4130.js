(self.webpackChunkopenboxes=self.webpackChunkopenboxes||[]).push([[4130],{5419:e=>{e.exports=function(e,t,a,n){var r=new Blob(void 0!==n?[n,e]:[e],{type:a||"application/octet-stream"});if(void 0!==window.navigator.msSaveBlob)window.navigator.msSaveBlob(r,t);else{var o=window.URL&&window.URL.createObjectURL?window.URL.createObjectURL(r):window.webkitURL.createObjectURL(r),i=document.createElement("a");i.style.display="none",i.href=o,i.setAttribute("download",t),void 0===i.download&&i.setAttribute("target","_blank"),document.body.appendChild(i),i.click(),setTimeout((function(){document.body.removeChild(i),window.URL.revokeObjectURL(o)}),200)}}},29784:(e,t,a)=>{"use strict";a.r(t),a.d(t,{default:()=>Ke});var n=a(96540),r=a(2543),o=a.n(r),i=a(5556),l=a.n(i),u=a(88600),s=a(697),c=a(84976),p=a(8949),y=a(23350),d=a(84914),f=a.n(d),m=a(32885),b=a.n(m),w=a(61965),h=a(50709),v=a(39802),g=a(43256),A=a(22433),E=a(95242),S=a(73339);const O=function(e,t,a,n){t.id&&t.id!==a.id&&(0,y.ZX)({title:e("react.default.message.locationChanged.label","Location was changed"),message:e("react.default.locationChanged.message","Current location was changed, do you want to change the location back and continue work? If you press No all not saved changes will be lost."),buttons:[{label:e("react.default.yes.label","Yes"),onClick:function(){(0,S.JD)((0,p.PV)(t))}},{label:e("react.default.no.label","No"),onClick:function(){n&&n()}}]})};var P=a(26216),I=a(91019);function N(e){return N="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},N(e)}function x(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,n)}return a}function C(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?x(Object(a),!0).forEach((function(t){D(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):x(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}function k(){return k=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var n in a)({}).hasOwnProperty.call(a,n)&&(e[n]=a[n])}return e},k.apply(null,arguments)}function M(e,t){for(var a=0;a<t.length;a++){var n=t[a];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,R(n.key),n)}}function j(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(e){}return(j=function(){return!!e})()}function L(e){return L=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},L(e)}function B(e,t){return B=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},B(e,t)}function D(e,t,a){return(t=R(t))in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}function R(e){var t=function(e){if("object"!=N(e)||!e)return e;var t=e[Symbol.toPrimitive];if(void 0!==t){var a=t.call(e,"string");if("object"!=N(a))return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==N(t)?t:t+""}var T=(0,A.A)(b()),q=function(e){function t(e){var a;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),D(a=function(e,t,a){return t=L(t),function(e,t){if(t&&("object"==N(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(e,j()?Reflect.construct(t,a||[],L(e).constructor):t.apply(e,a))}(this,t,[e]),"onExpandedChange",(function(e){var t=[];o().forEach(e,(function(e,a){e&&t.push(parseInt(a,10))})),a.setState({expanded:e})})),D(a,"getColumns",(function(){return[{Header:n.createElement(P.A,{id:"react.putAway.code.label",defaultMessage:"Code"}),accessor:"product.productCode",style:{whiteSpace:"normal"},Filter:E.A},{Header:n.createElement(P.A,{id:"react.putAway.name.label",defaultMessage:"Name"}),accessor:"product",Cell:function(e){var t,a,r,o;return n.createElement(w.n,k({},e,{value:null===(t=e.value)||void 0===t?void 0:t.displayNameOrDefaultName,tooltip:(null===(a=e.value)||void 0===a?void 0:a.name)!==(null===(r=e.value)||void 0===r?void 0:r.displayNameOrDefaultName),tooltipLabel:null===(o=e.value)||void 0===o?void 0:o.name}))},style:{whiteSpace:"normal"},Filter:E.A},{Header:n.createElement(P.A,{id:"react.putAway.lotSerialNo.label",defaultMessage:"Lot/Serial No."}),accessor:"inventoryItem.lotNumber",style:{whiteSpace:"normal"},Filter:E.A},{Header:n.createElement(P.A,{id:"react.putAway.expiry.label",defaultMessage:"Expiry"}),accessor:"inventoryItem.expirationDate",style:{whiteSpace:"normal"},Cell:function(e){return n.createElement("span",null,null!=e&&e.value?a.props.formatLocalizedDate(e.value,v.A.COMMON):e.value)},Filter:E.A},{Header:n.createElement(P.A,{id:"react.putAway.recipient.label",defaultMessage:"Recipient"}),accessor:"recipient.name",style:{whiteSpace:"normal"},Filter:E.A},{Header:n.createElement(P.A,{id:"react.putAway.qty.label",defaultMessage:"QTY"}),accessor:"quantity",style:{whiteSpace:"normal"},Cell:function(e){return n.createElement("span",null,e.value?e.value.toLocaleString("en-US"):e.value)},Filter:E.A},{Header:n.createElement(P.A,{id:"react.putAway.preferredBin.label",defaultMessage:"Preferred bin"}),accessor:"preferredBin",style:{whiteSpace:"normal"},Cell:function(e){return n.createElement("div",null,e.value&&e.value.zoneName?n.createElement("div",null,e.value.zoneName,": "):"",n.createElement("div",null,e.value?e.value.name:""))},Filter:E.A},{Header:n.createElement(P.A,{id:"react.putAway.currentBin.label",defaultMessage:"Current bin"}),accessor:"currentBins",style:{whiteSpace:"normal"},Filter:E.A},{Header:n.createElement(P.A,{id:"react.putAway.putAwayBin.label",defaultMessage:"Putaway Bin"}),accessor:"putawayLocation",style:{whiteSpace:"normal"},Cell:function(e){return n.createElement("div",null,e.value&&e.value.zoneName?n.createElement("div",null,e.value.zoneName,": "):"",n.createElement("div",null,e.value?e.value.name:""))},Filter:E.A},{Header:n.createElement(P.A,{id:"react.putAway.stockMovement.label",defaultMessage:"Stock Movement"}),accessor:"stockMovement.name",style:{whiteSpace:"normal"},Expander:function(e){var t=e.isExpanded;return n.createElement("span",{className:"ml-2"},n.createElement("div",{className:"rt-expander ".concat(t&&"-open")},"•"))},filterable:!0,Filter:E.A}]})),D(a,"toggleTree",(function(){a.state.pivotBy.length?a.setState({pivotBy:[],expanded:{}}):a.setState({pivotBy:["stockMovement.name"],expanded:{}})})),D(a,"filterMethod",(function(e,t){var n=t[e.id];return"inventoryItem.expirationDate"===e.id&&(n=a.props.formatLocalizedDate(n,v.A.COMMON)),"product"===e.id&&(n=n?"".concat(n.name," ").concat(n.displayNameOrDefaultName):null),t._aggregated||t._groupedByPivot||o().toString(n).toLowerCase().includes(e.value.toLowerCase())}));var r=a.getColumns(),i=a.props.initialValues,l=i.putAway,u=i.pivotBy,s=i.expanded;return a.state={putAway:C(C({},l),{},{putawayItems:t.processSplitLines(l.putawayItems)}),completed:"COMPLETED"===l.putawayStatus,columns:r,pivotBy:u,expanded:s,location:a.props.location},a.confirmEmptyBin=a.confirmEmptyBin.bind(a),a.confirmLowerQuantity=a.confirmLowerQuantity.bind(a),a.save=a.save.bind(a),a}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&B(e,t)}(t,e),a=t,i=[{key:"processSplitLines",value:function(e){var t=[];return e&&e.forEach((function(e){e.splitItems&&e.splitItems.length>0?e.splitItems.forEach((function(a){t.push(C(C({},e),{},{quantity:a.quantity,putawayFacility:a.putawayFacility,putawayLocation:a.putawayLocation,splitItems:[]}))})):t.push(e)})),t}}],(r=[{key:"componentWillReceiveProps",value:function(e){O(this.props.translate,this.state.location,e.location,(function(){window.location="".concat(h.fr.list(),"?orderType=PUTAWAY_ORDER&status=PENDING")})),this.setState((function(a){return{putAway:C(C({},e.initialValues.putAway),{},{putawayItems:t.processSplitLines(e.initialValues.putAway.putawayItems)}),completed:"COMPLETED"===e.initialValues.putAway.putawayStatus,location:a.location.id?a.location:e.location}}))}},{key:"completePutAway",value:function(){var e=!o().some(this.props.initialValues.putAway.putawayItems,(function(e){return o().isNull(e.putawayLocation.id)&&o().isEmpty(e.splitItems)})),t=o().filter(this.props.initialValues.putAway.putawayItems,(function(e){return e.quantity<e.quantityAvailable}));o().isEmpty(t)?e?this.save():this.confirmEmptyBin():this.confirmLowerQuantity(t)}},{key:"save",value:function(){var e=this;this.props.showSpinner();var t="/api/putaways?location.id=".concat(this.state.location.id),a=C(C({},this.props.initialValues.putAway),{},{putawayStatus:"COMPLETED",putawayItems:o().map(this.props.initialValues.putAway.putawayItems,(function(e){return C(C({},e),{},{putawayStatus:e.splitItems.length?"CANCELLED":"COMPLETED",splitItems:o().map(e.splitItems,(function(e){return C(C({},e),{},{putawayStatus:"COMPLETED"})}))})}))});return g.Ay.post(t,a).then((function(){e.props.hideSpinner(),f().success(e.props.translate("react.putAway.alert.putAwayCompleted.label","Putaway was successfully completed!"),{timeout:3e3}),window.location=h.fr.show(e.props.initialValues.putAway.id)})).catch((function(){return e.props.hideSpinner()}))}},{key:"goToFirstPage",value:function(){this.props.history.push(h.iP.create()),this.props.goToPage(1,null)}},{key:"confirmEmptyBin",value:function(){var e=this;(0,y.ZX)({title:this.props.translate("react.putAway.message.confirmPutAway.label","Confirm putaway"),message:this.props.translate("react.putAway.confirmPutAway.message","Are you sure you want to putaway? There are some lines with empty bin locations."),buttons:[{label:this.props.translate("react.default.yes.label","Yes"),onClick:function(){return e.save()}},{label:this.props.translate("react.default.no.label","No")}]})}},{key:"confirmLowerQuantity",value:function(e){var t=this;(0,y.ZX)({title:this.props.translate("react.putAway.message.confirmPutAway.label","Confirm putaway"),message:o().map(e,(function(e){return n.createElement("p",null,"Qty",e.quantityAvailable-e.quantity," ",t.props.translate("react.putAway.alert.lowerQty1.label","of item")," ",e.product.displayNameOrDefaultName," ",t.props.translate("react.putAway.alert.lowerQty2.label","is still in the receiving bin. Do you want to continue?"))})),buttons:[{label:this.props.translate("react.default.yes.label","Yes"),onClick:function(){return t.save()}},{label:this.props.translate("react.default.no.label","No")}]})}},{key:"render",value:function(){var e=this,t=this.onExpandedChange,a=this.toggleTree,r=this.state,o=r.putAway,i=r.columns,l=r.pivotBy,u={pivotBy:l,expanded:r.expanded,onExpandedChange:t};return n.createElement("div",{className:"putaway"},n.createElement("div",{className:"d-flex justify-content-between mb-2 putaway-buttons"},n.createElement("div",null,n.createElement(P.A,{id:"react.putAway.showBy.label",defaultMessage:"Show by"}),":",n.createElement("button",{type:"button",className:"btn btn-primary ml-2 btn-xs","data-toggle":"button","aria-pressed":"false",onClick:a},l&&l.length?n.createElement(P.A,{id:"react.putAway.stockMovement.label",defaultMessage:"Stock Movement"}):n.createElement(P.A,{id:"react.putAway.product.label",defaultMessage:"Product"}))),n.createElement("span",{className:"buttons-container classic-form-buttons"},this.state.completed?n.createElement("button",{type:"button",className:"btn btn-outline-secondary btn-xs mr-3",onClick:function(){return e.goToFirstPage()}},n.createElement(P.A,{id:"react.putAway.goBack.label",defaultMessage:"Go back to putaway list"})):n.createElement("div",null,n.createElement("button",{type:"button",onClick:function(){return e.props.previousPage({putAway:e.state.putAway,pivotBy:e.state.pivotBy,expanded:e.state.expanded})},className:"btn btn-outline-secondary btn-xs mr-3"},n.createElement(P.A,{id:"react.default.button.edit.label",defaultMessage:"Edit"})),n.createElement("button",{type:"button",onClick:function(){return e.completePutAway()},className:"btn btn-outline-secondary btn-xs mr-3"},n.createElement(P.A,{id:"react.putAway.completePutAway.label",defaultMessage:"Complete Putaway"}))))),o.putawayItems?n.createElement(T,k({data:o.putawayItems,columns:i,ref:function(t){e.selectTable=t},className:"-striped -highlight"},u,{defaultPageSize:Number.MAX_SAFE_INTEGER,minRows:0,showPaginationBottom:!1,filterable:!0,defaultFilterMethod:this.filterMethod})):null,n.createElement("div",{className:"submit-buttons"},this.state.completed?n.createElement("button",{type:"button",className:"btn btn-outline-primary btn-form btn-xs",onClick:function(){return e.goToFirstPage()}},n.createElement(P.A,{id:"react.putAway.goBack.label",defaultMessage:"Go back to putaway list"})):n.createElement("div",{className:"submit-buttons"},n.createElement("button",{type:"button",onClick:function(){return e.completePutAway()},className:"btn btn-outline-primary btn-form float-right btn-xs"},n.createElement(P.A,{id:"react.putAway.completePutAway.label",defaultMessage:"Complete Putaway"})),n.createElement("button",{type:"button",onClick:function(){return e.props.previousPage({putAway:e.state.putAway,pivotBy:e.state.pivotBy,expanded:e.state.expanded})},className:"btn btn-outline-primary btn-form btn-xs"},n.createElement(P.A,{id:"react.default.button.edit.label",defaultMessage:"Edit"})))))}}])&&M(a.prototype,r),i&&M(a,i),Object.defineProperty(a,"prototype",{writable:!1}),a;var a,r,i}(n.Component);const F=(0,s.Ng)((function(e){return{translate:(0,P.H)((0,u.ro)(e.localize)),formatLocalizedDate:(0,I.Yq)(e.localize)}}),{showSpinner:p.xc,hideSpinner:p.W$})(q);q.propTypes={initialValues:l().shape({putAway:l().arrayOf(l().shape({})),pivotBy:l().arrayOf(l().shape({})),expanded:l().arrayOf(l().shape({}))}).isRequired,showSpinner:l().func.isRequired,hideSpinner:l().func.isRequired,location:l().shape({id:l().string}).isRequired,history:l().shape({push:l().func}).isRequired,translate:l().func.isRequired,previousPage:l().func.isRequired,goToPage:l().func.isRequired,formatLocalizedDate:l().func.isRequired},q.defaultProps={};var _=a(38086),z=a(66792);function H(e){return H="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},H(e)}function Q(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,n)}return a}function V(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?Q(Object(a),!0).forEach((function(t){Z(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):Q(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}function U(e){return function(e){if(Array.isArray(e))return Y(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(e){if("string"==typeof e)return Y(e,t);var a={}.toString.call(e).slice(8,-1);return"Object"===a&&e.constructor&&(a=e.constructor.name),"Map"===a||"Set"===a?Array.from(e):"Arguments"===a||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(a)?Y(e,t):void 0}}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Y(e,t){(null==t||t>e.length)&&(t=e.length);for(var a=0,n=Array(t);a<t;a++)n[a]=e[a];return n}function W(){return W=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var n in a)({}).hasOwnProperty.call(a,n)&&(e[n]=a[n])}return e},W.apply(null,arguments)}function $(e,t){for(var a=0;a<t.length;a++){var n=t[a];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,J(n.key),n)}}function G(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(e){}return(G=function(){return!!e})()}function K(e){return K=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},K(e)}function X(e,t){return X=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},X(e,t)}function Z(e,t,a){return(t=J(t))in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}function J(e){var t=function(e){if("object"!=H(e)||!e)return e;var t=e[Symbol.toPrimitive];if(void 0!==t){var a=t.call(e,"string");if("object"!=H(a))return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==H(t)?t:t+""}var ee=(0,_.A)((0,A.A)(b()));function te(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];return e.forEach((function(e){Object.prototype.hasOwnProperty.call(e,"_subRows")&&e._subRows?t=te(e._subRows,t):t.push(e._original)})),t}var ae=function(e){function t(e){var a;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),Z(a=function(e,t,a){return t=K(t),function(e,t){if(t&&("object"==H(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(e,G()?Reflect.construct(t,a||[],K(e).constructor):t.apply(e,a))}(this,t,[e]),"onExpandedChange",(function(e){var t=[];o().forEach(e,(function(e,a){e&&t.push(parseInt(a,10))})),a.setState({expanded:e})})),Z(a,"getColumns",(function(){return[{Header:n.createElement(P.A,{id:"react.putAway.code.label",defaultMessage:"Code"}),accessor:"product.productCode",style:{whiteSpace:"normal"},Filter:E.A},{Header:n.createElement(P.A,{id:"react.putAway.name.label",defaultMessage:"Name"}),accessor:"product",Cell:function(e){var t,a,r,o;return n.createElement(w.n,W({},e,{value:null===(t=e.value)||void 0===t?void 0:t.displayNameOrDefaultName,tooltip:(null===(a=e.value)||void 0===a?void 0:a.name)!==(null===(r=e.value)||void 0===r?void 0:r.displayNameOrDefaultName),tooltipLabel:null===(o=e.value)||void 0===o?void 0:o.name}))},style:{whiteSpace:"normal"},Filter:E.A},{Header:n.createElement(P.A,{id:"react.putAway.lotSerialNo.label",defaultMessage:"Lot/Serial No."}),accessor:"inventoryItem.lotNumber",style:{whiteSpace:"normal"},Filter:E.A},{Header:n.createElement(P.A,{id:"react.putAway.expiry.label",defaultMessage:"Expiry"}),accessor:"inventoryItem.expirationDate",style:{whiteSpace:"normal"},Cell:function(e){return n.createElement("span",null,null!=e&&e.value?a.props.formatLocalizedDate(e.value,v.A.COMMON):e.value)},Filter:E.A},{Header:n.createElement(P.A,{id:"react.putAway.recipient.label",defaultMessage:"Recipient"}),accessor:"recipient.name",style:{whiteSpace:"normal"},Filter:E.A},{Header:n.createElement(P.A,{id:"react.putAway.qtyReceiving.label",defaultMessage:"Qty in receiving"}),accessor:"quantity",style:{whiteSpace:"normal"},Cell:function(e){return n.createElement("span",null,e.value?e.value.toLocaleString("en-US"):e.value)},Filter:E.A},{Header:n.createElement(P.A,{id:"react.putAway.stockMovement.label",defaultMessage:"Stock Movement"}),accessor:"stockMovement.name",style:{whiteSpace:"normal"},Expander:function(e){var t=e.row,r=e.isExpanded;return n.createElement("span",{className:"ml-2"},n.createElement("input",{type:"checkbox",name:"aggregationCheckbox",checked:a.checkSelected(t),value:t._subRows[0]._original.stockMovement.id,ref:function(e){e&&(e.indeterminate=a.checkIndeterminate(t))},onChange:a.toggleSelectionsByStockMovement}),n.createElement("div",{className:"rt-expander ".concat(r&&"-open")},"•"))},filterable:!0,Filter:E.A}]})),Z(a,"dataFetched",!1),Z(a,"toggleSelectionsByStockMovement",(function(e){var t=e.target,n=t.checked,r=t.value,i=o().map(o().filter(a.state.putawayItems,(function(e){return e.stockMovement.id===r&&"READY"===e.putawayStatus})),(function(e){return e._id}));a.toggleSelection(i,n)})),Z(a,"toggleAll",(function(){var e=a.state.selectAll,t=[];te(a.selectTable.getWrappedInstance().getResolvedState().sortedData).forEach((function(e){"READY"===e.putawayStatus&&t.push(e._id)})),a.toggleSelection(t,!e),a.setState({selectAll:!e})})),Z(a,"toggleTree",(function(){a.state.pivotBy.length?a.setState({pivotBy:[],expanded:{}}):a.setState({pivotBy:["stockMovement.name"],expanded:{}})})),Z(a,"isSelected",(function(e){return o().includes(U(a.state.selection),e)})),Z(a,"toggleSelection",(function(e,t){var n=a.state.selection,r=new Set(n);Array.isArray(e)?t?o().forEach(e,(function(e){r.add(e)})):o().forEach(e,(function(e){r.delete(e)})):r.has(e)?r.delete(e):r.has(e)||r.add(e),a.setState({selection:r})})),Z(a,"filterMethod",(function(e,t){var n=t[e.id];return"inventoryItem.expirationDate"===e.id&&(n=a.props.formatLocalizedDate(n,v.A.COMMON)),"product"===e.id&&(n=n?"".concat(n.name," ").concat(n.displayNameOrDefaultName):null),t._aggregated||t._groupedByPivot||o().toString(n).toLowerCase().includes(e.value.toLowerCase())}));var r=a.getColumns();return a.state={pendingPutAways:[],readyPutAways:[],putawayItems:[],columns:r,selection:new Set,selectAll:!1,selectType:"checkbox",pivotBy:["stockMovement.name"],expanded:{}},a}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&X(e,t)}(t,e),a=t,r=[{key:"componentDidMount",value:function(){this.props.putAwayTranslationsFetched&&(this.dataFetched=!0,this.fetchPutAwayCandidates(this.props.locationId))}},{key:"componentWillReceiveProps",value:function(e){e.putAwayTranslationsFetched&&(this.dataFetched?this.props.locationId!==e.locationId&&this.fetchPutAwayCandidates(e.locationId):(this.dataFetched=!0,this.fetchPutAwayCandidates(this.props.locationId)))}},{key:"fetchPutAwayCandidates",value:function(e){var t=this;this.props.showSpinner();var a="/api/putaways?location.id=".concat(e);return g.Ay.get(a).then((function(e){var a=(0,g.xp)(e.data.data).map((function(e){return V(V({},e),{},{_id:o().uniqueId("item_")})})),n=a.filter((function(e){return"READY"!==e.putawayStatus})),r=a.filter((function(e){return"READY"===e.putawayStatus})).map((function(e){return V(V({},e),{},{putawayFacility:{id:e.currentFacility?e.currentFacility.id:null}})}));t.setState({putawayItems:r,pendingPutAways:n,readyPutAways:r},(function(){return t.props.hideSpinner()}))})).catch((function(){return t.props.hideSpinner()}))}},{key:"createPutAway",value:function(){var e=this;this.props.showSpinner();var t="/api/putaways?location.id=".concat(this.props.locationId),a=o().filter(this.state.putawayItems,(function(t){return o().includes(U(e.state.selection),t._id)})),n={putawayNumber:"",putawayAssignee:"",putawayStatus:"PENDING",putawayDate:"",putawayItems:o().map(a,(function(e){return V(V({},e),{},{putawayStatus:"PENDING"})}))};return g.Ay.post(t,n).then((function(t){var a=(0,g.xp)(t.data.data);e.props.hideSpinner();var n={};e.state.pivotBy.length&&o().forEach(e.state.putawayItems,(function(e,t){n[t]=!0})),e.props.history.push(h.iP.edit(a.id)),e.props.nextPage({putAway:a,pivotBy:e.state.pivotBy,expanded:n})})).catch((function(){return e.props.hideSpinner()}))}},{key:"filterPutAways",value:function(e){e?this.setState((function(e){return{putawayItems:[].concat(U(e.readyPutAways),U(e.pendingPutAways)),expanded:{}}})):this.setState((function(e){return{putawayItems:U(e.readyPutAways),expanded:{}}}))}},{key:"checkIndeterminate",value:function(e){var t=this;return o().some(e._subRows,(function(e){return!o().includes(U(t.state.selection),e._original._id)}))&&o().some(e._subRows,(function(e){return o().includes(U(t.state.selection),e._original._id)}))}},{key:"checkSelected",value:function(e){var t=this;return o().every(e._subRows,(function(e){return o().includes(U(t.state.selection),e._original._id)}))}},{key:"render",value:function(){var e=this,t=this.toggleSelection,a=this.toggleAll,r=this.isSelected,i=this.onExpandedChange,l=this.toggleTree,u=this.state,s=u.putawayItems,c=u.columns,p=u.selectAll,y=u.selectType,d=u.pivotBy,f=u.expanded,m={selectAll:p,isSelected:r,toggleAll:a,toggleSelection:t,selectType:y,pivotBy:d,expanded:f,onExpandedChange:i};return n.createElement("div",{className:"putaway"},n.createElement("div",{className:"d-flex justify-content-between mb-2 putaway-buttons"},n.createElement("div",null,n.createElement(P.A,{id:"react.putAway.showBy.label",defaultMessage:"Show by"}),":",n.createElement("button",{type:"button",className:"btn btn-primary ml-2 btn-xs","data-toggle":"button","aria-pressed":"false",onClick:l},d&&d.length?n.createElement(P.A,{id:"react.putAway.stockMovement.label",defaultMessage:"Stock Movement"}):n.createElement(P.A,{id:"react.putAway.product.label",defaultMessage:"Product"}))),n.createElement("div",{className:"row bd-highlight"},n.createElement("div",{className:"mr-1"},n.createElement(P.A,{id:"react.putAway.lines.label",defaultMessage:"Lines in pending putaways"}),":"),n.createElement("div",{style:{width:"150px"}},n.createElement(z.A,{options:[{value:!1,label:n.createElement(P.A,{id:"react.putAway.exclude.label",defaultMessage:"Exclude"})},{value:!0,label:n.createElement(P.A,{id:"react.putAway.include.label",defaultMessage:"Include"})}],onChange:function(t){return e.filterPutAways(t.value)},initialValue:{value:!1,label:n.createElement(P.A,{id:"react.putAway.exclude.label",defaultMessage:"Exclude"})},clearable:!1,className:"select-xs"}))),n.createElement("button",{type:"button",disabled:this.state.selection.size<1,onClick:function(){return e.createPutAway()},className:"btn btn-outline-primary btn-form float-right btn-xs"},n.createElement(P.A,{id:"react.putAway.startPutAway.label",defaultMessage:"Start Putaway"}))),s?n.createElement(ee,W({data:s,columns:c,ref:function(t){e.selectTable=t},className:"-striped -highlight"},m,{defaultPageSize:Number.MAX_SAFE_INTEGER,minRows:0,showPaginationBottom:!1,filterable:!0,defaultFilterMethod:this.filterMethod,freezeWhenExpanded:!0,SelectInputComponent:function(e){var t=e.id,a=e.checked,r=e.onClick,o=e.row;return n.createElement("input",{type:y,checked:a,onChange:function(){},onClick:function(e){var a=e.shiftKey;e.stopPropagation(),r(t,a,o)},disabled:"READY"!==o.putawayStatus})},getTdProps:function(e,t){return{style:{color:"READY"===o().get(t,"original.putawayStatus")||t.aggregated?"black":"gray"},onClick:function(e,t){var a=e.target;t&&"aggregationCheckbox"!==a.name&&t()}}}})):null,n.createElement("div",{className:"submit-buttons"},n.createElement("button",{type:"button",disabled:this.state.selection.size<1,onClick:function(){return e.createPutAway()},className:"btn btn-outline-primary btn-form float-right btn-xs"},n.createElement(P.A,{id:"react.putAway.startPutAway.label",defaultMessage:"Start Putaway"}))))}}],r&&$(a.prototype,r),Object.defineProperty(a,"prototype",{writable:!1}),a;var a,r}(n.Component);const ne=(0,s.Ng)((function(e){return{putAwayTranslationsFetched:e.session.fetchedTranslations.putAway,formatLocalizedDate:(0,I.Yq)(e.localize)}}),{showSpinner:p.xc,hideSpinner:p.W$})((0,c.withRouter)(ae));ae.propTypes={showSpinner:l().func.isRequired,hideSpinner:l().func.isRequired,nextPage:l().func.isRequired,locationId:l().string.isRequired,history:l().shape({push:l().func}).isRequired,putAwayTranslationsFetched:l().bool.isRequired,formatLocalizedDate:l().func.isRequired};var re=a(46894),oe=a.n(re),ie=a(5419),le=a.n(ie),ue=a(38798),se=a(51836),ce=a(46857),pe=a(70373),ye=a.n(pe),de=a(40910);function fe(e){return fe="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},fe(e)}function me(e,t){(null==t||t>e.length)&&(t=e.length);for(var a=0,n=Array(t);a<t;a++)n[a]=e[a];return n}function be(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,n)}return a}function we(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?be(Object(a),!0).forEach((function(t){he(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):be(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}function he(e,t,a){return(t=ge(t))in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}function ve(e,t){for(var a=0;a<t.length;a++){var n=t[a];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,ge(n.key),n)}}function ge(e){var t=function(e){if("object"!=fe(e)||!e)return e;var t=e[Symbol.toPrimitive];if(void 0!==t){var a=t.call(e,"string");if("object"!=fe(a))return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==fe(t)?t:t+""}function Ae(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(e){}return(Ae=function(){return!!e})()}function Ee(e){return Ee=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},Ee(e)}function Se(e,t){return Se=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},Se(e,t)}var Oe=function(e){function t(e){var a;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),(a=function(e,t,a){return t=Ee(t),function(e,t){if(t&&("object"==fe(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(e,Ae()?Reflect.construct(t,a||[],Ee(e).constructor):t.apply(e,a))}(this,t,[e])).state={splitItems:[],showModal:!1},a.openModal=a.openModal.bind(a),a.onSave=a.onSave.bind(a),a.closeModal=a.closeModal.bind(a),a.isValid=a.isValid.bind(a),a.isBinSelected=a.isBinSelected.bind(a),a}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Se(e,t)}(t,e),a=t,(r=[{key:"onSave",value:function(){var e=this;this.calculatePutAwayQty()<this.props.putawayItem.quantity?(0,y.ZX)({title:this.props.translate("react.putAway.message.confirmSplitLine.label","Confirm split line"),message:this.props.translate("react.putAway.confirmSplitLine.label","There is still stock in the receiving bin. Do you want to putaway the rest of this line?"),buttons:[{label:this.props.translate("react.default.yes.label","Yes")},{label:this.props.translate("react.default.no.label","No"),onClick:function(){return e.save()}}]}):this.save()}},{key:"getErrorMessage",value:function(){return this.isQuantityGreaterThanOriginalPutaway()?this.props.translate("react.putAway.sumOfAll.label","Sum of all split items quantities cannot be greater than original putaway item quantity"):this.isNegativeQuantity()?this.props.translate("react.putAway.negativeSumOfAll.label","Items quantity cannot be less than 1"):""}},{key:"save",value:function(){this.props.saveSplitItems(o().map(this.state.splitItems,(function(e){return e.quantity&&"0"!==e.quantity?e:we(we({},e),{},{delete:!0})}))),this.closeModal()}},{key:"openModal",value:function(){var e=[];this.props.splitItems&&this.props.splitItems.length>0?e=function(e){return function(e){if(Array.isArray(e))return me(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(e){if("string"==typeof e)return me(e,t);var a={}.toString.call(e).slice(8,-1);return"Object"===a&&e.constructor&&(a=e.constructor.name),"Map"===a||"Set"===a?Array.from(e):"Arguments"===a||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(a)?me(e,t):void 0}}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}(this.props.splitItems):e.push({quantity:this.props.putawayItem.quantity,putawayFacility:{id:this.props.putawayItem.putawayFacility?this.props.putawayItem.putawayFacility.id:null},putawayLocation:{id:this.props.putawayItem.putawayLocation?this.props.putawayItem.putawayLocation.id:null,name:this.props.putawayItem.putawayLocation?this.props.putawayItem.putawayLocation.name:null,zoneId:this.props.putawayItem.putawayLocation?this.props.putawayItem.putawayLocation.zoneId:null,zoneName:this.props.putawayItem.putawayLocation?this.props.putawayItem.putawayLocation.zoneName:null},product:{id:this.props.putawayItem.product.id},inventoryItem:{id:this.props.putawayItem.inventoryItem.id},currentLocation:{id:this.props.putawayItem.currentLocation?this.props.putawayItem.currentLocation.id:null}}),this.setState({splitItems:e,showModal:!0})}},{key:"closeModal",value:function(){this.setState({showModal:!1})}},{key:"isNegativeQuantity",value:function(){return o().some(this.state.splitItems,(function(e){return o().toInteger(e.quantity)<=0}))}},{key:"isQuantityGreaterThanOriginalPutaway",value:function(){return this.calculatePutAwayQty()>o().toInteger(this.props.putawayItem.quantity)}},{key:"isValid",value:function(){return!this.isNegativeQuantity()&&!this.isQuantityGreaterThanOriginalPutaway()}},{key:"calculatePutAwayQty",value:function(){return o().reduce(this.state.splitItems,(function(e,t){return e+(!t.delete&&t.quantity?o().toInteger(t.quantity):0)}),0)}},{key:"isBinSelected",value:function(){return o().every(this.state.splitItems,(function(e){return o().get(e,"putawayLocation.id")}))}},{key:"render",value:function(){var e,t,a,r=this;return n.createElement("div",null,n.createElement("button",{type:"button",className:"btn btn-outline-success btn-xs mr-1 mb-1",onClick:function(){return r.openModal()}},n.createElement(P.A,{id:"react.putAway.splitLine.label",defaultMessage:"Split line"})),n.createElement(ye(),{isOpen:this.state.showModal,onRequestClose:this.closeModal,className:"modal-content-custom",shouldCloseOnOverlayClick:!1},n.createElement("div",null,n.createElement("h3",{className:"font-weight-bold"},n.createElement("span",null,this.props.putawayItem.product.productCode),n.createElement(se.Tooltip,{arrow:"true",delay:"150",duration:"250",hideDelay:"50",className:"text-overflow-ellipsis",disabled:(null===(e=this.props.putawayItem.product)||void 0===e?void 0:e.name)===(null===(t=this.props.putawayItem.product)||void 0===t?void 0:t.displayNameOrDefaultName),html:null===(a=this.props.putawayItem.product)||void 0===a?void 0:a.name}," ",this.props.putawayItem.product.displayNameOrDefaultName)),n.createElement("div",{className:"font-weight-bold"},n.createElement(P.A,{id:"react.putAway.expiry.label",defaultMessage:"Expiry"}),":",this.props.putawayItem.inventoryItem.expirationDate?this.props.formatLocalizedDate(this.props.putawayItem.inventoryItem.expirationDate,v.A.COMMON):this.props.putawayItem.inventoryItem.expirationDate),n.createElement("div",{className:"font-weight-bold"},n.createElement(P.A,{id:"react.putAway.totalQty.label",defaultMessage:"Total QTY"}),":",this.props.putawayItem.quantity),n.createElement("div",{className:"font-weight-bold"},n.createElement(P.A,{id:"react.putAway.putAwayQty.label",defaultMessage:"Putaway QTY"}),":",this.calculatePutAwayQty())),n.createElement("hr",null),n.createElement("div",{className:"text-center"},n.createElement("table",{className:"table table-striped text-center border"},n.createElement("thead",null,n.createElement("tr",null,n.createElement("th",{"aria-label":"Putaway Bin",className:"py-1"},n.createElement(P.A,{id:"react.putAway.putAwayBin.label",defaultMessage:"Putaway Bin"})),n.createElement("th",{"aria-label":"Quantity",className:"py-1"},n.createElement(P.A,{id:"react.putAway.quantity.label",defaultMessage:"Quantity"})),n.createElement("th",{"aria-label":"Delete",className:"py-1"},n.createElement(P.A,{id:"react.default.button.delete.label",defaultMessage:"Delete"})))),n.createElement("tbody",null,o().map(this.state.splitItems,(function(e,t){return!e.delete&&n.createElement("tr",{key:t},n.createElement("td",{className:"py-1 ".concat(o().get(e,"putawayLocation.id")?"align-middle":"has-error align-middle")},n.createElement(z.A,{options:r.props.bins,valueKey:"id",labelKey:"name",value:e.putawayLocation,onChange:function(e){return r.setState((function(a){return{splitItems:oe()(a.splitItems,he({},t,{putawayLocation:{$set:e}}))}}))},className:"select-xs"})),n.createElement("td",{className:"py-1 align-middle"},n.createElement(se.Tooltip,{html:r.getErrorMessage(),disabled:!r.isQuantityGreaterThanOriginalPutaway()&&e.quantity>0,theme:"transparent",arrow:"true",delay:"150",duration:"250",hideDelay:"50"},n.createElement("div",{className:r.isQuantityGreaterThanOriginalPutaway()||e.quantity<=0?"has-error":""},n.createElement(de.A,{type:"number",value:e.quantity,onChange:function(e){return r.setState((function(a){return{splitItems:oe()(a.splitItems,he({},t,{quantity:{$set:e}}))}}))}})))),n.createElement("td",{width:"120px",className:"py-1"},n.createElement("button",{type:"button",className:"btn btn-outline-danger btn-xs",onClick:function(){r.state.splitItems[t].id?r.setState((function(e){return{splitItems:oe()(e.splitItems,he({},t,{delete:{$set:!0}}))}})):r.setState((function(e){return{splitItems:oe()(e.splitItems,{$splice:[[t,1]]})}}))}},n.createElement(P.A,{id:"react.default.button.delete.label",defaultMessage:"Delete"}))))})))),n.createElement("button",{type:"button",className:"btn btn-outline-success btn-xs",onClick:function(){return r.setState((function(e){return{splitItems:oe()(e.splitItems,{$push:[{quantity:"",putawayFacility:{id:r.props.putawayItem.putawayFacility?r.props.putawayItem.putawayFacility.id:null},putawayLocation:{id:null},product:{id:r.props.putawayItem.product.id},inventoryItem:{id:r.props.putawayItem.inventoryItem.id},currentLocation:{id:r.props.putawayItem.currentLocation?r.props.putawayItem.currentLocation.id:null}}]})}}))}},n.createElement(P.A,{id:"react.default.button.addLine.label",defaultMessage:"Add line"}))),n.createElement("hr",null),n.createElement("div",{className:"btn-group float-right",role:"group"},n.createElement("button",{type:"button",className:"btn btn-outline-success btn-sm",disabled:!this.isValid()||!this.isBinSelected(),onClick:function(){return r.onSave()}},n.createElement(P.A,{id:"react.default.button.save.label",defaultMessage:"Save"})),n.createElement("button",{type:"button",className:"btn btn-outline-secondary btn-sm",onClick:function(){return r.closeModal()}},n.createElement(P.A,{id:"react.default.button.cancel.label",defaultMessage:"Cancel"})))))}}])&&ve(a.prototype,r),Object.defineProperty(a,"prototype",{writable:!1}),a;var a,r}(n.Component);const Pe=(0,s.Ng)((function(e){return{translate:(0,P.H)((0,u.ro)(e.localize)),formatLocalizedDate:(0,I.Yq)(e.localize)}}))(Oe);function Ie(e){return Ie="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Ie(e)}function Ne(e){return function(e){if(Array.isArray(e))return xe(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(e){if("string"==typeof e)return xe(e,t);var a={}.toString.call(e).slice(8,-1);return"Object"===a&&e.constructor&&(a=e.constructor.name),"Map"===a||"Set"===a?Array.from(e):"Arguments"===a||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(a)?xe(e,t):void 0}}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function xe(e,t){(null==t||t>e.length)&&(t=e.length);for(var a=0,n=Array(t);a<t;a++)n[a]=e[a];return n}function Ce(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,n)}return a}function ke(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?Ce(Object(a),!0).forEach((function(t){Re(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):Ce(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}function Me(){return Me=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var n in a)({}).hasOwnProperty.call(a,n)&&(e[n]=a[n])}return e},Me.apply(null,arguments)}function je(e,t){for(var a=0;a<t.length;a++){var n=t[a];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,Te(n.key),n)}}function Le(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(e){}return(Le=function(){return!!e})()}function Be(e){return Be=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},Be(e)}function De(e,t){return De=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},De(e,t)}function Re(e,t,a){return(t=Te(t))in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}function Te(e){var t=function(e){if("object"!=Ie(e)||!e)return e;var t=e[Symbol.toPrimitive];if(void 0!==t){var a=t.call(e,"string");if("object"!=Ie(a))return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==Ie(t)?t:t+""}Oe.propTypes={saveSplitItems:l().func.isRequired,putawayItem:l().shape({product:l().shape({id:l().string,productCode:l().string,name:l().string,displayNameOrDefaultName:l().string}),inventoryItem:l().shape({id:l().string,expirationDate:l().string}),quantity:l().oneOfType([l().string,l().number]),putawayFacility:l().shape({id:l().string}),putawayLocation:l().shape({id:l().string,name:l().string,zoneId:l().string,zoneName:l().string}),currentLocation:l().shape({id:l().string})}),splitItems:l().arrayOf(l().shape({})),bins:l().arrayOf(l().shape({})),translate:l().func.isRequired,formatLocalizedDate:l().func.isRequired},Oe.defaultProps={putawayItem:{},splitItems:[],bins:[]};var qe=(0,A.A)(b());function Fe(e,t){return e>t||e<1}var _e=function(e){function t(e){var a;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),Re(a=function(e,t,a){return t=Be(t),function(e,t){if(t&&("object"==Ie(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(e,Le()?Reflect.construct(t,a||[],Be(e).constructor):t.apply(e,a))}(this,t,[e]),"onExpandedChange",(function(e){var t=[];o().forEach(e,(function(e,a){e&&t.push(parseInt(a,10))})),a.setState({expanded:e})})),Re(a,"getColumns",(function(){return[{Header:n.createElement(P.A,{id:"react.putAway.code.label",defaultMessage:"Code"}),accessor:"product.productCode",style:{whiteSpace:"normal"},Filter:E.A},{Header:n.createElement(P.A,{id:"react.putAway.name.label",defaultMessage:"Name"}),accessor:"product",Cell:function(e){var t,a,r,o;return n.createElement(w.n,Me({},e,{value:null===(t=e.value)||void 0===t?void 0:t.displayNameOrDefaultName,tooltip:(null===(a=e.value)||void 0===a?void 0:a.name)!==(null===(r=e.value)||void 0===r?void 0:r.displayNameOrDefaultName),tooltipLabel:null===(o=e.value)||void 0===o?void 0:o.name}))},style:{whiteSpace:"normal"},Filter:E.A},{Header:n.createElement(P.A,{id:"react.putAway.lotSerialNo.label",defaultMessage:"Lot/Serial No."}),accessor:"inventoryItem.lotNumber",style:{whiteSpace:"normal"},Filter:E.A},{Header:n.createElement(P.A,{id:"react.putAway.expiry.label",defaultMessage:"Expiry"}),accessor:"inventoryItem.expirationDate",style:{whiteSpace:"normal"},Cell:function(e){return n.createElement("span",null,null!=e&&e.value?a.props.formatLocalizedDate(e.value,v.A.COMMON):e.value)},Filter:E.A},{Header:n.createElement(P.A,{id:"react.putAway.recipient.label",defaultMessage:"Recipient"}),accessor:"recipient.name",style:{whiteSpace:"normal"},Filter:E.A},{Header:n.createElement(P.A,{id:"react.putAway.qty.label",defaultMessage:"QTY"}),accessor:"quantity",style:{whiteSpace:"normal"},Cell:function(e){var t,r,i,l,u=e.index,s=o().get(a.state.putAway.putawayItems,"[".concat(u,"].edit"));return(null==e?void 0:e.value)<1&&(i=a.props.translate("react.putAway.negativeQuantity.label","Quantity cannot be less than 1")),(null==e?void 0:e.value)>(null===(t=e.original)||void 0===t?void 0:t.quantityAvailable)&&(i=a.props.translate("react.putAway.higherQuantity.label","Quantity cannot be greater than original putaway item quantity")),s?n.createElement(se.Tooltip,{html:i,disabled:!i,theme:"transparent",arrow:"true",delay:"150",duration:"250",hideDelay:"50"},n.createElement("div",{className:Fe(null==e?void 0:e.value,null===(l=e.original)||void 0===l?void 0:l.quantityAvailable)?"has-error":""},n.createElement("input",{type:"number",className:"form-control form-control-xs",value:e.value,onChange:function(e){var t=oe()(a.state.putAway,{putawayItems:Re({},u,{quantity:{$set:e.target.value}})});a.changePutAway(t)}}))):n.createElement(se.Tooltip,{html:i,disabled:!i,theme:"transparent",arrow:"true",delay:"150",duration:"250",hideDelay:"50"},n.createElement("div",{className:Fe(e.value,null===(r=e.original)||void 0===r?void 0:r.quantityAvailable)?"has-error":""},n.createElement("span",null,e.value?e.value.toLocaleString("en-US"):e.value)))},Filter:E.A},{Header:n.createElement(P.A,{id:"react.putAway.preferredBin.label",defaultMessage:"Preferred bin"}),accessor:"preferredBin",style:{whiteSpace:"normal"},Cell:function(e){return n.createElement("div",null,e.value&&e.value.zoneName?n.createElement("div",null,e.value.zoneName,": "):"",n.createElement("div",null,e.value?e.value.name:""))},Filter:E.A},{Header:n.createElement(P.A,{id:"react.putAway.currentBin.label",defaultMessage:"Current bin"}),accessor:"currentBins",style:{whiteSpace:"normal"},Filter:E.A},{Header:n.createElement(P.A,{id:"react.putAway.stockMovement.label",defaultMessage:"Stock Movement"}),accessor:"stockMovement.name",style:{whiteSpace:"normal"},Expander:function(e){var t=e.isExpanded;return n.createElement("span",{className:"ml-2"},n.createElement("div",{className:"rt-expander ".concat(t&&"-open")},"•"))},filterable:!0,Filter:E.A},{Header:n.createElement(P.A,{id:"react.putAway.putAwayBin.label",defaultMessage:"Putaway Bin"}),accessor:"putawayLocation",Cell:function(e){var t=o().get(a.state.putAway.putawayItems,"[".concat(e.index,"].splitItems"));return t&&t.length>0?n.createElement(P.A,{id:"react.putAway.splitLine.label",defaultMessage:"Split line"}):n.createElement(z.A,{options:a.state.bins,valueKey:"id",labelKey:"name",value:o().get(a.state.putAway.putawayItems,"[".concat(e.index,"].").concat(e.column.id))||null,onChange:function(t){return a.changePutAway(oe()(a.state.putAway,{putawayItems:Re({},e.index,{putawayLocation:{$set:t}})}))},className:"select-xs"})},Filter:E.A},{Header:"",accessor:"splitItems",Cell:function(e){return n.createElement("div",{className:"d-flex flex-row flex-wrap"},n.createElement(Pe,{putawayItem:a.state.putAway.putawayItems[e.index],splitItems:o().get(a.state.putAway.putawayItems,"[".concat(e.index,"].").concat(e.column.id)),saveSplitItems:function(t){a.saveSplitItems(t,e.index)},bins:a.state.bins}),n.createElement("button",{type:"button",className:"btn btn-outline-primary btn-xs mr-1 mb-1",onClick:function(){return a.editItem(e.index)}},n.createElement(P.A,{id:"react.default.button.edit.label",defaultMessage:"Edit"})),n.createElement("button",{type:"button",className:"btn btn-outline-danger btn-xs mb-1",onClick:function(){return a.deleteItem(e.index)}},n.createElement(P.A,{id:"react.default.button.delete.label",defaultMessage:"Delete"})))},filterable:!1}]})),Re(a,"dataFetched",!1),Re(a,"toggleTree",(function(){a.state.pivotBy.length?a.setState({pivotBy:[],expanded:{}}):a.setState({pivotBy:["stockMovement.name"],expanded:{}})})),Re(a,"filterMethod",(function(e,t){if(t._aggregated||t._groupedByPivot)return!0;var n=t[e.id];return"putawayLocation"===e.id&&(n=o().get(n,"name")),"product"===e.id&&(n=n?"".concat(n.name," ").concat(n.displayNameOrDefaultName):null),"inventoryItem.expirationDate"===e.id&&(n=a.props.formatLocalizedDate(n,v.A.COMMON)),o().toString(n).toLowerCase().includes(e.value.toLowerCase())})),a.getColumns=a.getColumns.bind(a),a.fetchItems=a.fetchItems.bind(a),a.editItem=a.editItem.bind(a);var r=a.getColumns(),i=a.props.initialValues,l=i.putAway,u=i.pivotBy,s=i.expanded;return a.state={putAway:l||{},columns:r,pivotBy:u||["stockMovement.name"],expanded:s,bins:[],location:a.props.location,sortBy:l&&l.sortBy},a}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&De(e,t)}(t,e),a=t,(r=[{key:"componentDidMount",value:function(){this.props.putAwayTranslationsFetched&&(this.dataFetched=!0,this.fetchBins()),this.fetchPutAway()}},{key:"componentWillReceiveProps",value:function(e){O(this.props.translate,this.state.location,e.location,(function(){window.location="".concat(h.fr.list(),"?orderType=PUTAWAY_ORDER&status=PENDING")})),this.setState((function(t){return{location:t.location.id?t.location:e.location}})),e.putAwayTranslationsFetched&&!this.dataFetched&&(this.dataFetched=!0,this.fetchBins())}},{key:"fetchPutAway",value:function(){var e=this;if(this.props.match.params.putAwayId){this.props.showSpinner();var t="/api/putaways/".concat(this.props.match.params.putAwayId);g.Ay.get(t).then((function(t){var a=(0,g.xp)(t.data.data),n=o().map(a.putawayItems,(function(e){return ke(ke({},e),{},{putawayLocation:e.putawayLocation.id||e.preferredBin.id?{id:e.putawayLocation.id?e.putawayLocation.id:e.preferredBin.id,name:e.putawayLocation.name?e.putawayLocation.name:e.preferredBin.name,zoneId:e.putawayLocation.id?e.putawayLocation.zoneId:e.preferredBin.zoneId,zoneName:e.putawayLocation.id?e.putawayLocation.zoneName:e.preferredBin.zoneName}:null})}));e.props.hideSpinner();var r={};o().forEach(n,(function(e,t){r[t]=!0})),e.setState({expanded:r,putAway:ke(ke({},a),{},{putawayItems:n})})})).catch((function(){return e.props.hideSpinner()}))}}},{key:"fetchBins",value:function(){var e=this;this.props.showSpinner();var t=function(e){return o().chain(e).orderBy(["name"],["asc"]).value()};return g.Ay.get("/api/internalLocations",{paramsSerializer:function(e){return ue.A.stringify(e)},params:{"location.id":this.props.location.id,locationTypeCode:["BIN_LOCATION","INTERNAL"],ignoreActivityCodes:["RECEIVE_STOCK"]}}).then((function(a){var n=o().partition(a.data.data,(function(e){return e.zoneName})),r=o().chain(n[0]).groupBy("zoneName").map((function(e,a){return{name:a,options:t(e)}})).orderBy(["label"],["asc"]).value(),i=t(n[1]);e.setState({bins:[].concat(Ne(r),Ne(i))},(function(){return e.props.hideSpinner()}))})).catch((function(){return e.props.hideSpinner()}))}},{key:"saveSplitItems",value:function(e,t){var a=oe()(this.state.putAway,{putawayItems:Re({},t,{splitItems:{$set:e}})});this.savePutAways(a)}},{key:"savePutAways",value:function(e,t){var a=this;this.props.showSpinner();var n="/api/putaways?location.id=".concat(this.state.location.id);return g.Ay.post(n,(0,g.iR)(e)).then((function(e){var n=(0,g.xp)(e.data.data);a.setState({putAway:n},(function(){a.props.hideSpinner(),t&&t(n)}))})).catch((function(){return a.props.hideSpinner()}))}},{key:"changePutAway",value:function(e){this.setState({putAway:e})}},{key:"editItem",value:function(e){var t=oe()(this.state.putAway,{putawayItems:Re({},e,{edit:{$set:!0},splitItems:{$set:o().map(o().filter(this.state.putAway.putawayItems[e].splitItems,(function(e){return e.id})),(function(e){return ke(ke({},e),{},{delete:!0})}))}})});this.changePutAway(t)}},{key:"deleteItem",value:function(e){var t=this;this.props.showSpinner();var a="/api/putawayItems/".concat(o().get(this.state.putAway.putawayItems,"[".concat(e,"].id")));g.Ay.delete(a).then((function(){var a=oe()(t.state.putAway,{putawayItems:{$splice:[[e,1]]}});t.changePutAway(a),t.props.hideSpinner()})).catch((function(){return t.props.hideSpinner()}))}},{key:"nextPage",value:function(){var e=this;o().some(this.state.putAway.putawayItems,(function(e){return e.quantity>e.quantityAvailable}))?(0,y.ZX)({title:this.props.translate("react.putAway.message.putAwayError.label","Putaway error"),message:this.props.translate("react.putAway.putAwayAlert.message","Cannot put away more than is available in the receiving bin. Reduce quantity of items in red to match the quantity in the receiving bin."),buttons:[{label:this.props.translate("react.default.ok.label","OK")}]}):this.savePutAways(this.state.putAway,(function(t){e.props.nextPage({putAway:t,pivotBy:e.state.pivotBy,expanded:e.state.expanded})}))}},{key:"generatePutAwayList",value:function(){var e=this;this.props.showSpinner();var t=this.state.putAway.putawayNumber;return g.Ay.get((0,ce.RH)(this.state.putAway.id),{responseType:"blob",params:{sortBy:this.state.sortBy}}).then((function(a){le()(a.data,"PutawayReport".concat(t?"-".concat(t):"",".pdf"),"application/pdf"),e.props.hideSpinner()})).catch((function(){return e.props.hideSpinner()}))}},{key:"sortPutawayItems",value:function(){var e=this.state.sortBy;switch(e){case"currentBins":e="preferredBin";break;case"preferredBin":e="";break;default:e="currentBins"}this.setState({sortBy:e}),this.fetchItems(e)}},{key:"fetchItems",value:function(e){var t=this,a="/api/putaways/".concat(this.state.putAway.id,"?sortBy=").concat(e);return g.Ay.get(a).then((function(a){var n=o().map((0,g.xp)(a.data.data.putawayItems),(function(e){return ke(ke({},e),{},{putawayLocation:e.putawayLocation.id||e.preferredBin.id?{id:e.putawayLocation.id?e.putawayLocation.id:e.preferredBin.id,name:e.putawayLocation.name?e.putawayLocation.name:e.preferredBin.name,zoneId:e.putawayLocation.id?e.putawayLocation.zoneId:e.preferredBin.zoneId,zoneName:e.putawayLocation.id?e.putawayLocation.zoneName:e.preferredBin.zoneName}:null})}));t.changePutAway(ke(ke({},t.state.putAway),{},{sortBy:e,putawayItems:n}))})).catch((function(){return t.props.hideSpinner()}))}},{key:"render",value:function(){var e=this,t=this.onExpandedChange,a=this.toggleTree,r=this.state,i=r.columns,l=r.pivotBy,u=r.expanded,s=r.sortBy,c={pivotBy:l,expanded:u,onExpandedChange:t};return n.createElement("div",{className:"putaway"},n.createElement("div",{className:"d-flex justify-content-between mb-2 putaway-buttons"},n.createElement("div",null,n.createElement(P.A,{id:"react.putAway.showBy.label",defaultMessage:"Show by"}),":",n.createElement("button",{type:"button",className:"btn btn-primary ml-2 btn-xs","data-toggle":"button","aria-pressed":"false",onClick:a},l&&l.length?n.createElement(P.A,{id:"react.putAway.stockMovement.label",defaultMessage:"Stock Movement"}):n.createElement(P.A,{id:"react.putAway.product.label",defaultMessage:"Product"}))),n.createElement("span",{className:"buttons-container classic-form-buttons"},n.createElement("button",{type:"button",onClick:function(){return e.savePutAways(e.state.putAway,(function(){return e.sortPutawayItems()}))},className:"btn btn-outline-secondary btn-xs mr-3"},n.createElement("span",null,this.props.translate("react.putAway.".concat(s?"currentBins"===s?"sortByPreferredBin":"originalOrder":"sortByCurrentBins",".label"),s?"currentBins"===s?"Sort by preferred bin":"Original order":"Sort by current bins"))),n.createElement("button",{type:"button",className:"btn btn-outline-secondary btn-xs mr-3",onClick:function(){return e.savePutAways(e.state.putAway,(function(){return e.generatePutAwayList()}))}},n.createElement("span",null,n.createElement("i",{className:"fa fa-print pr-2"}),n.createElement(P.A,{id:"react.putAway.generateList.label",defaultMessage:"Generate Putaway list"}))),n.createElement("button",{type:"button",onClick:function(){return e.savePutAways(e.state.putAway)},className:"btn btn-outline-secondary btn-xs",disabled:o().some(this.state.putAway.putawayItems,(function(e){return Fe(e.quantity,e.quantityAvailable)}))},n.createElement(P.A,{id:"react.default.button.save.label",defaultMessage:"Save"})))),this.state.putAway.putawayItems?n.createElement(qe,Me({data:this.state.putAway.putawayItems,columns:i,ref:function(t){e.selectTable=t},className:"-striped -highlight"},c,{defaultPageSize:Number.MAX_SAFE_INTEGER,minRows:0,showPaginationBottom:!1,filterable:!0,defaultFilterMethod:this.filterMethod})):null,n.createElement("div",{className:"submit-buttons"},n.createElement("button",{disabled:o().some(this.state.putAway.putawayItems,(function(e){return Fe(e.quantity,e.quantityAvailable)})),type:"button",onClick:function(){return e.nextPage()},className:"btn btn-outline-primary btn-form float-right btn-xs"},n.createElement(P.A,{id:"react.default.button.next.label",defaultMessage:"Next"}))))}}])&&je(a.prototype,r),Object.defineProperty(a,"prototype",{writable:!1}),a;var a,r}(n.Component);const ze=(0,s.Ng)((function(e){return{translate:(0,P.H)((0,u.ro)(e.localize)),formatLocalizedDate:(0,I.Yq)(e.localize),putAwayTranslationsFetched:e.session.fetchedTranslations.putAway}}),{showSpinner:p.xc,hideSpinner:p.W$})(_e);_e.defaultProps={original:{}},_e.propTypes={showSpinner:l().func.isRequired,hideSpinner:l().func.isRequired,nextPage:l().func.isRequired,translate:l().func.isRequired,initialValues:l().shape({putAway:l().arrayOf(l().shape({})),pivotBy:l().arrayOf(l().shape({})),expanded:l().arrayOf(l().shape({}))}).isRequired,original:l().shape({quantityAvailable:l().number}),match:l().shape({params:l().shape({putAwayId:l().string})}).isRequired,location:l().shape({id:l().string}).isRequired,putAwayTranslationsFetched:l().bool.isRequired,formatLocalizedDate:l().func.isRequired};var He=a(80461);function Qe(e){return Qe="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Qe(e)}function Ve(e,t){for(var a=0;a<t.length;a++){var n=t[a];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,$e(n.key),n)}}function Ue(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(e){}return(Ue=function(){return!!e})()}function Ye(e){return Ye=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},Ye(e)}function We(e,t){return We=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},We(e,t)}function $e(e){var t=function(e){if("object"!=Qe(e)||!e)return e;var t=e[Symbol.toPrimitive];if(void 0!==t){var a=t.call(e,"string");if("object"!=Qe(a))return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==Qe(t)?t:t+""}var Ge=function(e){function t(e){var a,n,r,o;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),a=function(e,t,a){return t=Ye(t),function(e,t){if(t&&("object"==Qe(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(e,Ue()?Reflect.construct(t,a||[],Ye(e).constructor):t.apply(e,a))}(this,t,[e]),n=a,o=!1,(r=$e(r="dataFetched"))in n?Object.defineProperty(n,r,{value:o,enumerable:!0,configurable:!0,writable:!0}):n[r]=o,a.state={page:e.match.params.putAwayId?2:1,putAway:{}},a.updateWizardValues=a.updateWizardValues.bind(a),a}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&We(e,t)}(t,e),a=t,(r=[{key:"componentDidMount",value:function(){this.props.fetchTranslations("","putAway"),this.props.putAwayTranslationsFetched&&(this.dataFetched=!0,this.fetchPutAway())}},{key:"componentWillReceiveProps",value:function(e){this.props.locale&&this.props.locale!==e.locale&&this.props.fetchTranslations(e.locale,"putAway"),e.putAwayTranslationsFetched&&!this.dataFetched&&(this.dataFetched=!0,this.fetchPutAway())}},{key:"stepList",get:function(){return[this.props.translate("react.putAway.createPutAway.label","Create Putaway"),this.props.translate("react.putAway.startPutAway.label","Start Putaway"),this.props.translate("react.putAway.completePutAway.label","Complete Putaway")]}},{key:"wizardTitle",get:function(){var e,t=this.state.putAway;return null!=t&&null!==(e=t.putAway)&&void 0!==e&&e.putawayNumber?[{text:this.props.translate("react.putAway.putAway.label","Putaway"),color:"#000000",delimeter:" | "},{text:t.putAway.putawayNumber,color:"#000000",delimeter:""}]:[]}},{key:"updateWizardValues",value:function(e,t){this.setState({page:e,putAway:t})}},{key:"fetchPutAway",value:function(){var e=this;if(this.props.match.params.putAwayId){this.props.showSpinner();var t="/api/putaways/".concat(this.props.match.params.putAwayId);g.Ay.get(t).then((function(t){var a=(0,g.xp)(t.data.data);e.props.hideSpinner(),e.setState({putAway:{putAway:a},page:"COMPLETED"===a.putawayStatus?3:2})})).catch((function(){return e.props.hideSpinner()}))}}},{key:"render",value:function(){var e=this.state,t=e.page,a=e.putAway,r=this.props,i=r.location,l=r.history,u=r.match,s=i.id,c=[ne,ze,F];return o().get(i,"id")?n.createElement(He.A,{pageList:c,stepList:this.stepList,initialValues:a,title:this.wizardTitle,currentPage:t,prevPage:1===t?1:t-1,updateWizardValues:this.updateWizardValues,additionalProps:{locationId:s,location:i,history:l,match:u}}):null}}])&&Ve(a.prototype,r),Object.defineProperty(a,"prototype",{writable:!1}),a;var a,r}(n.Component);const Ke=(0,c.withRouter)((0,s.Ng)((function(e){return{location:e.session.currentLocation,locale:e.session.activeLanguage,putAwayTranslationsFetched:e.session.fetchedTranslations.putAway,translate:(0,P.H)((0,u.ro)(e.localize))}}),{showSpinner:p.xc,hideSpinner:p.W$,fetchTranslations:p.dj})(Ge));Ge.propTypes={location:l().shape({id:l().string}).isRequired,locale:l().string.isRequired,putAwayTranslationsFetched:l().bool.isRequired,fetchTranslations:l().func.isRequired,translate:l().func.isRequired,showSpinner:l().func.isRequired,hideSpinner:l().func.isRequired,match:l().shape({params:l().shape({putAwayId:l().string})}).isRequired,history:l().shape({push:l().func}).isRequired}},40910:(e,t,a)=>{"use strict";a.d(t,{A:()=>s});var n=a(96540),r=a(5556),o=a.n(r),i=["fieldRef","onChange","className","arrowLeft","arrowUp","arrowRight","arrowDown","copyDown","onTabPress","isFormElement"];function l(){return l=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var n in a)({}).hasOwnProperty.call(a,n)&&(e[n]=a[n])}return e},l.apply(null,arguments)}var u=function(e){var t=e.fieldRef,a=e.onChange,r=e.className,o=void 0===r?"":r,u=e.arrowLeft,s=e.arrowUp,c=e.arrowRight,p=e.arrowDown,y=e.copyDown,d=e.onTabPress,f=e.isFormElement,m=function(e,t){if(null==e)return{};var a,n,r=function(e,t){if(null==e)return{};var a={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(-1!==t.indexOf(n))continue;a[n]=e[n]}return a}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(n=0;n<o.length;n++)a=o[n],-1===t.indexOf(a)&&{}.propertyIsEnumerable.call(e,a)&&(r[a]=e[a])}return r}(e,i),b={};return n.createElement("input",l({"data-testid":"input",type:"text",ref:t,onKeyPress:function(e){13===e.which&&e.preventDefault()},onKeyDown:function(e){b[e.keyCode]=!0,b[40]&&b[17]?y&&(y(),e.preventDefault()):b[37]?u&&(u(),e.preventDefault()):b[38]?s&&(s(),e.preventDefault()):b[39]?c&&(c(),e.preventDefault()):b[40]?p&&(p(),e.preventDefault()):b[9]&&d&&d(e)},onKeyUp:function(e){b={};var t=e.target.value;a(t)},className:"".concat(f?"form-control form-control-xs":""," ").concat(o," ").concat("number"===m.type?"text-right mr-2":"")},m,{onChange:function(e){var t=e.target.value;return a&&a(t),e},onFocus:function(e){return e.target.select()},onDragStart:function(e){e.preventDefault()},onWheel:function(){return document.activeElement.blur()}}))};const s=u;u.propTypes={onChange:o().func,className:o().string,arrowLeft:o().func,arrowUp:o().func,arrowRight:o().func,arrowDown:o().func,copyDown:o().func,fieldRef:o().func,onTabPress:o().func,isFormElement:o().bool},u.defaultProps={onChange:null,className:"",arrowLeft:null,arrowUp:null,arrowRight:null,arrowDown:null,copyDown:null,fieldRef:null,onTabPress:null,isFormElement:!1}}}]);
//# sourceMappingURL=bundle.929af1b45eb780bfc503.4130.js.map