"use strict";(self.webpackChunkopenboxes=self.webpackChunkopenboxes||[]).push([[3341],{1001:(e,n,t)=>{t.d(n,{A:()=>a});const a={XLS:"application/vnd.ms-excel",PDF:"application/pdf"}},11209:(e,n,t)=>{t.d(n,{A:()=>o});var a=t(96540);function r(e,n){(null==n||n>e.length)&&(n=e.length);for(var t=0,a=Array(n);t<n;t++)a[t]=e[t];return a}const o=function(){var e,n,t=(e=(0,a.useState)({}),n=2,function(e){if(Array.isArray(e))return e}(e)||function(e,n){var t=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=t){var a,r,o,l,i=[],u=!0,s=!1;try{if(o=(t=t.call(e)).next,0===n){if(Object(t)!==t)return;u=!1}else for(;!(u=(a=o.call(t)).done)&&(i.push(a.value),i.length!==n);u=!0);}catch(e){s=!0,r=e}finally{try{if(!u&&null!=t.return&&(l=t.return(),Object(l)!==l))return}finally{if(s)throw r}}return i}}(e,n)||function(e,n){if(e){if("string"==typeof e)return r(e,n);var t={}.toString.call(e).slice(8,-1);return"Object"===t&&e.constructor&&(t=e.constructor.name),"Map"===t||"Set"===t?Array.from(e):"Arguments"===t||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t)?r(e,n):void 0}}(e,n)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}())[1];return{forceRerender:function(){t({})}}}},14044:(e,n,t)=>{t.d(n,{Tz:()=>a,Wg:()=>r,in:()=>l,v0:()=>o});var a="ALL_PRODUCTS",r="TO_COUNT",o="TO_RESOLVE",l="TO_APPROVE"},19622:(e,n,t)=>{t.d(n,{A:()=>a});const a={EXPIRATION_DATE:"inventoryItem.expirationDate",QUANTITY_COUNTED:"quantityCounted",QUANTITY_RECOUNTED:"quantityRecounted",BIN_LOCATION:"binLocation",ROOT_CAUSE:"rootCause",COMMENT:"comment",LOT_NUMBER:"inventoryItem.lotNumber",COUNT_DIFFERENCE:"countDifference",RECOUNT_DIFFERENCE:"recountDifference",ACTIONS:"actions",SELECTED:"selected",DATE_LAST_COUNTED:"dateLastCount",PRODUCT:"product",CATEGORY_NAME:"category.name",CATEGORY:"category",INTERNAL_LOCATIONS:"internalLocations",TAGS:"tags",PRODUCT_CATALOGS:"productCatalogs",ABC_CLASS:"abcClass",QUANTITY_ON_HAND:"quantityOnHand",STATUS:"status"}},20531:(e,n,t)=>{t.d(n,{A:()=>u});var a=t(96540),r=t(2543),o=t.n(r),l=t(15516);function i(e,n){(null==n||n>e.length)&&(n=e.length);for(var t=0,a=Array(n);t<n;t++)a[t]=e[t];return a}const u=function(e){var n=(0,l.A)(),t=o().groupBy(e,(function(e){return e.zoneId||"no-zone"}));return Object.entries(t).map((function(e){var t,r,o=(r=2,function(e){if(Array.isArray(e))return e}(t=e)||function(e,n){var t=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=t){var a,r,o,l,i=[],u=!0,s=!1;try{if(o=(t=t.call(e)).next,0===n){if(Object(t)!==t)return;u=!1}else for(;!(u=(a=o.call(t)).done)&&(i.push(a.value),i.length!==n);u=!0);}catch(e){s=!0,r=e}finally{try{if(!u&&null!=t.return&&(l=t.return(),Object(l)!==l))return}finally{if(s)throw r}}return i}}(t,r)||function(e,n){if(e){if("string"==typeof e)return i(e,n);var t={}.toString.call(e).slice(8,-1);return"Object"===t&&e.constructor&&(t=e.constructor.name),"Map"===t||"Set"===t?Array.from(e):"Arguments"===t||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t)?i(e,n):void 0}}(t,r)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()),l=o[0],u=o[1],s=u[0].zoneName||n("react.cycleCount.noZone","No Zone");return{id:"zone-".concat(l),name:s,label:a.createElement("span",{className:"zone-label"},s),isDisabled:!0,options:u.map((function(e){return{id:e.id,name:e.name,label:e.name,value:e.id}})).sort((function(e,n){return e.name.localeCompare(n.name)}))}})).sort((function(e,n){return"no-zone"===e.id?1:"no-zone"===n.id?-1:e.name.localeCompare(n.name)}))}},34860:(e,n,t)=>{t.d(n,{A:()=>u});var a=t(96540),r=t(5556),o=t.n(r),l=t(42164),i=function(e){var n=e.back,t=e.save,r=e.isSaveDisabled,o=e.setIsSaveDisabled;return a.createElement("div",{className:"confirm-step-header"},a.createElement(l.A,{onClick:n,label:"react.default.button.back.label",defaultLabel:"Back",variant:"primary-outline"}),a.createElement(l.A,{onClick:function(){o(!0),t()},label:"react.default.button.save.label",defaultLabel:"Save",variant:"primary",disabled:r}))};const u=i;i.propTypes={back:o().func.isRequired,save:o().func.isRequired,isSaveDisabled:o().bool.isRequired,setIsSaveDisabled:o().func.isRequired}},44088:(e,n,t)=>{t.d(n,{A:()=>a});const a={CSV:"csv",XLS:"xls",PDF:"pdf"}},50563:(e,n,t)=>{t.d(n,{A:()=>o});var a=t(697),r=t(8949);const o=function(){var e=(0,a.wA)();return{show:function(){return e((0,r.xc)())},hide:function(){return e((0,r.W$)())}}}},52725:(e,n,t)=>{t.d(n,{A:()=>i});const a="ArrowUp",r="ArrowDown",o="ArrowLeft",l="ArrowRight",i=function(e){var n=e.newRowFocusableCells,t=e.existingRowFocusableCells,i=e.tableData,u=e.setColumnId,s=e.setRowIndex,c=e.addNewRow,d=e.isNewRow,m=e.onBlur;return{handleKeyDown:function(e,f,p){var v=e.key;if(v===a){var g=t.includes(p);f>0&&(g||d(i[f-1]))&&(s(f-1),u(p)),m(),e.preventDefault(),e.stopPropagation()}if(v===r&&(f<i.length-1&&(s(f+1),u(p)),m(),e.preventDefault(),e.stopPropagation()),v===l){var b=function(e,a){var r=n.indexOf(e),o=n.slice(r+1),l=i[a+1];return o.some((function(e){return t.includes(e)}))?d(i[a])?{newColumnId:n[r+1],newRowIndex:a}:{newColumnId:t[t.indexOf(e)+1],newRowIndex:a}:l?d(l)?{newColumnId:n[0],newRowIndex:a+1}:{newColumnId:t[0],newRowIndex:a+1}:(c(),{newColumnId:n[0],newRowIndex:a+1})}(p,f),y=b.newColumnId,h=b.newRowIndex;u(y),s(h),m()}if(v===o){var C=function(e,a){var r=n.indexOf(e),o=n.slice(0,r).reverse(),l=i[a-1],u=n[r-1],s=a,c=o.some((function(e){return t.includes(e)}))||d(i[a]);if(0===r||!c){if(!l)return{newColumnId:e,newRowIndex:a};s=a-1,u=d(l)||null===o.id?n[n.length-1]:t[t.length-1]}return t.includes(u)||d(i[s])||(u=o.find((function(e){return t.includes(e)}))),{newColumnId:u,newRowIndex:s}}(p,f),E=C.newColumnId,R=C.newRowIndex;u(E),s(R),m()}}}}},55216:(e,n,t)=>{t.d(n,{A:()=>m,k:()=>f});var a=t(5419),r=t.n(a),o=t(38798),l=t(1001),i=t(43256);function u(e){return u="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},u(e)}function s(e,n){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);n&&(a=a.filter((function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable}))),t.push.apply(t,a)}return t}function c(e){for(var n=1;n<arguments.length;n++){var t=null!=arguments[n]?arguments[n]:{};n%2?s(Object(t),!0).forEach((function(n){d(e,n,t[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):s(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}))}return e}function d(e,n,t){return(n=function(e){var n=function(e){if("object"!=u(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var t=n.call(e,"string");if("object"!=u(t))return t;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==u(n)?n:n+""}(n))in e?Object.defineProperty(e,n,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[n]=t,e}const m=function(e){var n=e.url,t=e.params,a=e.format,u=void 0===a?"csv":a,s=e.filename,d=e.afterExporting;return i.Ay.get(n,{responseType:"blob",params:c({format:u},t),paramsSerializer:o.A.stringify}).then((function(e){var n=e.headers["content-disposition"].split("filename=")[1].replaceAll('"',"").split(".")[0],t=s||n||"file";return r()(e.data,"".concat(t,".").concat(u),l.A[u]),null==d||d(),e}))};var f=function(e){var n;return e?null===(n=e.split("filename=")[1])||void 0===n||null===(n=n.split(";")[0])||void 0===n?void 0:n.replaceAll('"',""):null}},56934:(e,n,t)=>{t.d(n,{A:()=>r});var a=t(96540);const r=function(e){var n=e.label,t=e.value,r=e.className;return a.createElement("div",{className:"pt-3 d-flex align-items-center ".concat(r)},a.createElement("div",{className:"d-flex header-container mb-2"},a.createElement("p",{className:"count-step-label count-step-label-select mr-2 mt-2"},n,a.createElement("span",{className:"count-step-value ml-1"},t))))}},62326:(e,n,t)=>{t.d(n,{A:()=>E});var a=t(96540),r=t(5556),o=t.n(r),l=t(1530),i=t(36856),u=t(15516),s=function(e){var n=e.defaultMessage,t=e.label,r=e.shouldDisplay,o=(0,u.A)();return r?a.createElement("div",{className:"rt-noData"},o(t,n)):null};const c=s;s.propTypes={defaultMessage:o().string.isRequired,label:o().string.isRequired,shouldDisplay:o().bool},s.defaultProps={shouldDisplay:!1};var d=function(e){var n=e.emptyTableMessage,t=e.loadingMessage,r=e.defaultLoadingTableMessage,o=e.defaultEmptyTableMessage,u=e.loading,s=e.rowModel,d=e.dataLength;return a.createElement("div",{className:"rt-tbody"},a.createElement(c,{label:(null==n?void 0:n.id)||o.id,defaultMessage:(null==n?void 0:n.defaultMessage)||o.defaultMessage,shouldDisplay:!d&&!u}),a.createElement(c,{label:(null==t?void 0:t.id)||r.id,defaultMessage:(null==t?void 0:t.defaultMessage)||r.defaultMessage,shouldDisplay:u}),d>0&&!u&&s.rows.map((function(e){return a.createElement("div",{key:e.id,className:"rt-tr-group cell-wrapper",role:"rowgroup"},a.createElement(i.A,{key:e.id,className:"rt-tr"},e.getVisibleCells().map((function(e){var n,t,r,o;if(null!==(n=e.column.columnDef)&&void 0!==n&&null!==(n=n.meta)&&void 0!==n&&n.hide)return null;var i=null===(t=e.column.columnDef)||void 0===t||null===(t=t.meta)||void 0===t||null===(r=t.getCellContext)||void 0===r||null===(r=r.call(t))||void 0===r?void 0:r.className,u=(null===(o=e.column.columnDef.meta)||void 0===o?void 0:o.flexWidth)||1;return a.createElement("div",{className:"d-flex ".concat(i),style:{flex:u},key:e.id},(0,l.Kv)(e.column.columnDef.cell,e.getContext()))}))))})))};const m=d;d.propTypes={emptyTableMessage:o().shape({id:o().string.isRequired,defaultMessage:o().string.isRequired}),loadingMessage:o().shape({id:o().string.isRequired,defaultMessage:o().string.isRequired}),defaultLoadingTableMessage:o().shape({id:o().string.isRequired,defaultMessage:o().string.isRequired}).isRequired,defaultEmptyTableMessage:o().shape({id:o().string.isRequired,defaultMessage:o().string.isRequired}).isRequired,loading:o().bool,rowModel:o().shape({rows:o().arrayOf(o().shape({})).isRequired}).isRequired,dataLength:o().number.isRequired},d.defaultProps={emptyTableMessage:null,loadingMessage:null,loading:!1};var f=t(75166),p=function(e){var n=e.footerComponent,t=e.pagination,r=e.onPageChange,o=e.onPageSizeChange,l=e.canPrevious,i=e.canNext,u=e.pages,s=e.pageSizeSelectOptions,c=e.totalData;return a.createElement(a.Fragment,null,n&&a.createElement("div",{className:"table-footer"},n()),a.createElement("div",{className:"pagination-bottom"},a.createElement(f.A,{page:t.pageIndex,onPageChange:r,onPageSizeChange:o,pageSize:t.pageSize,totalData:c,resolvedData:[],canPrevious:l(),canNext:i(),pages:u,pageSizeOptions:s,className:"table-pagination-bottom"})))};const v=p;p.propTypes={footerComponent:o().func,pagination:o().shape({pageSize:o().number.isRequired,pageIndex:o().number.isRequired}).isRequired,onPageChange:o().func.isRequired,onPageSizeChange:o().func.isRequired,canPrevious:o().func.isRequired,canNext:o().func.isRequired,pages:o().number.isRequired,totalData:o().number.isRequired,pageSizeSelectOptions:o().arrayOf(o().number).isRequired},p.defaultProps={footerComponent:null};var g=function(e){var n=e.headerGroups;return a.createElement("div",{className:"rt-thead -header"},a.createElement("div",{className:"rt-tr"},n.map((function(e){return e.headers.map((function(e){var n,t,r,o;if(null!==(n=e.column.columnDef)&&void 0!==n&&null!==(n=n.meta)&&void 0!==n&&n.hide)return null;var i=null===(t=e.column.columnDef.meta)||void 0===t||null===(r=t.getCellContext)||void 0===r?void 0:r.call(t).className,u=(null===(o=e.column.columnDef.meta)||void 0===o?void 0:o.flexWidth)||1;return a.createElement("div",{style:{flex:u},className:"header-cell ".concat(null!=i?i:""),key:e.id},(0,l.Kv)(e.column.columnDef.header,e.getContext()))}))}))))};const b=g;g.propTypes={headerGroups:o().arrayOf(o().shape({})).isRequired};var y=t(33888);function h(){return h=Object.assign?Object.assign.bind():function(e){for(var n=1;n<arguments.length;n++){var t=arguments[n];for(var a in t)({}).hasOwnProperty.call(t,a)&&(e[a]=t[a])}return e},h.apply(null,arguments)}var C=function(e){var n=e.columns,t=e.data,r=e.footerComponent,o=e.loading,i=e.loadingMessage,u=e.emptyTableMessage,s=e.totalCount,c=e.filterParams,d=e.paginationProps,f=e.disablePagination,p=function(e){var n=e.columns,t=e.data,a=e.defaultColumn,r=e.meta;return{defaultEmptyTableMessage:{id:"react.default.table.emptyTable.label",defaultMessage:"No rows match the given criteria"},defaultLoadingTableMessage:{id:"react.default.loading.label",defaultMessage:"Loading..."},table:(0,l.N4)({columns:n,data:t,defaultColumn:a,getCoreRowModel:(0,y.HT)(),manualFiltering:!0,manualPagination:!0,manualSorting:!0,meta:r})}}({defaultColumn:e.defaultColumn,meta:e.meta,columns:n,data:t,totalCount:s,filterParams:c}),g=p.defaultEmptyTableMessage,C=p.defaultLoadingTableMessage,E=p.table,R=Boolean((null==t?void 0:t.length)&&!o)&&!f;return a.createElement("div",{className:"app-react-table-wrapper table-v2"},a.createElement("div",{className:"ReactTable app-react-table"},a.createElement("div",{className:"rt-table",role:"grid"},a.createElement(b,{headerGroups:E.getHeaderGroups()}),a.createElement(m,{emptyTableMessage:u,loadingMessage:i,defaultLoadingTableMessage:C,defaultEmptyTableMessage:g,loading:o,rowModel:E.getRowModel(),dataLength:null==t?void 0:t.length}),R&&a.createElement(v,h({footerComponent:r,totalData:s},d)))))};const E=C;C.propTypes={columns:o().arrayOf(o().shape({})).isRequired,data:o().arrayOf(o().shape({})).isRequired,footerComponent:o().func,loading:o().bool,loadingMessage:o().shape({id:o().string.isRequired,defaultMessage:o().string.isRequired}),emptyTableMessage:o().shape({id:o().string.isRequired,defaultMessage:o().string.isRequired}),totalCount:o().number,filterParams:o().shape({}).isRequired,disablePagination:o().bool,paginationProps:o().shape({})},C.defaultProps={footerComponent:null,loading:!1,loadingMessage:null,emptyTableMessage:null,paginationProps:{},disablePagination:!1,totalCount:0}},79352:(e,n,t)=>{t.d(n,{A:()=>c});var a=t(96540),r=t(5556),o=t.n(r),l=t(41357),i=t(84976),u=t(26216),s=function(e){var n=e.className,t=e.label,r=e.defaultMessage,o=e.redirectTo,s=(0,i.useHistory)();return a.createElement("div",{role:"presentation",onClick:function(){return s.push(o)},className:"redirect-button d-flex align-items-center ".concat(n)},a.createElement("span",null,a.createElement(l.vMW,null),a.createElement(u.A,{id:t,defaultMessage:r})))};const c=s;s.propTypes={className:o().string,label:o().string.isRequired,defaultMessage:o().string.isRequired,redirectTo:o().string.isRequired},s.defaultProps={className:""}},82486:(e,n,t)=>{t.d(n,{A:()=>r});var a=t(96540);const r=function(e){var n=e.label,t=e.children,r=e.className;return a.createElement("div",{className:"d-flex header-container ".concat(r)},a.createElement("span",{className:"count-step-label count-step-label-select mr-2 mt-2"},n)," ",t)}},85728:(e,n,t)=>{t.d(n,{Wx:()=>l,qu:()=>r,xY:()=>o});var a=t(76477),r=function(e,n,t){return e===n&&!t.includes(a.A.MANAGE_INVENTORY)&&t.includes(a.A.SUBMIT_REQUEST)},o=function(e,n){return null==e?void 0:e.includes(n)},l=function(e){return o(e,a.A.PUTAWAY_STOCK)&&o(e,a.A.PICK_STOCK)}},88463:(e,n,t)=>{t.d(n,{A:()=>s});var a=t(2543),r=t.n(a),o=t(95093),l=t.n(o),i=t(14476),u=t(15516);const s=function(e){var n=e.tableData,t=(0,u.A)();return{checkDuplicatedLotNumber:function(e,a){e.forEach((function(e,o){var l,u,s,c,d=null===(l=r().find(n.current,(function(n){return r().find(n.cycleCountItems,(function(n){return(null==n?void 0:n.id)===(null==e?void 0:e.id)}))})))||void 0===l?void 0:l.cycleCountItems;(null===(c=r().groupBy(d,(function(e){var n,t;return"".concat(null==e||null===(n=e.binLocation)||void 0===n?void 0:n.id,"-").concat(null==e||null===(t=e.inventoryItem)||void 0===t?void 0:t.lotNumber)}))["".concat(null==e||null===(u=e.binLocation)||void 0===u?void 0:u.id,"-").concat(null==e||null===(s=e.inventoryItem)||void 0===s?void 0:s.lotNumber)])||void 0===c?void 0:c.length)>1&&(a.addIssue({code:i.z.ZodIssueCode.custom,message:t("react.cycleCount.duplicatedRow.label","Duplicate rows for this inventory item."),path:[o,"binLocation"]}),a.addIssue({code:i.z.ZodIssueCode.custom,message:t("react.cycleCount.duplicatedRow.label","Duplicate rows for this inventory item."),path:[o,"inventoryItem.lotNumber"]}))}))},checkProductsWithLotAndExpiryControl:function(e,a){e.forEach((function(e,o){var l,u,s,c;if(null!=e&&e.id.includes("newRow")){var d=null===(l=r().find(n.current,(function(n){return r().find(n.cycleCountItems,(function(n){return(null==n?void 0:n.id)===(null==e?void 0:e.id)}))})))||void 0===l?void 0:l.cycleCountItems,m=null==d||null===(u=d[0])||void 0===u||null===(u=u.product)||void 0===u?void 0:u.lotAndExpiryControl;!m||null!=e&&null!==(s=e.inventoryItem)&&void 0!==s&&s.lotNumber||a.addIssue({code:i.z.ZodIssueCode.custom,message:t("react.cycleCount.requiredLotAndExpirationDate.label","Lot number and expiry date are required."),path:[o,"inventoryItem.lotNumber"]}),!m||null!=e&&null!==(c=e.inventoryItem)&&void 0!==c&&c.expirationDate||a.addIssue({code:i.z.ZodIssueCode.custom,message:t("react.cycleCount.requiredLotAndExpirationDate.label","Lot number and expiry date are required."),path:[o,"inventoryItem.expirationDate"]})}}))},checkDifferentExpirationDatesForTheSameLot:function(e,a){e.forEach((function(e,o){var u,s,c=null===(u=r().find(n.current,(function(n){return r().find(n.cycleCountItems,(function(n){return(null==n?void 0:n.id)===(null==e?void 0:e.id)}))})))||void 0===u?void 0:u.cycleCountItems,d=r().groupBy(c,(function(e){var n;return null==e||null===(n=e.inventoryItem)||void 0===n?void 0:n.lotNumber}))[null==e||null===(s=e.inventoryItem)||void 0===s?void 0:s.lotNumber].map((function(e){var n,t=null==e||null===(n=e.inventoryItem)||void 0===n?void 0:n.expirationDate;return null==t?null:l().utc(t)}));r().uniqWith(d,(function(e,n){return null===e?null===n:e.isSame(n)})).length>1&&a.addIssue({code:i.z.ZodIssueCode.custom,message:t("react.cycleCount.multipleExpirationDates.label","Multiple expiry dates for this lot/batch."),path:[o,"inventoryItem.expirationDate"]})}))},checkLotNumberRequireness:function(e){var n,t;return(null==e||null===(n=e.inventoryItem)||void 0===n?void 0:n.lotNumber)||!(null!=e&&null!==(t=e.inventoryItem)&&void 0!==t&&t.expirationDate)}}}}}]);
//# sourceMappingURL=bundle.929af1b45eb780bfc503.3341.js.map