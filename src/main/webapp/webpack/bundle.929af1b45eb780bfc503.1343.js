(self.webpackChunkopenboxes=self.webpackChunkopenboxes||[]).push([[1343],{5419:e=>{e.exports=function(e,t,n,r){var i=new Blob(void 0!==r?[r,e]:[e],{type:n||"application/octet-stream"});if(void 0!==window.navigator.msSaveBlob)window.navigator.msSaveBlob(i,t);else{var a=window.URL&&window.URL.createObjectURL?window.URL.createObjectURL(i):window.webkitURL.createObjectURL(i),o=document.createElement("a");o.style.display="none",o.href=a,o.setAttribute("download",t),void 0===o.download&&o.setAttribute("target","_blank"),document.body.appendChild(o),o.click(),setTimeout((function(){document.body.removeChild(o),window.URL.revokeObjectURL(a)}),200)}}},13077:(e,t,n)=>{"use strict";n.d(t,{A:()=>g});var r=n(96540),i=n(5556),a=n.n(i),o=n(697),l=n(51836),u=n(24178),c=n(88024),s=n(66792),p=["onExactProductSelected","locationId","fieldRef","includeUom"];function f(){return f=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},f.apply(null,arguments)}function d(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,i,a,o,l=[],u=!0,c=!1;try{if(a=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;u=!1}else for(;!(u=(r=a.call(n)).done)&&(l.push(r.value),l.length!==t);u=!0);}catch(e){c=!0,i=e}finally{try{if(!u&&null!=n.return&&(o=n.return(),Object(o)!==o))return}finally{if(c)throw i}}return l}}(e,t)||function(e,t){if(e){if("string"==typeof e)return m(e,t);var n={}.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?m(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function m(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}var b=function(e){var t=e.productCode,n=e.displayName,r=e.displayNames,i=e.name;return"".concat(t," - ").concat(n||(null==r?void 0:r.default)||i)},v=function(e){var t;return r.createElement(l.Tooltip,{html:r.createElement("div",{className:"text-truncate"},e.name),theme:"transparent",disabled:!(e.displayName||null!==(t=e.displayNames)&&void 0!==t&&t.default),position:"top-start"},r.createElement("strong",{style:{color:e.color||"black"},className:"d-flex align-items-center"},e.label||b(e),"Â ",(0,c.A)(e.handlingIcons)))},h=function(e){return r.createElement("span",{className:"d-flex align-items-center"},r.createElement("span",{style:{color:e.showSelectedOptionColor&&e.color},className:"text-truncate"},e.label||b(e)),(0,c.A)(null==e?void 0:e.handlingIcons))},y=function(e){var t=e.onExactProductSelected,n=e.locationId,i=e.fieldRef,a=e.includeUom,l=function(e,t){if(null==e)return{};var n,r,i=function(e,t){if(null==e)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(-1!==t.indexOf(r))continue;n[r]=e[r]}return n}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],-1===t.indexOf(n)&&{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}(e,p),c=(0,r.useRef)(null),m=d((0,r.useState)(!1),2),b=m[0],y=m[1],g=d((0,r.useState)([]),2),S=g[0],R=g[1],O=d((0,r.useState)(""),2),w=O[0],E=O[1],x=(0,o.d4)((function(e){return{debounceTime:e.session.searchConfig.debounceTime,minSearchLength:e.session.searchConfig.minSearchLength}})),I=x.debounceTime,P=x.minSearchLength,A=(0,u.yH)(I,P,n,{includeUom:a});return(0,r.useEffect)((function(){if(b&&S.length&&w){var e=S.filter((function(e){return e.exactMatch})),n=null;if(1===e.length){var r=d(e,1);n=r[0]}else if(e.length>1){var i=e.find((function(e){return e.productCode===w}));i&&(n=i)}n&&c.current.select.select.setValue(n),t&&setTimeout((function(){return t({product:n})}),0),y(!1),R([])}}),[b,S,w]),r.createElement(s.A,f({},l,{fieldRef:function(e){c.current=e,i&&i(e)},async:!0,options:[],loadOptions:l.loadOptions||function(e,t){return A(e,(function(n){R(n),E(e),t(n)}))},onMenuClose:function(){R([]),E("")},filterOption:function(e){return e},onEnterPress:function(e){e.preventDefault(),e.stopPropagation(),y(!0)},optionRenderer:v,valueRenderer:h}))};y.defaultProps={className:"text-left",openOnClick:!0,autoload:!0,cache:!1,showValueTooltip:!0,onExactProductSelected:void 0,fieldRef:void 0,loadOptions:void 0,includeUom:!1},y.propTypes={className:a().string,openOnClick:a().bool,autoload:a().bool,cache:a().bool,showValueTooltip:a().bool,locationId:a().string.isRequired,onExactProductSelected:a().func,fieldRef:a().func,loadOptions:a().func,includeUom:a().bool};const g=y},20655:(e,t,n)=>{"use strict";n.d(t,{A:()=>R});var r=n(96540),i=n(2543),a=n.n(i),o=n(5556),l=n.n(o),u=n(73088),c=n(43606),s=n(80605);function p(e){return p="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},p(e)}function f(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function d(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?f(Object(n),!0).forEach((function(t){m(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):f(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function m(e,t,n){return(t=v(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function b(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,v(r.key),r)}}function v(e){var t=function(e){if("object"!=p(e)||!e)return e;var t=e[Symbol.toPrimitive];if(void 0!==t){var n=t.call(e,"string");if("object"!=p(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==p(t)?t:t+""}function h(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(e){}return(h=function(){return!!e})()}function y(e){return y=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},y(e)}function g(e,t){return g=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},g(e,t)}var S=function(e){function t(e){var n;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),(n=function(e,t,n){return t=y(t),function(e,t){if(t&&("object"==p(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(e,h()?Reflect.construct(t,n||[],y(e).constructor):t.apply(e,n))}(this,t,[e])).fieldRefs=[],n.focusField=n.focusField.bind(n),n.copyDown=n.copyDown.bind(n),n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&g(e,t)}(t,e),n=t,(i=[{key:"shouldComponentUpdate",value:function(e){return!a().isEqualWith(this.props,e,(function(e,t){if("function"==typeof e||"function"==typeof t)return!0}))}},{key:"focusField",value:function(e,t){var n=a().get(this.fieldRefs,"[".concat(e,"].").concat(t));n&&n.focus()}},{key:"copyDown",value:function(e,t){var n=a().get(this.fieldRefs,"[".concat(e,"].").concat(t)),r=a().get(this.fieldRefs,"[".concat(e-1,"].").concat(t,".value"));n&&r&&!n.disabled&&(n.value=r,n.focus())}},{key:"render",value:function(){var e=this,t=this.props,n=t.fieldsConfig,i=t.index,a=t.field,o=t.properties,l=t.rowValues,p=void 0===l?{}:l,f=n.getDynamicRowAttr?n.getDynamicRowAttr(d(d({},o),{},{index:i,rowValues:p})):{},m=n.subfieldKey;return r.createElement("div",null,r.createElement(s.A,this.props),!f.hideSubfields&&r.createElement(u.ED,{name:"".concat(a,".").concat(m),component:c.A,fieldsConfig:n,properties:d(d({},o),{},{parentIndex:i,subfield:!0,focusField:this.focusField,copyDown:this.copyDown}),tableRef:function(t,n,r){e.fieldRefs[r]||(e.fieldRefs[r]={}),e.fieldRefs[r][n]=t}}))}}])&&b(n.prototype,i),Object.defineProperty(n,"prototype",{writable:!1}),n;var n,i}(r.Component);const R=S;S.propTypes={fieldsConfig:l().shape({getDynamicAttr:l().func}).isRequired,index:l().number.isRequired,field:l().string.isRequired,addRow:l().func.isRequired,removeRow:l().func.isRequired,properties:l().shape({}).isRequired,rowValues:l().shape({})},S.defaultProps={rowValues:{}}},25824:(e,t,n)=>{"use strict";n.d(t,{A:()=>E});var r=n(96540),i=n(924),a=n(2543),o=n.n(a),l=n(5556),u=n.n(l),c=n(90952),s=n(70373),p=n.n(s),f=n(26438),d=n(26216);function m(e){return m="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},m(e)}function b(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function v(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?b(Object(n),!0).forEach((function(t){h(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):b(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function h(e,t,n){return(t=g(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function y(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,g(r.key),r)}}function g(e){var t=function(e){if("object"!=m(e)||!e)return e;var t=e[Symbol.toPrimitive];if(void 0!==t){var n=t.call(e,"string");if("object"!=m(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==m(t)?t:t+""}function S(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(e){}return(S=function(){return!!e})()}function R(e){return R=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},R(e)}function O(e,t){return O=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},O(e,t)}var w=function(e){function t(e){var n;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),(n=function(e,t,n){return t=R(t),function(e,t){if(t&&("object"==m(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(e,S()?Reflect.construct(t,n||[],R(e).constructor):t.apply(e,n))}(this,t,[e])).state={showModal:!1},n.openModal=n.openModal.bind(n),n.closeModal=n.closeModal.bind(n),n.save=n.save.bind(n),n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&O(e,t)}(t,e),n=t,(a=[{key:"openModal",value:function(){this.props.onOpen(),this.setState({showModal:!0})}},{key:"closeModal",value:function(){this.props.onClose(),this.setState({showModal:!1})}},{key:"save",value:function(e){this.props.onSave(e),this.setState({showModal:!1})}},{key:"render",value:function(){var e=this,t=this.props.title,n=this.props.defaultTitleMessage;return r.createElement("div",{className:this.props.wrapperClassName},this.props.renderButton?this.props.renderButton({openModal:this.openModal}):r.createElement("button",{type:"button",className:"btn-xs ".concat(this.props.btnOpenClassName),style:this.props.btnOpenStyle,disabled:this.props.btnOpenDisabled,onClick:function(){return e.openModal()}},this.props.btnOpenIcon&&r.createElement("i",{className:"fa ".concat(this.props.btnOpenIcon," mr-1"),"aria-hidden":"true"}),this.props.btnOpenText&&!this.props.btnOpenAsIcon&&r.createElement(d.A,{id:this.props.btnOpenText,defaultMessage:this.props.btnOpenDefaultText})),r.createElement(p(),{isOpen:this.props.showModal||this.state.showModal,onRequestClose:this.closeModal,className:"modal-content-custom",shouldCloseOnOverlayClick:!1},r.createElement("div",{className:this.props.bodyContainerClassName,style:this.props.bodyContainerStyle},"string"==typeof t?r.createElement("h5",{className:"text-center"}," ",r.createElement(d.A,{id:t,defaultMessage:n})):r.createElement(t,null),r.createElement("hr",null),r.createElement(c.lV,{onSubmit:function(t){return e.save(t)},initialValues:this.props.initialValues,validate:this.props.validate,mutators:v({},i.A),render:function(t){var n=t.handleSubmit,i=t.values;return r.createElement("form",{id:"modalForm",onSubmit:n},e.props.children,e.props.renderBodyWithValues(i),o().map(e.props.fields,(function(t,n){return(0,f.bl)(t,n,v(v({},e.props.formProps),{},{values:i}))})),r.createElement("hr",null),r.createElement("div",{className:e.props.btnContainerClassName,role:"group",style:e.props.btnContainerStyle},r.createElement("button",{type:"button",className:e.props.btnCancelClassName,style:e.props.btnCancelStyle,onClick:function(){return e.closeModal()}},r.createElement(d.A,{id:e.props.btnCancelText,defaultMessage:e.props.btnCancelDefaultText})),r.createElement("button",{type:"submit",className:e.props.btnSaveClassName,style:e.props.btnSaveStyle,disabled:e.props.btnSaveDisabled},r.createElement(d.A,{id:e.props.btnSaveText,defaultMessage:e.props.btnSaveDefaultText}))))}}))))}}])&&y(n.prototype,a),Object.defineProperty(n,"prototype",{writable:!1}),n;var n,a}(r.Component);const E=w;w.propTypes={btnOpenText:u().string,btnOpenDefaultText:u().string,btnOpenClassName:u().string,btnOpenStyle:u().shape({}),btnOpenDisabled:u().bool,btnOpenAsIcon:u().bool,btnOpenIcon:u().string,title:u().oneOfType([u().string,u().func]).isRequired,defaultTitleMessage:u().string.isRequired,children:u().element,bodyContainerClassName:u().string,bodyContainerStyle:u().shape({}),btnContainerClassName:u().string,btnContainerStyle:u().shape({}),renderButton:u().func,wrapperClassName:u().string,btnSaveText:u().string,btnSaveDefaultText:u().string,btnSaveClassName:u().string,btnSaveStyle:u().shape({}),btnSaveDisabled:u().bool,btnCancelText:u().string,btnCancelDefaultText:u().string,btnCancelClassName:u().string,btnCancelStyle:u().shape({}),onOpen:u().func,onSave:u().func,onClose:u().func,validate:u().func,renderBodyWithValues:u().func,initialValues:u().oneOfType([u().shape({}),u().arrayOf(u().shape({}))]),fields:u().shape({}),formProps:u().shape({}),showModal:u().bool},w.defaultProps={btnOpenText:"react.default.button.open.label",btnOpenDefaultText:"Open",btnOpenClassName:"btn btn-outline-primary",btnOpenStyle:{},btnOpenDisabled:!1,btnOpenAsIcon:!1,btnOpenIcon:"",children:null,bodyContainerClassName:"modal-body-container",bodyContainerStyle:{},btnContainerClassName:"btn-group float-right",btnContainerStyle:{},wrapperClassName:null,btnSaveText:"react.default.button.save.label",btnSaveDefaultText:"Save",btnSaveClassName:"btn btn-outline-success",btnSaveStyle:{},btnSaveDisabled:!1,btnCancelText:"react.default.button.cancel.label",btnCancelDefaultText:"Cancel",btnCancelClassName:"btn btn-outline-secondary",btnCancelStyle:{},renderButton:void 0,onOpen:function(){return null},onSave:function(){return null},onClose:function(){return null},validate:function(){return null},renderBodyWithValues:function(){return null},initialValues:[],fields:{},formProps:{},showModal:!1}},33095:(e,t,n)=>{"use strict";n.d(t,{A:()=>u});var r=n(96540),i=n(4395),a=n(13077),o=["className"];function l(){return l=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},l.apply(null,arguments)}const u=function(e){return r.createElement(i.A,l({},e,{renderInput:function(e){var t=e.className,n=function(e,t){if(null==e)return{};var n,r,i=function(e,t){if(null==e)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(-1!==t.indexOf(r))continue;n[r]=e[r]}return n}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],-1===t.indexOf(n)&&{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}(e,o);return r.createElement(a.A,l({},n,{name:n.id,className:"select-xs ".concat(t||""),classNamePrefix:"react-select"}))}}))}},44323:(e,t,n)=>{"use strict";n.d(t,{Eh:()=>b,FN:()=>R,OL:()=>h,SH:()=>v,aA:()=>S,ut:()=>g,vk:()=>y,xc:()=>O});var r=n(96540),i=n(2543),a=n.n(i),o=n(51836),l=n(33152),u=n(70317),c=n(88024);function s(e){return s="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},s(e)}function p(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}function f(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function d(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?f(Object(n),!0).forEach((function(t){m(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):f(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function m(e,t,n){return(t=function(e){var t=function(e){if("object"!=s(e)||!e)return e;var t=e[Symbol.toPrimitive];if(void 0!==t){var n=t.call(e,"string");if("object"!=s(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==s(t)?t:t+""}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var b=function(e){var t,n;return null!=e&&e.orderAdjustment||null!=e&&e.isAdjustment||null==e||null===(t=e.displayNames)||void 0===t||!t.default?null==e?void 0:e.description:r.createElement(o.Tooltip,{html:null==e?void 0:e.productName,theme:"transparent",delay:"150",duration:"250",hideDelay:"50"},null===(n=e.displayNames)||void 0===n?void 0:n.default)},v=function(e){return null!=e&&e.name?"(source: ".concat(null==e?void 0:e.name,")"):null},h=function(e){var t;return r.createElement("div",{className:"d-flex"},r.createElement("span",{className:"text-truncate"},(null==e?void 0:e.displayName)||(null==e||null===(t=e.displayNames)||void 0===t?void 0:t.default)||(null==e?void 0:e.name)),(0,c.A)(null==e?void 0:e.handlingIcons))},y=function(e){return a().map(e.containers,(function(e){return d(d({},e),{},{shipmentItems:a().map(e.shipmentItems,(function(e){return a().get(e,"recipient.id")?a().omit(e,"product.displayNames"):a().omit(d(d({},e),{},{recipient:""}),"product.displayNames")}))})}))},g=function(e){var t,n,r,i=e.product,a=e.filterValue,o=i.productCode,l=i.name,u=i.displayNames,c=null==a?void 0:a.toLowerCase();return(null==o||null===(t=o.toLowerCase())||void 0===t?void 0:t.includes(c))||(null==l||null===(n=l.toLowerCase())||void 0===n?void 0:n.includes(c))||(null==u||null===(r=u.default)||void 0===r||null===(r=r.toLowerCase())||void 0===r?void 0:r.includes(c))},S=function(e){var t=e.translate,n=e.errors,r="".concat(t("react.stockMovement.errors.errorInLine.label","Error occurred in line"),":"),i=n.reduce((function(e,n,r){return[].concat(function(e){if(Array.isArray(e))return p(e)}(i=e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(i)||function(e,t){if(e){if("string"==typeof e)return p(e,t);var n={}.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?p(e,t):void 0}}(i)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}(),["".concat(n&&"".concat(r+1," - ").concat(a().map(n,(function(e){return t("".concat(e))}))))]);var i}),[]);(0,l.A)(u.A.ERROR_OUTLINED)({message:r,detailsArray:i})},R=function(e){return a().omitBy(e,(function(e){return!("boolean"==typeof e||"number"==typeof e||e instanceof Date)&&a().isEmpty(e)}))},O=function(e,t,n){var r;return null===(r=(null==e?void 0:e.length)>n?"".concat(a().take(e,n).join(""),"..."):e)||void 0===r?void 0:r.split(t)}},75298:(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>Ze});var r=n(96540),i=n(2543),a=n.n(i),o=n(95093),l=n.n(o),u=n(5556),c=n.n(u),s=n(38798),p=n(88600),f=n(697),d=n(8949),m=n(924),b=n(46894),v=n.n(b),h=n(5419),y=n.n(h),g=n(23350),S=n(90952),R=n(41640),O=n(45814),w=n(10734),E=n(20655),x=n(34297),I=n(79738),P=n(25824),A=n(33095),C=n(39802),j=n(26216);function N(e){return N="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},N(e)}function D(){return D=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},D.apply(null,arguments)}function q(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,i,a,o,l=[],u=!0,c=!1;try{if(a=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;u=!1}else for(;!(u=(r=a.call(n)).done)&&(l.push(r.value),l.length!==t);u=!0);}catch(e){c=!0,i=e}finally{try{if(!u&&null!=n.return&&(o=n.return(),Object(o)!==o))return}finally{if(c)throw i}}return l}}(e,t)||function(e,t){if(e){if("string"==typeof e)return L(e,t);var n={}.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?L(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function L(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}function k(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,F(r.key),r)}}function M(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(e){}return(M=function(){return!!e})()}function T(e){return T=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},T(e)}function V(e,t){return V=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},V(e,t)}function B(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function z(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?B(Object(n),!0).forEach((function(t){_(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):B(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function _(e,t,n){return(t=F(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function F(e){var t=function(e){if("object"!=N(e)||!e)return e;var t=e[Symbol.toPrimitive];if(void 0!==t){var n=t.call(e,"string");if("object"!=N(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==N(t)?t:t+""}var W={lines:{type:R.A,addButton:function(e){var t=e.addRow,n=e.shipmentItemId,i=e.binLocation,a=e.product;return r.createElement("button",{type:"button",className:"btn btn-outline-success btn-xs",onClick:function(){return t({shipmentItemId:n,binLocation:i,product:a,receiptItemId:null,newLine:!0})}},r.createElement(j.A,{id:"react.default.button.addLine.label",defaultMessage:"Add line"}))},fields:{product:{type:A.A,label:"react.partialReceiving.product.label",defaultMessage:"Product",fieldKey:"disabled",getDynamicAttr:function(e){return{disabled:e.fieldValue}}},lotNumber:{type:x.A,label:"react.partialReceiving.lot.label",defaultMessage:"Lot"},expirationDate:{type:I.A,label:"react.partialReceiving.expiry.label",defaultMessage:"Expiry",attributes:{localizeDate:!0,localizedDateFormat:C.A.COMMON,autoComplete:"off"}},quantityShipped:{type:x.A,label:"react.partialReceiving.quantityShipped.label",defaultMessage:"Quantity shipped",attributes:{type:"number"}}}}},U=function(e){function t(e){var n,r;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),r=function(e,t,n){return t=T(t),function(e,t){if(t&&("object"==N(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(e,M()?Reflect.construct(t,n||[],T(e).constructor):t.apply(e,n))}(this,t,[e]);var i=e.fieldConfig,o=i.attributes,l=i.getDynamicAttr,u=l?l(e):{},c=z(z({},o),u),s=r.groupShipmentItems(r.props.initialReceiptCandidates),p=Object.entries(s).reduce((function(e,t){var n=q(t,2),r=n[0],i=n[1];return z(z({},e),{},_({},r,a().sumBy(i,(function(e){return a().toInteger(e.quantityShipped)}))))}),{});return r.state={attr:c,formValues:[],shipmentItemsQuantityMap:p,shipmentItemQuantityShippedSum:p[null===(n=c.fieldValue)||void 0===n?void 0:n.shipmentItemId],showMismatchQuantityShippedInfo:!1},r.onOpen=r.onOpen.bind(r),r.onSave=r.onSave.bind(r),r.save=r.save.bind(r),r.validate=r.validate.bind(r),r}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&V(e,t)}(t,e),n=t,i=[{key:"componentWillReceiveProps",value:function(e){var t=e.fieldConfig,n=t.attributes,r=t.getDynamicAttr,i=r?r(e):{},a=z(z({},n),i);this.setState({attr:a})}},{key:"groupShipmentItems",value:function(){var e=(arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.props.values).containers.flatMap((function(e){return e.shipmentItems}));return a().groupBy(e,"shipmentItemId")}},{key:"onOpen",value:function(){var e=this.state,t=e.shipmentItemsQuantityMap,n=e.attr;this.setState((function(e){var r;return{formValues:{lines:a().map([e.attr.fieldValue],(function(e){return z(z({},e),{},{disabled:!0,originalLine:!0})}))},shipmentItemQuantityShippedSum:t[null===(r=n.fieldValue)||void 0===r?void 0:r.shipmentItemId]}}))}},{key:"onSave",value:function(e){var t=this,n=e.lines.map((function(e){return a().parseInt(e.quantityShipped)?e:z(z({},e),{},{quantityReceiving:null})}));a().some(n,(function(e){var n=a().find(t.state.formValues.lines,(function(t){return e.product&&e.product.id===t.product.id&&e.lotNumber===t.lotNumber}));return n&&n.quantityOnHand&&n.expirationDate!==e.expirationDate}))?this.confirmInventoryItemExpirationDateUpdate((function(){return t.save(z(z({},e),{},{lines:n}))})):this.save(z(z({},e),{},{lines:n}))}},{key:"save",value:function(e){this.state.attr.saveEditLine(e.lines,this.state.attr.parentIndex,this.props.values,this.props.rowIndex)}},{key:"confirmInventoryItemExpirationDateUpdate",value:function(e){(0,g.ZX)({title:this.props.translate("react.partialReceiving.message.confirmSave.label","Confirm save"),message:this.props.translate("react.partialReceiving.confirmExpiryDateUpdate.message","This will update the expiry date across all depots in the system. Are you sure you want to proceed?"),buttons:[{label:this.props.translate("react.default.yes.label","Yes"),onClick:e},{label:this.props.translate("react.default.no.label","No")}]})}},{key:"calculateQuantityShippedSum",value:function(e){var t=this.state.shipmentItemQuantityShippedSum,n=e.find((function(e){return e.rowId})),r=a().sumBy(e,(function(e){return a().toInteger(e.quantityShipped)})),i=this.groupShipmentItems(this.props.values),o=Object.entries(i).reduce((function(e,t){var r=q(t,2),i=r[0],o=r[1];return z(z({},e),{},_({},i,o.reduce((function(e,t){return t.rowId===(null==n?void 0:n.rowId)?e:e+a().toInteger(t.quantityShipped)}),0)))}),{});r+(n?o[n.shipmentItemId]:0)===t?this.setState({showMismatchQuantityShippedInfo:!1}):this.setState({showMismatchQuantityShippedInfo:!0})}},{key:"validate",value:function(e){this.calculateQuantityShippedSum(e.lines);var t={lines:[]},n=l()(this.props.minimumExpirationDate,"MM/DD/YYYY");return a().forEach(e.lines,(function(e,r){e&&a().isNil(e.quantityShipped)&&(t.lines[r]={quantityShipped:"react.partialReceiving.error.enterQuantityShipped.label"}),e.quantityShipped<0&&(t.lines[r]={quantityShipped:"react.partialReceiving.error.quantityShippedNegative.label"});var i=l()(e.expirationDate,"MM/DD/YYYY");n.diff(i)>0&&(t.lines[r]={expirationDate:"react.partialReceiving.error.invalidDate.label"}),e.expirationDate&&(a().isNil(e.lotNumber)||a().isEmpty(e.lotNumber))&&(t.lines[r]={lotNumber:"react.partialReceiving.error.expiryWithoutLot.label"}),!a().isNil(e.product)&&e.product.lotAndExpiryControl&&(e.expirationDate||!a().isNil(e.lotNumber)&&!a().isEmpty(e.lotNumber)?e.expirationDate?(a().isNil(e.lotNumber)||a().isEmpty(e.lotNumber))&&(t.lines[r]={lotNumber:"react.partialReceiving.error.lotAndExpiryControl.label"}):t.lines[r]={expirationDate:"react.partialReceiving.error.lotAndExpiryControl.label"}:t.lines[r]={expirationDate:"react.partialReceiving.error.lotAndExpiryControl.label",lotNumber:"react.partialReceiving.error.lotAndExpiryControl.label"})})),t}},{key:"render",value:function(){return r.createElement(P.A,D({},this.state.attr,{onOpen:this.onOpen,onSave:this.onSave,validate:this.validate,initialValues:this.state.formValues,fields:W,wrapperClassName:this.props.wrapperClassName,formProps:{shipmentItemId:this.state.attr.fieldValue.shipmentItemId,binLocation:this.state.attr.fieldValue.binLocation,product:this.state.attr.fieldValue.product}}),r.createElement("div",null,r.createElement("div",{className:"font-weight-bold mb-3"},r.createElement(j.A,{id:"react.partialReceiving.originalQtyShipped.label",defaultMessage:"Original quantity shipped"}),":",this.state.attr.fieldValue.quantityShipped),this.state.showMismatchQuantityShippedInfo&&r.createElement("div",{className:"font-weight-bold font-red-ob"},r.createElement(j.A,{id:"react.partialReceiving.error.mismatchingQuantityShipped.label",defaultMessage:"The total edited quantity does not match the original quantity shipped."}))))}}],i&&k(n.prototype,i),Object.defineProperty(n,"prototype",{writable:!1}),n;var n,i}(r.Component);const Y=(0,f.Ng)((function(e){return{minimumExpirationDate:e.session.minimumExpirationDate,translate:(0,j.H)((0,p.ro)(e.localize))}}),{showSpinner:d.xc,hideSpinner:d.W$})(U);U.propTypes={fieldName:c().string.isRequired,fieldConfig:c().shape({getDynamicAttr:c().func}).isRequired,showSpinner:c().func.isRequired,hideSpinner:c().func.isRequired,rowIndex:c().number.isRequired,locationId:c().string.isRequired,minimumExpirationDate:c().string.isRequired,translate:c().func.isRequired,wrapperClassName:c().string,values:c().shape({containers:c().arrayOf(c().shape({})).isRequired}).isRequired,initialReceiptCandidates:c().shape({containers:c().arrayOf(c().shape({})).isRequired}).isRequired},U.defaultProps={wrapperClassName:null};var K=n(50709);const $=[{value:"shipment",label:"react.partialReceiving.sortOptions.shipmentOrder"},{value:"alphabetical",label:"react.partialReceiving.sortOptions.alphabeticalOrder"}];var Q=n(43256),H=n(84079),Z=n(26438),X=n(44323),J=n(66792),G=n(91019);function ee(e){return ee="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},ee(e)}function te(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,ce(r.key),r)}}function ne(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(e){}return(ne=function(){return!!e})()}function re(e){return re=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},re(e)}function ie(e,t){return ie=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},ie(e,t)}function ae(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,i,a,o,l=[],u=!0,c=!1;try{if(a=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;u=!1}else for(;!(u=(r=a.call(n)).done)&&(l.push(r.value),l.length!==t);u=!0);}catch(e){c=!0,i=e}finally{try{if(!u&&null!=n.return&&(o=n.return(),Object(o)!==o))return}finally{if(c)throw i}}return l}}(e,t)||pe(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function oe(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function le(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?oe(Object(n),!0).forEach((function(t){ue(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):oe(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function ue(e,t,n){return(t=ce(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function ce(e){var t=function(e){if("object"!=ee(e)||!e)return e;var t=e[Symbol.toPrimitive];if(void 0!==t){var n=t.call(e,"string");if("object"!=ee(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==ee(t)?t:t+""}function se(e){return function(e){if(Array.isArray(e))return fe(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||pe(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function pe(e,t){if(e){if("string"==typeof e)return fe(e,t);var n={}.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?fe(e,t):void 0}}function fe(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}function de(){return de=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},de.apply(null,arguments)}var me=function(e,t){return!!t&&(t&&e?a().toInteger(t.quantityReceived)+a().toInteger(t.quantityCanceled)>=a().toInteger(t.quantityShipped):!(!t||t.shipmentItems)||a().every(t&&t.shipmentItems,(function(e){return a().toInteger(e.quantityReceived)+a().toInteger(e.quantityCanceled)>=a().toInteger(e.quantityShipped)})))},be=function(e,t){return e?t&&!a().isNil(t.quantityReceiving)&&""!==t.quantityReceiving:!!t.shipmentItems&&a().every(t&&t.shipmentItems,(function(e){return!a().isNil(e.quantityReceiving)&&""!==e.quantityReceiving||me(!0,e)}))&&a().some(t&&t.shipmentItems,(function(e){return!a().isNil(e.quantityReceiving)&&""!==e.quantityReceiving}))},ve=function(e,t){var n=t.quantityReceiving,r=t.quantityShipped;return(0!==n||n!==r)&&be(e,t)},he=function(e,t){return!e&&!(t&&!t.shipmentItems)&&a().some(t&&t.shipmentItems,(function(e){return!a().isNil(e.quantityReceiving)&&""!==e.quantityReceiving}))&&a().some(t&&t.shipmentItems,(function(e){return(a().isNil(e.quantityReceiving)||""===e.quantityReceiving)&&!me(!0,e)}))},ye=function(e){return!!a().size(e)&&a().some(e,(function(e){return a().size(e.shipmentItems)&&a().some(e.shipmentItems,(function(e){return!a().isNil(e.quantityReceiving)&&""!==e.quantityReceiving}))}))},ge={containers:{type:R.A,arrowsNavigation:!0,virtualized:!0,totalCount:function(e){return e.totalCount},isRowLoaded:function(e){return e.isRowLoaded},loadMoreRows:function(e){return(0,e.loadMoreRows)()},isFirstPageLoaded:function(e){return e.isFirstPageLoaded},rowComponent:E.A,headerFontSize:"0.775rem",subfieldKey:"shipmentItems",getDynamicRowAttr:function(e){var t=e.rowValues,n=e.subfield,r=e.translate,i="",a=null,o=me(n,t),l=be(n,t);return o&&(i="text-disabled"),!o&&l&&t.product&&t.product.lotAndExpiryControl&&(t.lotNumber&&t.expirationDate||(a=r("react.partialReceiving.error.lotAndExpiryControl.label"),i+=" has-control-error")),{className:i,tooltip:a}},fields:{autofillLine:{fieldKey:"",label:"",flexWidth:"0.1",type:function(e){var t=e.subfield,n=e.parentIndex,i=e.rowIndex,a=e.autofillLines,o=e.fieldValue,l=e.shipmentReceived,u=e.values;return r.createElement(H.A,{disabled:l||me(t,o),className:t?"ml-4":"mr-4",value:ve(t,o),indeterminate:he(t,o),onChange:function(e){t?a(u,!e,n,i):a(u,!e,i)}})}},"parentContainer.name":{fieldKey:"",type:function(e){return e.subfield?null:r.createElement(O.A,e)},label:"react.partialReceiving.packLevel1.label",defaultMessage:"Pack level 1",flexWidth:"1",attributes:{formatValue:function(e){return a().get(e,"parentContainer.name")||a().get(e,"container.name")||"Unpacked"},showValueTooltip:!0}},"container.name":{fieldKey:"",type:function(e){return e.subfield?null:r.createElement(O.A,e)},label:"react.partialReceiving.packLevel2.label",defaultMessage:"Pack level 2",flexWidth:"1",attributes:{formatValue:function(e){return a().get(e,"parentContainer.name")&&a().get(e,"container.name")||""}}},"product.productCode":{type:function(e){return e.subfield?r.createElement(O.A,e):null},label:"react.partialReceiving.code.label",defaultMessage:"Code",headerAlign:"left",flexWidth:"1",attributes:{className:"text-left ml-1"}},product:{type:function(e){return e.subfield?r.createElement(O.A,e):null},label:"react.partialReceiving.product.label",defaultMessage:"Product",headerAlign:"left",flexWidth:"4",attributes:{className:"text-left ml-1",showValueTooltip:!0,formatValue:X.OL},getDynamicAttr:function(e){var t=e.fieldValue;return{tooltipValue:null==t?void 0:t.name}}},lotNumber:{type:function(e){return e.subfield?r.createElement(O.A,e):null},label:"react.partialReceiving.lotSerialNo.label",defaultMessage:"Lot/Serial No.",flexWidth:"1"},expirationDate:{type:function(e){return e.subfield?r.createElement(O.A,e):null},label:"react.partialReceiving.expirationDate.label",defaultMessage:"Expiration date",flexWidth:"1",getDynamicAttr:function(e){var t=e.formatLocalizedDate;return{formatValue:function(e){return e?t(e,C.A.COMMON):e}}}},binLocation:{type:function(e){return e.subfield?r.createElement(w.A,e):r.createElement(J.A,{disabled:!e.hasBinLocationSupport||e.shipmentReceived||me(!1,e.fieldValue),options:e.bins,onChange:function(t){return e.setLocation(e.rowIndex,t)},valueKey:"id",labelKey:"name",className:"select-xs",clearable:!1})},fieldKey:"",flexWidth:"2",label:"react.partialReceiving.binLocation.label",defaultMessage:"Bin Location",getDynamicAttr:function(e){var t=e.bins,n=e.hasBinLocationSupport,r=e.shipmentReceived,i=e.fieldValue;return{options:t,disabled:!n||r||me(!0,i),hide:!n}},attributes:{clearable:!1,valueKey:"id",labelKey:"name"}},"recipient.name":{type:function(e){return e.subfield?r.createElement(O.A,e):null},label:"react.partialReceiving.recipient.label",defaultMessage:"Recipient",headerAlign:"left",flexWidth:"1",attributes:{className:"text-left ml-1",showValueTooltip:!0}},unitOfMeasure:{type:function(e){return r.createElement(O.A,e)},label:"react.partialReceiving.shippedInPo.label",defaultMessage:"Shipped (in PO UoM)",multilineHeader:!0,flexWidth:"1",attributes:{cellClassName:"text-right",showValueTooltip:!0},getDynamicAttr:function(e){var t=e.values,n=e.parentIndex,i=e.rowIndex,o=a().get(t,"containers[".concat(n,"].shipmentItems[").concat(i,"]"),{}),l=null!=o&&o.quantityReceived?a().round((null==o?void 0:o.quantityReceived)/(null==o?void 0:o.packSize),2):0,u=a().round(null==o?void 0:o.packsRequested,2),c=null==o?void 0:o.unitOfMeasure;return{tooltipValue:c?"".concat(u-l," ").concat(c):void 0,formatValue:function(){return c?r.createElement("span",null,u-l,r.createElement("small",{className:"text-muted ml-1"},c)):null},hide:!(null!=t&&t.isShipmentFromPurchaseOrder)}}},quantityShipped:{type:function(e){return e.subfield?r.createElement(O.A,e):null},label:"react.partialReceiving.shipped.label",defaultMessage:"Shipped (each)",multilineHeader:!0,flexWidth:"1",attributes:{cellClassName:"text-right",formatValue:function(e){return e?e.toLocaleString("en-US"):e}},getDynamicAttr:function(e){var t=e.values;return{label:null!=t&&t.isShipmentFromPurchaseOrder?"react.partialReceiving.shippedEach.label":"react.partialReceiving.shipped.label",defaultMessage:null!=t&&t.isShipmentFromPurchaseOrder?"Shipped (each)":"Shipped"}}},quantityReceived:{type:function(e){return e.subfield?r.createElement(O.A,e):null},label:"react.partialReceiving.received.label",defaultMessage:"Received",flexWidth:"1",attributes:{formatValue:function(e){return e?e.toLocaleString("en-US"):"0"}},getDynamicAttr:function(e){return{hide:!e.hasPartialReceivingSupport}}},quantityRemaining:{type:function(e){return e.subfield?r.createElement(O.A,e):null},label:"react.partialReceiving.toReceive.label",defaultMessage:"To receive",fieldKey:"",flexWidth:"0.8",getDynamicAttr:function(e){var t=e.fieldValue,n=e.shipmentReceived,r=e.hasPartialReceivingSupport;return{className:a().toInteger(t&&t.quantityRemaining)<0&&!n&&!me(!0,t)?"text-danger":"",formatValue:function(e){return e.quantityRemaining?a().toInteger(t&&t.quantityRemaining)<0&&(n||me(!0,t))?"0":e.quantityRemaining.toLocaleString("en-US"):e.quantityRemaining},hide:!r}}},quantityReceiving:{type:function(e){return e.subfield?r.createElement(x.A,e):null},fieldKey:"",multilineHeader:!0,flexWidth:"1",attributes:{autoComplete:"off",inputClassName:"text-right"},getDynamicAttr:function(e){var t=e.shipmentReceived,n=e.fieldValue,r=e.values;return{disabled:t||me(!0,n),formatValue:function(e){var t=n.quantityShipped,r=n.quantityRemaining;return 0===t&&r===t?null:e},label:null!=r&&r.isShipmentFromPurchaseOrder?"react.partialReceiving.receivingNowEach.label":"react.partialReceiving.receivingNow.label",defaultMessage:null!=r&&r.isShipmentFromPurchaseOrder?"Receiving now (each)":"Receiving now"}}},edit:{type:function(e){return e.subfield?r.createElement(Y,de({},e,{wrapperClassName:"edit-button-cell"})):null},fieldKey:"",flexWidth:"0.9",label:"",attributes:{btnOpenText:"react.default.button.edit.label",btnOpenDefaultText:"Edit line",title:"react.default.button.edit.label",className:"btn btn-outline-primary",defaultTitleMessage:"Edit"},getDynamicAttr:function(e){var t=e.fieldValue;return{fieldValue:t,saveEditLine:e.saveEditLine,parentIndex:e.parentIndex,rowIndex:e.rowIndex,btnOpenDisabled:e.shipmentReceived||me(!0,t)}}},comment:{type:function(e){return e.subfield?r.createElement(x.A,e):null},fieldKey:"",flexWidth:"1",label:"react.partialReceiving.comment.label",defaultMessage:"Comment",headerAlign:"left",attributes:{autoComplete:"off"},getDynamicAttr:function(e){var t=e.shipmentReceived,n=e.fieldValue;return{disabled:t||me(!0,n)}}}}}};function Se(e){var t={containers:[]};return e.dateDelivered||(t.dateDelivered="react.default.error.requiredField.label"),a().forEach(e.containers,(function(e,n){t.containers[n]={shipmentItems:[]},a().forEach(e.shipmentItems,(function(e,r){e.quantityReceiving<0&&(t.containers[n].shipmentItems[r]={quantityReceiving:"react.partialReceiving.error.quantityToReceiveNegative.label"}),!a().isNil(e.quantityReceiving)&&""!==e.quantityReceiving&&!a().isNil(e.product)&&e.product.lotAndExpiryControl&&(e.expirationDate||!a().isNil(e.lotNumber)&&!a().isEmpty(e.lotNumber)?e.expirationDate?(a().isNil(e.lotNumber)||a().isEmpty(e.lotNumber))&&(t.containers[n].shipmentItems[r]={lotNumber:"react.partialReceiving.error.lotAndExpiryControl.label"}):t.containers[n].shipmentItems[r]={expirationDate:"react.partialReceiving.error.lotAndExpiryControl.label"}:t.containers[n].shipmentItems[r]={expirationDate:"react.partialReceiving.error.lotAndExpiryControl.label",lotNumber:"react.partialReceiving.error.lotAndExpiryControl.label"})}))})),t}var Re=function(e){function t(e){var n;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),ue(n=function(e,t,n){return t=re(t),function(e,t){if(t&&("object"==ee(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(e,ne()?Reflect.construct(t,n||[],re(e).constructor):t.apply(e,n))}(this,t,[e]),"handleSortChange",(function(e){n.props.updateSort(e.value),n.fetchPartialReceiptCandidates(e.value)})),n.state={values:{},isFirstPageLoaded:!1},n.autofillLines=n.autofillLines.bind(n),n.setLocation=n.setLocation.bind(n),n.save=n.save.bind(n),n.saveAndExit=n.saveAndExit.bind(n),n.saveValues=n.saveValues.bind(n),n.saveEditLine=n.saveEditLine.bind(n),n.exportTemplate=n.exportTemplate.bind(n),n.importTemplate=n.importTemplate.bind(n),n.isRowLoaded=n.isRowLoaded.bind(n),n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&ie(e,t)}(t,e),n=t,o=[{key:"autofillLine",value:function(e,t){if(me(!0,t))return t;var n=a().toInteger(t.quantityShipped)-a().toInteger(t.quantityReceived);return le(le({},t),{},{quantityReceiving:e||n<0?null:n})}},{key:"mapShipmentItems",value:function(e,t,n){var r,i=e.reduce((function(e,n,r){return le(le({},e),{},r<t?{itemsBeforeCurrentRow:[].concat(se(e.itemsBeforeCurrentRow),[n])}:r===t?{originalItem:n}:{itemsAfterCurrentRow:[].concat(se(e.itemsAfterCurrentRow),[n])})}),{itemsBeforeCurrentRow:[],originalItem:null,itemsAfterCurrentRow:[]});null!==(r=i.originalItem)&&void 0!==r&&r.receiptItemId&&i.itemsBeforeCurrentRow.push(i.originalItem);var o=n.map((function(e){var t,n,r,o;return le(le({},e),{},{quantityReceiving:null,quantityRemaining:e.quantityShipped,unitOfMeasure:null===(t=i.originalItem)||void 0===t?void 0:t.unitOfMeasure,rowId:a().uniqueId(),packSize:null===(n=i.originalItem)||void 0===n?void 0:n.packSize,packsRequested:null!==(r=i.originalItem)&&void 0!==r&&r.packSize?e.quantityShipped/(null===(o=i.originalItem)||void 0===o?void 0:o.packSize):null})}));return[].concat(se(i.itemsBeforeCurrentRow),se(o),se(i.itemsAfterCurrentRow))}},{key:"mapContainers",value:function(e,n,r,i){return e.map((function(e,a){if(a===n){var o=e.shipmentItems;return le(le({},e),{},{shipmentItems:t.mapShipmentItems(o,r,i)})}return e}))}}],(i=[{key:"componentDidMount",value:function(){this.fetchPartialReceiptCandidates()}},{key:"confirmReceive",value:function(e,t){var n=this,r=this.props.translate;(0,g.ZX)({title:r("react.partialReceiving.message.confirmReceive.label","Confirm receiving"),message:r("react.partialReceiving.confirmReceive.notSupportingPartialReceiving.message","You have not entered a value in the receiving quantity for ".concat(t," line/lines on this shipment. ")+"These lines will be received as zero. You will not be able to go back and receive them later. Do you want to continue?.",{count:t}),buttons:[{label:r("react.default.yes.label","Yes"),onClick:function(){return n.onSubmit(e)}},{label:r("react.default.no.label","No")}]})}},{key:"buildShipmentItems",value:function(e){return this.props.hasPartialReceivingSupport?null==e?void 0:e.map((function(e){return le(le({},e),{},{shipmentItems:null==e?void 0:e.shipmentItems.map((function(e){return e.receiptItemId?le(le({},e),{},{quantityReceiving:e.quantityReceiving?e.quantityReceiving:0}):e})).filter((function(e){return!a().isNil(e.quantityReceiving)&&""!==e.quantityReceiving}))})})):null==e?void 0:e.map((function(e){return le(le({},e),{},{shipmentItems:null==e?void 0:e.shipmentItems.map((function(e){return le(le({},e),{},{quantityReceiving:e.quantityReceiving?e.quantityReceiving:0})}))})}))}},{key:"onSubmit",value:function(e){var t=this.buildShipmentItems(e.containers),n=this.state.values;this.setState({values:le(le({},n),{},{containers:t})}),this.nextPage(le(le({},n),{},{containers:t}))}},{key:"setLocation",value:function(e,t){if(this.state.values.containers&&!a().isNil(e)){var n=v()(this.state.values.containers,ue({},e,{shipmentItems:{$apply:function(e){return e?e.map((function(e){return me(!0,e)?e:le(le({},e),{},{binLocation:t})})):[]}}})),r=this.state.values;r.containers=n,this.setState({values:r}),window.setFormValue("containers",n)}}},{key:"fetchPartialReceiptCandidates",value:function(e){var t=this;this.props.showSpinner();var n="/api/partialReceiving/".concat(this.props.match.params.shipmentId,"?stepNumber=1&sort=").concat(e||this.props.sort);Q.Ay.get(n).then((function(e){t.setState({values:{}},(function(){t.setState({values:(0,Q.xp)(e.data.data),initialReceiptCandidates:(0,Q.xp)(e.data.data),isFirstPageLoaded:!0},(function(){return t.props.hideSpinner()}))}))})).catch((function(){return t.props.hideSpinner()}))}},{key:"saveValues",value:function(e){var t;this.props.showSpinner();var n="/api/partialReceiving/".concat(this.props.match.params.shipmentId,"?stepNumber=1"),r=le(le({},e),{},{recipient:null==e||null===(t=e.recipient)||void 0===t?void 0:t.id,containers:(0,X.vk)(e)});return Q.Ay.post(n,(0,Q.iR)(r))}},{key:"saveAndExit",value:function(e){var t=this;this.saveValues(e).then((function(){var t=e.requisition,n=e.shipmentId;window.location=K.ti.show(t||n)})).catch((function(){return t.props.hideSpinner()}))}},{key:"save",value:function(e,t){var n=this;this.saveValues(e).then((function(e){n.props.hideSpinner(),n.setState({values:{}},(function(){return n.setState({values:(0,Q.xp)(e.data.data)})})),t&&t()})).catch((function(){return n.props.hideSpinner()}))}},{key:"autofillLines",value:function(e,n,r,i){if(e.containers){var o;o=a().isNil(r)?v()(e.containers,{$apply:function(e){return e?e.map((function(e){return v()(e,{shipmentItems:{$apply:function(e){return e?e.map((function(e){return t.autofillLine(n,e)})):[]}}})})):[]}}):a().isNil(i)?v()(e.containers,ue({},r,{shipmentItems:{$apply:function(e){return e?e.map((function(e){return t.autofillLine(n,e)})):[]}}})):v()(e.containers,ue({},r,{shipmentItems:ue({},i,{$apply:function(e){return t.autofillLine(n,e)}})}));var l=le({},e);l.containers=o,this.setState({values:l}),window.setFormValue("containers",o)}}},{key:"saveEditLine",value:function(e,n,r,i){var o=this,l=this.state.values.containers,u=e.reduce((function(e,t){return t.receiptItemId?le(le({},e),{},{itemsToSave:[].concat(se(e.itemsToSave),[t])}):le(le({},e),{},{newItems:[].concat(se(e.newItems),[t])})}),{itemsToSave:[],newItems:[]});if(u.itemsToSave.length){this.props.showSpinner();var c=le(le({},this.state.values),{},{containers:[le(le({},this.state.values.containers[n]),{},{shipmentItems:u.itemsToSave})]});this.saveValues(c).then((function(l){var c=function(e){var t=e.formValues,n=e.editLines,r=e.fetchedContainers,i=e.editLinesIndex,o=e.parentIndex,l=t.containers.reduce((function(e,t){return[].concat(se(e),se(t.shipmentItems))}),[]),u=t.containers.reduce((function(e,t,n){return n<o?e+t.shipmentItems.length:e}),0)+i,c=r.reduce((function(e,t){return[].concat(se(e),[t.shipmentItems])}),[]),s=n.map((function(e){return le(le({},e),{},{quantityReceiving:null})})),p=[].concat(se(a().take(l,u)),se(s),se(a().takeRight(l,l.length-u-1))),f=a().zip(p,a().flatten(c)).map((function(e){var t=ae(e,2),n=t[0];return le(le({},t[1]),{},{quantityReceiving:null==n?void 0:n.quantityReceiving})})),d=r.reduce((function(e,t){return{shipmentItems:[].concat(se(e.shipmentItems),[a().slice(f,e.startIndex,e.startIndex+t.shipmentItems.length)]),startIndex:e.startIndex+t.shipmentItems.length}}),{shipmentItems:[],startIndex:0}).shipmentItems;return t.containers.map((function(e,t){return le(le({},e),{},{shipmentItems:d[t]})}))}({formValues:r,editLines:e,parentIndex:n,fetchedContainers:l.data.data.containers,editLinesIndex:i}),s=t.mapContainers(c,n,i,u.newItems);o.setState({values:(0,Q.xp)(le(le({},l.data.data),{},{containers:s}))})})).finally((function(){return o.props.hideSpinner()}))}else{var s=u.newItems,p=t.mapContainers(l,n,i,s);this.setState((function(e){return{values:le(le({},e.values),{},{containers:p})}}))}}},{key:"exportTemplate",value:function(){var e,t,n,r=this;this.props.showSpinner();var i=this.state.values,o=i.shipmentId,l="/api/partialReceiving/exportCsv/".concat(o),u=le(le({},i),{},{containers:null==i||null===(e=i.containers)||void 0===e||null===(t=e.map)||void 0===t?void 0:t.call(e,(function(e){var t,n;return le(le({},e),{},{shipmentItems:null==e||null===(t=e.shipmentItems)||void 0===t||null===(n=t.map)||void 0===n?void 0:n.call(t,(function(e){return a().omit(e,"product.displayNames")}))})})),recipient:{id:null===(n=i.recipient)||void 0===n?void 0:n.id}});Q.Ay.post(l,(0,Q.iR)(u)).then((function(e){y()(e.data,"PartialReceiving".concat(o?"-".concat(o):"",".csv"),"text/csv"),r.props.hideSpinner()})).catch((function(){return r.props.hideSpinner()}))}},{key:"importTemplate",value:function(e){var t=this;this.props.showSpinner();var n=new FormData,r=e.target.files[0];n.append("importFile",r.slice(0,r.size,"text/csv"));var i="/api/partialReceiving/importCsv/".concat(this.state.values.shipmentId);return Q.Ay.post(i,n,{headers:{"content-type":"multipart/form-data"}}).then((function(){t.props.hideSpinner(),window.location.reload()})).catch((function(){t.props.hideSpinner()}))}},{key:"transitionToNextStep",value:function(e){var t,n="/api/partialReceiving/".concat(this.props.match.params.shipmentId,"?stepNumber=1"),r=le(le({receiptStatus:"CHECKING"},e),{},{recipient:null==e||null===(t=e.recipient)||void 0===t?void 0:t.id,containers:(0,X.vk)(e)});return Q.Ay.post(n,(0,Q.iR)(r))}},{key:"nextPage",value:function(e){var t=this;this.props.showSpinner(),this.transitionToNextStep(e).then((function(){return t.props.nextPage(e)})).then((function(){return t.props.hideSpinner()})).catch((function(){return t.props.hideSpinner()}))}},{key:"isRowLoaded",value:function(e){var t=e.index;return!!this.state.values.containers[t]}},{key:"render",value:function(){var e=this;return r.createElement("div",null,r.createElement(S.lV,{onSubmit:function(t){var n=e.props.hasPartialReceivingSupport,r=function(e){return e.containers.reduce((function(e,t){return e+t.shipmentItems.filter((function(e){return!e.quantityReceiving&&0!==e.quantityReceiving})).length}),0)}(t);return!n&&r?e.confirmReceive(t,r):e.onSubmit(t)},validate:Se,autofillLines:this.autofillLines,mutators:le(le({},m.A),{},{setValue:function(e,t,n){var r=ae(e,2),i=r[0],a=r[1];(0,n.changeValue)(t,i,(function(){return a}))}}),initialValues:this.state.values,render:function(t){var n=t.handleSubmit,i=t.values,o=t.form;return window.setFormValue||(window.setFormValue=o.mutators.setValue),r.createElement("form",{onSubmit:n},r.createElement("div",{className:"d-flex flex-column"},r.createElement("div",{className:"d-flex justify-content-between align-items-center"},r.createElement("div",{className:"width-250"},r.createElement(J.A,{onChange:e.handleSortChange,value:e.props.sort,options:$.map((function(e){return{value:e.value,label:r.createElement(j.A,{id:e.label})}}))})),r.createElement("div",{className:"buttons-container"},r.createElement("button",{type:"button",className:"btn btn-outline-secondary float-right btn-form btn-xs",disabled:"RECEIVED"===e.state.values.shipmentStatus,onClick:function(){return e.autofillLines(i)}},r.createElement(j.A,{id:"react.partialReceiving.autofillQuantities.label",defaultMessage:"Autofill quantities"})),r.createElement("button",{type:"button",className:"btn btn-outline-secondary float-right btn-form btn-xs",disabled:!ye(i.containers)||"RECEIVED"===i.shipmentStatus,onClick:function(){return e.saveAndExit(i)}},r.createElement("span",null,r.createElement("i",{className:"fa fa-sign-out pr-2"}),r.createElement(j.A,{id:"react.default.button.saveAndExit.label",defaultMessage:"Save and exit"}))),r.createElement("button",{type:"button",className:"btn btn-outline-secondary float-right btn-form btn-xs",disabled:!ye(i.containers)||"RECEIVED"===i.shipmentStatus,onClick:function(){return e.save(i)}},r.createElement(j.A,{id:"react.default.button.save.label",defaultMessage:"Save"})),r.createElement("button",{type:"button",className:"btn btn-outline-secondary btn-xs mr-3",onClick:function(){return e.exportTemplate()}},r.createElement("span",null,r.createElement("i",{className:"fa fa-upload pr-2"}),r.createElement(j.A,{id:"react.default.button.exportTemplate.label",defaultMessage:"Export template"}))),r.createElement("label",{htmlFor:"csvInput",className:"btn btn-outline-secondary btn-xs mr-3"},r.createElement("span",null,r.createElement("i",{className:"fa fa-download pr-2"}),r.createElement(j.A,{id:"react.default.button.importTemplate.label",defaultMessage:"Import template"})),r.createElement("input",{id:"csvInput",type:"file",style:{display:"none"},onChange:e.importTemplate,onClick:function(e){e.target.value=null},accept:".csv"})))),r.createElement("div",{className:"my-2 table-form","data-testid":"items-table"},a().map(ge,(function(t,n){var r;return(0,Z.bl)(t,n,{totalCount:(null===(r=e.state.values)||void 0===r||null===(r=r.containers)||void 0===r?void 0:r.length)||0,loadMoreRows:function(){},isRowLoaded:e.isRowLoaded,isFirstPageLoaded:e.state.isFirstPageLoaded,autofillLines:e.autofillLines,saveEditLine:e.saveEditLine,setLocation:e.setLocation,bins:e.props.bins,hasBinLocationSupport:e.props.hasBinLocationSupport,locationId:e.props.locationId,shipmentReceived:"RECEIVED"===e.state.values.shipmentStatus,values:i,hasPartialReceivingSupport:e.props.hasPartialReceivingSupport,translate:e.props.translate,formatLocalizedDate:e.props.formatLocalizedDate,initialReceiptCandidates:e.state.initialReceiptCandidates})}))),r.createElement("div",{className:"submit-buttons"},r.createElement("button",{type:"submit",className:"btn btn-outline-primary btn-form float-right btn-xs",disabled:!ye(i.containers)||"RECEIVED"===i.shipmentStatus},r.createElement(j.A,{id:"react.default.button.next.label",defaultMessage:"Next"})))))}}))}}])&&te(n.prototype,i),o&&te(n,o),Object.defineProperty(n,"prototype",{writable:!1}),n;var n,i,o}(r.Component);const Oe=(0,f.Ng)((function(e){return{hasBinLocationSupport:e.session.currentLocation.hasBinLocationSupport,hasPartialReceivingSupport:e.session.currentLocation.hasPartialReceivingSupport,translate:(0,j.H)((0,p.ro)(e.localize)),formatLocalizedDate:(0,G.Yq)(e.localize)}}),{showSpinner:d.xc,hideSpinner:d.W$})(Re);Re.propTypes={showSpinner:c().func.isRequired,hideSpinner:c().func.isRequired,hasBinLocationSupport:c().bool.isRequired,bins:c().arrayOf(c().shape({})),locationId:c().string.isRequired,nextPage:c().func.isRequired,hasPartialReceivingSupport:c().bool.isRequired,translate:c().func.isRequired,formatLocalizedDate:c().func.isRequired,sort:c().string.isRequired,updateSort:c().func.isRequired},Re.defaultProps={bins:[]};var we=n(84615);function Ee(e){return Ee="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Ee(e)}function xe(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}function Ie(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Pe(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Ie(Object(n),!0).forEach((function(t){Ae(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Ie(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function Ae(e,t,n){return(t=je(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Ce(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,je(r.key),r)}}function je(e){var t=function(e){if("object"!=Ee(e)||!e)return e;var t=e[Symbol.toPrimitive];if(void 0!==t){var n=t.call(e,"string");if("object"!=Ee(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==Ee(t)?t:t+""}function Ne(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(e){}return(Ne=function(){return!!e})()}function De(e){return De=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},De(e)}function qe(e,t){return qe=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},qe(e,t)}var Le={"origin.name":{label:"react.partialReceiving.origin.label",defaultMessage:"Origin",type:function(e){return r.createElement(x.A,e)},attributes:{disabled:!0}},"destination.name":{label:"react.partialReceiving.destination.label",defaultMessage:"Destination",type:function(e){return r.createElement(x.A,e)},attributes:{disabled:!0}},dateShipped:{label:"react.partialReceiving.shippedOn.label",defaultMessage:"Shipped on",type:function(e){return r.createElement(I.A,e)},attributes:{localizeDate:!0,localizedDateFormat:C.A.COMMON,disabled:!0}},dateDelivered:{label:"react.partialReceiving.deliveredOn.label",defaultMessage:"Delivered on",type:function(e){return r.createElement(I.A,e)},attributes:{localizeDate:!0,localizedDateFormat:C.A.DEFAULT,dateFormat:"MM/DD/YYYY HH:mm Z",required:!0,showTimeSelect:!0,autoComplete:"off"}}},ke={containers:{type:R.A,rowComponent:E.A,subfieldKey:"shipmentItems",headerFontSize:"0.775rem",fields:{"parentContainer.name":{fieldKey:"",flexWidth:"1",type:function(e){return e.subfield?null:r.createElement(O.A,e)},label:"react.partialReceiving.packLevel1.label",defaultMessage:"Pack level 1",attributes:{formatValue:function(e){return a().get(e,"parentContainer.name")||a().get(e,"container.name")||"Unpacked"}}},"container.name":{fieldKey:"",flexWidth:"1",type:function(e){return e.subfield?null:r.createElement(O.A,e)},label:"react.partialReceiving.packLevel2.label",defaultMessage:"Pack level 2",attributes:{formatValue:function(e){return a().get(e,"parentContainer.name")&&a().get(e,"container.name")||""}}},"product.productCode":{type:function(e){return e.subfield?r.createElement(O.A,e):null},label:"react.partialReceiving.code.label",defaultMessage:"Code",headerAlign:"left",flexWidth:"1",attributes:{className:"text-left ml-1"}},product:{type:function(e){return e.subfield?r.createElement(O.A,e):null},label:"react.partialReceiving.product.label",defaultMessage:"Product",headerAlign:"left",flexWidth:"4",attributes:{className:"text-left ml-1",showValueTooltip:!0,formatValue:X.OL},getDynamicAttr:function(e){var t=e.fieldValue;return{tooltipValue:null==t?void 0:t.name}}},lotNumber:{type:function(e){return e.subfield?r.createElement(O.A,e):null},label:"react.partialReceiving.lotSerialNo.label",defaultMessage:"Lot/Serial No.",flexWidth:"1"},expirationDate:{type:function(e){return e.subfield?r.createElement(O.A,e):null},label:"react.partialReceiving.expirationDate.label",defaultMessage:"Expiration date",flexWidth:"1",getDynamicAttr:function(e){var t=e.formatLocalizedDate;return{formatValue:function(e){return e?t(e,C.A.COMMON):e}}}},binLocation:{type:function(e){return e.subfield?r.createElement(O.A,e):null},label:"react.partialReceiving.binLocation.label",defaultMessage:"Bin Location",flexWidth:"1.5",getDynamicAttr:function(e){return{hide:!e.hasBinLocationSupport}},attributes:{showValueTooltip:!0,formatValue:function(e){return r.createElement("div",{className:"d-flex"},e.zoneName?r.createElement("div",{className:"text-truncate",style:{minWidth:30,flexShrink:20}},e.zoneName):"",r.createElement("div",{className:"text-truncate"},e.zoneName?": ".concat(e.name):e.name))}}},"recipient.name":{type:function(e){return e.subfield?r.createElement(O.A,e):null},label:"react.partialReceiving.recipient.label",defaultMessage:"Recipient",flexWidth:"1.5"},quantityReceiving:{type:function(e){return e.subfield?r.createElement(O.A,e):null},label:"react.partialReceiving.receivingNow.label",defaultMessage:"Receiving now",flexWidth:"1",attributes:{cellClassName:"text-right",formatValue:function(e){return e?e.toLocaleString("en-US"):e}}},quantityRemaining:{type:function(e){return e.subfield?r.createElement(O.A,e):null},label:"react.partialReceiving.remaining.label",defaultMessage:"Remaining",fieldKey:"",flexWidth:"1",attributes:{cellClassName:"text-right",formatValue:function(e){return e&&e.quantityRemaining?e.quantityRemaining.toLocaleString("en-US"):e.quantityRemaining}},getDynamicAttr:function(e){var t=e.fieldValue;return{className:!t||!t.cancelRemaining&&t.quantityRemaining?"text-danger":"strike-through"}}},cancelRemaining:{fieldKey:"quantityRemaining",type:function(e){return e.subfield?r.createElement(we.A,e):null},label:"react.partialReceiving.cancelRemaining.label",defaultMessage:"Cancel remaining",flexWidth:"1",getDynamicAttr:function(e){var t=e.saveDisabled,n=e.fieldValue,r=e.hasPartialReceivingSupport;return{disabled:t||a().toInteger(n)<=0||!r,hide:!r}}},comment:{type:function(e){return e.subfield?r.createElement(O.A,e):null},label:"react.partialReceiving.comment.label",defaultMessage:"Comment",flexWidth:"1"}}}};function Me(e){var t={containers:[]},n=l()(e.dateDelivered,"MM/DD/YYYY");return e.dateDelivered||(t.dateDelivered="react.default.error.requiredField.label"),l()().diff(n)<0&&(t.dateDelivered="react.partialReceiving.error.futureDate.label"),a().forEach(e.containers,(function(e,n){t.containers[n]={shipmentItems:[]},a().forEach(e.shipmentItems,(function(e,r){e.quantityReceiving<0&&(t.containers[n].shipmentItems[r]={quantityReceiving:"react.partialReceiving.error.quantityToReceiveNegative.label"})}))})),t}var Te=function(e){function t(e){var n;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),(n=function(e,t,n){return t=De(t),function(e,t){if(t&&("object"==Ee(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(e,Ne()?Reflect.construct(t,n||[],De(e).constructor):t.apply(e,n))}(this,t,[e])).state={completed:n.props.completed,values:{}},n.onSave=n.onSave.bind(n),n.cancelAllRemaining=n.cancelAllRemaining.bind(n),n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&qe(e,t)}(t,e),n=t,(i=[{key:"componentDidMount",value:function(){this.fetchPartialReceiptCandidates()}},{key:"onSave",value:function(){this.save(this.state.values)}},{key:"onSubmit",value:function(e){var t=this;a().some(e.containers,(function(e){return a().some(e.shipmentItems,(function(e){return a().isNull(e.binLocation.id)}))}))&&this.props.hasBinLocationSupport&&"RECEIVED"!==e.shipmentStatus?this.confirmReceive(e):this.save(Pe(Pe({},e),{},{receiptStatus:"COMPLETED"}),(function(){t.setState({completed:!0});var n=e.requisition,r=e.shipmentId;window.location=K.ti.show(n||r)}))}},{key:"fetchPartialReceiptCandidates",value:function(){var e=this;this.props.showSpinner();var t="/api/partialReceiving/".concat(this.props.match.params.shipmentId,"?stepNumber=2&sort=").concat(this.props.sort);return Q.Ay.get(t).then((function(t){var n=(0,Q.xp)(t.data.data);e.props.hasPartialReceivingSupport||(n.containers=a().map(n.containers,(function(e){return Pe(Pe({},e),{},{shipmentItems:a().chain(e.shipmentItems).map((function(e){return e.receiptItemId&&e.quantityRemaining>0?Pe(Pe({},e),{},{cancelRemaining:!0}):e})).filter((function(e){return!a().isNil(e.quantityReceiving)&&""!==e.quantityReceiving})).value()})}))),e.setState({values:{}},(function(){e.setState({values:n})}))})).catch((function(){return e.props.hideSpinner()}))}},{key:"confirmReceive",value:function(e){var t=this;(0,g.ZX)({title:this.props.translate("react.partialReceiving.message.confirmReceive.label","Confirm receiving"),message:this.props.translate("react.partialReceiving.confirmReceive.message","Are you sure you want to receive? There are some lines with empty bin locations."),buttons:[{label:this.props.translate("react.default.yes.label","Yes"),onClick:function(){return t.save(Pe(Pe({},e),{},{receiptStatus:"COMPLETED"}),(function(){t.setState({completed:!0});var n=e.requisition,r=e.shipmentId;window.location=K.ti.show(n||r)}))}},{label:this.props.translate("react.default.no.label","No")}]})}},{key:"cancelAllRemaining",value:function(){var e=v()(this.state.values.containers,{$apply:function(e){return e?e.map((function(e){return v()(e,{shipmentItems:{$apply:function(e){return e?e.map((function(e){return Pe(Pe({},e),{},{cancelRemaining:e.quantityRemaining>0})})):[]}}})})):[]}}),t=this.state.values,n=JSON.parse(JSON.stringify(t));n.containers=e,this.setState({values:n}),window.setFormValue("containers",e)}},{key:"saveAndExit",value:function(e){var t=this;this.saveValues(e).then((function(){var t=e.requisition,n=e.shipmentId;window.location=K.ti.show(t||n)})).catch((function(){return t.props.hideSpinner()}))}},{key:"saveValues",value:function(e){var t;this.props.showSpinner();var n="/api/partialReceiving/".concat(this.props.match.params.shipmentId,"?stepNumber=2"),r=Pe(Pe({},e),{},{recipient:null==e||null===(t=e.recipient)||void 0===t?void 0:t.id,containers:(0,X.vk)(e)});return Q.Ay.post(n,(0,Q.iR)(r))}},{key:"save",value:function(e,t){var n=this;this.props.showSpinner(),this.saveValues(e).then((function(e){n.props.hideSpinner(),n.setState({values:{}},(function(){return n.setState({values:(0,Q.xp)(e.data.data)})})),t&&t()})).catch((function(){return n.props.hideSpinner()}))}},{key:"prevPage",value:function(e){var t=this;this.saveValues(e).then((function(){return t.props.previousPage(e)}))}},{key:"render",value:function(){var e=this;return r.createElement("div",null,r.createElement(S.lV,{onSubmit:function(t){return e.onSubmit(t)},validate:Me,mutators:Pe(Pe({},m.A),{},{setValue:function(e,t,n){var r=function(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,i,a,o,l=[],u=!0,c=!1;try{if(a=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;u=!1}else for(;!(u=(r=a.call(n)).done)&&(l.push(r.value),l.length!==t);u=!0);}catch(e){c=!0,i=e}finally{try{if(!u&&null!=n.return&&(o=n.return(),Object(o)!==o))return}finally{if(c)throw i}}return l}}(e,t)||function(e,t){if(e){if("string"==typeof e)return xe(e,t);var n={}.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?xe(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}(e,2),i=r[0],a=r[1];(0,n.changeValue)(t,i,(function(){return a}))}}),initialValues:this.state.values,render:function(t){var n=t.handleSubmit,i=t.values,o=t.form;return window.setFormValue||(window.setFormValue=o.mutators.setValue),r.createElement("form",{onSubmit:n},r.createElement("div",{className:"classic-form classic-form-condensed"},r.createElement("span",{className:"buttons-container classic-form-buttons"},r.createElement("button",{type:"button",className:"btn btn-outline-secondary float-right btn-form btn-xs",onClick:function(){return e.saveAndExit(e.state.values)},disabled:e.state.completed||!a().size(e.state.values.containers)},r.createElement("span",null,r.createElement("i",{className:"fa fa-sign-out pr-2"}),r.createElement(j.A,{id:"react.default.button.saveAndExit.label",defaultMessage:"Save and exit"}))),r.createElement("button",{type:"button",className:"btn btn-outline-secondary float-right btn-form btn-xs",onClick:function(){return e.onSave()},disabled:e.state.completed||!a().size(e.state.values.containers)},r.createElement(j.A,{id:"react.default.button.save.label",defaultMessage:"Save"})),e.props.hasPartialReceivingSupport?r.createElement("button",{type:"button",className:"btn btn-outline-danger float-right btn-form btn-xs",onClick:function(){return e.cancelAllRemaining()},disabled:e.state.completed||!a().size(e.state.values.containers)},r.createElement(j.A,{id:"react.partialReceiving.cancelAllRemaining.label",defaultMessage:"Cancel all remaining"})):null),r.createElement("div",{className:"form-title"},r.createElement(j.A,{id:"react.partialReceiving.shipmentInformation.label",defaultMessage:"Shipment information"})),a().map(Le,(function(t,n){return(0,Z.bl)(t,n,{saveDisabled:e.state.completed||!a().size(e.state.values.containers),hasBinLocationSupport:e.props.hasBinLocationSupport,hasPartialReceivingSupport:e.props.hasPartialReceivingSupport})}))),r.createElement("div",{className:"my-2 table-form","data-testid":"items-table"},a().map(ke,(function(t,n){return(0,Z.bl)(t,n,{saveDisabled:e.state.completed||!a().size(e.state.values.containers),saveAndExit:e.onExit,hasBinLocationSupport:e.props.hasBinLocationSupport,cancelAllRemaining:e.cancelAllRemaining,hasPartialReceivingSupport:e.props.hasPartialReceivingSupport,formatLocalizedDate:e.props.formatLocalizedDate,values:i})}))),r.createElement("div",{className:"submit-buttons"},r.createElement("button",{type:"button",className:"btn btn-outline-primary btn-form btn-xs",onClick:function(){return e.prevPage(i)}},r.createElement(j.A,{id:"react.partialReceiving.backToEdit.label",defaultMessage:"Back to edit"})),r.createElement("button",{type:"submit",className:"btn btn-outline-success btn-form float-right btn-xs",disabled:e.state.completed||!a().size(e.state.values.containers)},r.createElement(j.A,{id:"react.partialReceiving.receiveShipment.label",defaultMessage:"Receive shipment"}))))}}))}}])&&Ce(n.prototype,i),Object.defineProperty(n,"prototype",{writable:!1}),n;var n,i}(r.Component);const Ve=(0,f.Ng)((function(e){return{hasBinLocationSupport:e.session.currentLocation.hasBinLocationSupport,hasPartialReceivingSupport:e.session.currentLocation.hasPartialReceivingSupport,formatLocalizedDate:(0,G.Yq)(e.localize)}}),{showSpinner:d.xc,hideSpinner:d.W$})(Te);Te.propTypes={completed:c().bool,hasBinLocationSupport:c().bool.isRequired,hasPartialReceivingSupport:c().bool.isRequired,showSpinner:c().func.isRequired,hideSpinner:c().func.isRequired,translate:c().func.isRequired,previousPage:c().func.isRequired,formatLocalizedDate:c().func.isRequired,sort:c().string.isRequired},Te.defaultProps={completed:!1};var Be=n(80461);function ze(e){return ze="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},ze(e)}function _e(e){return function(e){if(Array.isArray(e))return Fe(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(e){if("string"==typeof e)return Fe(e,t);var n={}.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?Fe(e,t):void 0}}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Fe(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}function We(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,Qe(r.key),r)}}function Ue(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(e){}return(Ue=function(){return!!e})()}function Ye(e){return Ye=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},Ye(e)}function Ke(e,t){return Ke=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},Ke(e,t)}function $e(e,t,n){return(t=Qe(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Qe(e){var t=function(e){if("object"!=ze(e)||!e)return e;var t=e[Symbol.toPrimitive];if(void 0!==t){var n=t.call(e,"string");if("object"!=ze(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==ze(t)?t:t+""}var He=function(e){function t(e){var n;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),$e(n=function(e,t,n){return t=Ye(t),function(e,t){if(t&&("object"==ze(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(e,Ue()?Reflect.construct(t,n||[],Ye(e).constructor):t.apply(e,n))}(this,t,[e]),"dataFetched",!1),$e(n,"updateSort",(function(e){n.setState({sort:e})})),n.state={bins:[],formData:{},locationId:"",shipmentNumber:"",currentPage:1,sort:$[0].value},n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Ke(e,t)}(t,e),n=t,(i=[{key:"componentDidMount",value:function(){this.props.fetchTranslations("","partialReceiving"),this.props.partialReceivingTranslationsFetched&&(this.dataFetched=!0,this.fetchPartialReceiptCandidates())}},{key:"componentWillReceiveProps",value:function(e){this.props.locale&&this.props.locale!==e.locale&&this.props.fetchTranslations(e.locale,"partialReceiving"),e.partialReceivingTranslationsFetched&&!this.dataFetched&&(this.dataFetched=!0,this.fetchPartialReceiptCandidates())}},{key:"stepList",get:function(){return[this.props.translate("react.partialReceiving.receiving.label","Receiving"),this.props.translate("react.partialReceiving.check.label","Check")]}},{key:"wizardTitle",get:function(){var e=this.state.formData;if(!e.shipment)return[];var t=l()(e.dateShipped).format("MM/DD/YYYY");return[{text:"".concat(this.props.translate("react.partialReceiving.receiving.label","Receiving")),color:"#000000",delimeter:" | "},{text:e.shipment.shipmentNumber,color:"#000000",delimeter:" - "},{text:e.origin.name,color:"#004d40",delimeter:" ".concat(this.props.translate("react.default.to.label","to")," ")},{text:e.destination.name,color:"#01579b",delimeter:", "},{text:this.props.formatLocalizedDate(t,C.A.COMMON),color:"#4a148c",delimeter:", "},{text:e.description,color:"#770838",delimeter:""}]}},{key:"fetchPartialReceiptCandidates",value:function(){var e=this;this.props.showSpinner();var t="/api/partialReceiving/".concat(this.props.match.params.shipmentId,"?stepNumber=").concat(this.state.currentPage);return Q.Ay.get(t).then((function(t){var n=(0,Q.xp)(t.data.data);e.setState({formData:n,locationId:n.destination.id,shipmentNumber:n.shipment.shipmentNumber},(function(){e.fetchBins()}))})).catch((function(){return e.props.hideSpinner()}))}},{key:"fetchBins",value:function(){var e=this,t=function(e){return a().chain(e).orderBy(["name"],["asc"]).value()};return Q.Ay.get("/api/internalLocations/receiving",{paramsSerializer:function(e){return s.A.stringify(e)},params:{locationTypeCode:["BIN_LOCATION","INTERNAL"],"location.id":this.state.locationId,shipmentNumber:this.state.shipmentNumber}}).then((function(n){var r=a().partition(n.data.data,(function(e){return e.zoneName})),i=a().chain(r[0]).groupBy("zoneName").map((function(e,n){return{name:n,options:t(e)}})).orderBy(["label"],["asc"]).value(),o=t(r[1]);e.setState({bins:[].concat(_e(i),_e(o))},(function(){return e.props.hideSpinner()}))})).catch((function(){return e.props.hideSpinner()}))}},{key:"render",value:function(){var e=this.state,t=e.formData,n=e.locationId,i=e.currentPage,a=e.bins,o=e.sort,l=this.props,u=l.match,c=l.translate,s=[Oe,Ve];return n?r.createElement(Be.A,{pageList:s,stepList:this.stepList,initialValues:t,title:this.wizardTitle,currentPage:i,prevPage:1===i?1:i-1,additionalProps:{bins:a,locationId:n,match:u,translate:c,sort:o,updateSort:this.updateSort}}):null}}])&&We(n.prototype,i),Object.defineProperty(n,"prototype",{writable:!1}),n;var n,i}(r.Component);const Ze=(0,f.Ng)((function(e){return{translate:(0,j.H)((0,p.ro)(e.localize)),hasBinLocationSupport:e.session.currentLocation.hasBinLocationSupport,locale:e.session.activeLanguage,partialReceivingTranslationsFetched:e.session.fetchedTranslations.partialReceiving,hasPartialReceivingSupport:e.session.currentLocation.hasPartialReceivingSupport,formatLocalizedDate:(0,G.Yq)(e.localize)}}),{showSpinner:d.xc,hideSpinner:d.W$,fetchTranslations:d.dj})(He);He.propTypes={match:c().shape({params:c().shape({shipmentId:c().string})}).isRequired,showSpinner:c().func.isRequired,hideSpinner:c().func.isRequired,translate:c().func.isRequired,locale:c().string.isRequired,partialReceivingTranslationsFetched:c().bool.isRequired,fetchTranslations:c().func.isRequired,formatLocalizedDate:c().func.isRequired}},84079:(e,t,n)=>{"use strict";n.d(t,{A:()=>s});var r=n(96540),i=n(5556),a=n.n(i),o=n(26216),l=["value","indeterminate","custom","fieldRef","withLabel","label","defaultMessage"];function u(){return u=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},u.apply(null,arguments)}var c=function(e){var t=e.value,n=e.indeterminate,i=e.custom,a=e.fieldRef,c=e.withLabel,s=e.label,p=e.defaultMessage,f=function(e,t){if(null==e)return{};var n,r,i=function(e,t){if(null==e)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(-1!==t.indexOf(r))continue;n[r]=e[r]}return n}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],-1===t.indexOf(n)&&{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}(e,l),d=function(e){var t=e.target.checked;f.onChange&&f.onChange(t)};return i?r.createElement("div",{"data-testid":"custom-checkbox",className:"custom-checkbox"},r.createElement("label",{htmlFor:f.id},r.createElement("input",u({id:f.id,type:"checkbox",ref:a,checked:t},f,{onChange:d})))):c?r.createElement("div",{"data-testid":"with-label-checkbox",className:"d-flex align-items-center"},r.createElement("input",u({type:"checkbox",ref:function(e){e&&(e.indeterminate=n),a&&a(e)},checked:t},f,{onChange:d})),r.createElement("label",{htmlFor:f.id,style:{margin:"0 0 0 5px"}},r.createElement(o.A,{id:s,defaultMessage:p||s}))):r.createElement("input",u({"data-testid":"checkbox",type:"checkbox",ref:function(e){e&&(e.indeterminate=n),a&&a(e)},checked:t},f,{onChange:d}))};const s=c;c.propTypes={onChange:a().func,value:a().bool,indeterminate:a().bool,custom:a().bool,id:a().string,fieldRef:a().func,withLabel:a().bool,label:a().string,defaultMessage:a().string},c.defaultProps={onChange:null,value:null,indeterminate:!1,custom:!1,id:"",fieldRef:void 0,withLabel:!1,label:"",defaultMessage:""}},84615:(e,t,n)=>{"use strict";n.d(t,{A:()=>u});var r=n(96540),i=n(4395),a=n(84079),o=["value"];function l(){return l=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},l.apply(null,arguments)}const u=function(e){return r.createElement(i.A,l({},e,{renderInput:function(e){var t=e.value,n=function(e,t){if(null==e)return{};var n,r,i=function(e,t){if(null==e)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(-1!==t.indexOf(r))continue;n[r]=e[r]}return n}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],-1===t.indexOf(n)&&{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}(e,o);return r.createElement(a.A,l({},n,{value:t||!1}))}}))}}}]);
//# sourceMappingURL=bundle.929af1b45eb780bfc503.1343.js.map