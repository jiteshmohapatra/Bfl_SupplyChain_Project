"use strict";(self.webpackChunkopenboxes=self.webpackChunkopenboxes||[]).push([[358],{10358:function(e,t,o){var n=this&&this.__assign||function(){return n=Object.assign||function(e){for(var t,o=1,n=arguments.length;o<n;o++)for(var r in t=arguments[o])Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r]);return e},n.apply(this,arguments)};Object.defineProperty(t,"__esModule",{value:!0}),t.Popover=t.usePopover=t.ArrowContainer=t.useArrowContainer=void 0;var r=o(31085),i=o(14041),a=o(49160),c=o(59835),u=o(59203);Object.defineProperty(t,"usePopover",{enumerable:!0,get:function(){return u.usePopover}});var l=o(63831),s=o(17785),d=o(17532);Object.defineProperty(t,"useArrowContainer",{enumerable:!0,get:function(){return d.useArrowContainer}});var p=o(20955);Object.defineProperty(t,"ArrowContainer",{enumerable:!0,get:function(){return p.ArrowContainer}});var f=["top","left","right","bottom"],v=(0,i.forwardRef)((function(e,t){var o=e.isOpen,n=e.children,d=e.content,p=e.positions,v=void 0===p?f:p,h=e.align,g=void 0===h?"center":h,b=e.padding,m=void 0===b?0:b,y=e.reposition,R=void 0===y||y,w=e.parentElement,P=void 0===w?window.document.body:w,C=e.boundaryElement,E=void 0===C?P:C,M=e.containerClassName,x=e.containerStyle,_=e.transform,O=e.transformMode,j=void 0===O?"absolute":O,N=e.boundaryInset,T=void 0===N?0:N,A=e.onClickOutside,k=e.clickOutsideCapture,L=void 0!==k&&k,I=(0,l.useMemoizedArray)(Array.isArray(v)?v:[v]),S=(0,s.useHandlePrevValues)({positions:I,reposition:R,transformMode:j,transform:_,boundaryElement:E,boundaryInset:T}),V=S.prev,B=S.updatePrevValues,Y=(0,i.useRef)(),z=(0,i.useState)({align:g,nudgedLeft:0,nudgedTop:0,position:I[0],padding:m,childRect:c.EMPTY_RECT,popoverRect:c.EMPTY_RECT,parentRect:c.EMPTY_RECT,boundaryRect:c.EMPTY_RECT,boundaryInset:T,violations:c.EMPTY_RECT,hasViolations:!1}),F=z[0],q=z[1],H=(0,i.useCallback)((function(e){return q(e)}),[]),D=(0,u.usePopover)({isOpen:o,childRef:Y,containerClassName:M,parentElement:P,boundaryElement:E,transform:_,transformMode:j,positions:I,align:g,padding:m,boundaryInset:T,reposition:R,onPositionPopover:H}),G=D.positionPopover,J=D.popoverRef,K=D.scoutRef;(0,i.useLayoutEffect)((function(){var e=!0,t=function(){var n,r;if(o&&e){var i=null===(n=null==Y?void 0:Y.current)||void 0===n?void 0:n.getBoundingClientRect(),a=null===(r=null==J?void 0:J.current)||void 0===r?void 0:r.getBoundingClientRect();null==i||null==a||(0,c.rectsAreEqual)(i,F.childRect)&&a.width===F.popoverRect.width&&a.height===F.popoverRect.height&&F.padding===m&&F.align===g&&I===V.positions&&R===V.reposition&&j===V.transformMode&&_===V.transform&&E===V.boundaryElement&&T===V.boundaryInset||G(),B(),e&&window.requestAnimationFrame(t)}};return t(),function(){e=!1}}),[g,E,T,o,m,J,F.align,F.childRect,F.padding,F.popoverRect.height,F.popoverRect.width,G,I,V.boundaryElement,V.boundaryInset,V.positions,V.reposition,V.transform,V.transformMode,R,_,j,B]),(0,i.useEffect)((function(){var e=J.current;return Object.assign(e.style,x),function(){Object.keys(null!=x?x:{}).forEach((function(t){return delete e.style[t]}))}}),[x,o,J]);var Q=(0,i.useCallback)((function(e){var t,n;!o||(null===(t=J.current)||void 0===t?void 0:t.contains(e.target))||(null===(n=Y.current)||void 0===n?void 0:n.contains(e.target))||null==A||A(e)}),[o,A,J]),U=(0,i.useCallback)((function(){Y.current&&o&&window.requestAnimationFrame((function(){return G()}))}),[G,o]);(0,i.useEffect)((function(){var e=P.ownerDocument.body;return e.addEventListener("click",Q,L),e.addEventListener("contextmenu",Q,L),window.addEventListener("resize",U),function(){e.removeEventListener("click",Q,L),e.removeEventListener("contextmenu",Q,L),window.removeEventListener("resize",U)}}),[L,Q,U,P]);var W=(0,i.useCallback)((function(e){Y.current=e,null!=t&&("object"==typeof t?t.current=e:"function"==typeof t&&t(e))}),[t]);return(0,r.jsxs)(r.Fragment,{children:[(0,i.cloneElement)(n,{ref:W}),o?(0,r.jsx)(a.PopoverPortal,{element:J.current,scoutElement:K.current,container:P,children:"function"==typeof d?d(F):d}):null]})}));t.Popover=(0,i.forwardRef)((function(e,t){return"undefined"==typeof window?e.children:(0,r.jsx)(v,n({},e,{ref:t}))}))},17532:function(e,t,o){var n=this&&this.__assign||function(){return n=Object.assign||function(e){for(var t,o=1,n=arguments.length;o<n;o++)for(var r in t=arguments[o])Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r]);return e},n.apply(this,arguments)};Object.defineProperty(t,"__esModule",{value:!0}),t.useArrowContainer=void 0;var r=o(14041);t.useArrowContainer=function(e){var t=e.childRect,o=e.popoverRect,i=e.position,a=e.arrowSize,c=e.arrowColor;return{arrowContainerStyle:(0,r.useMemo)((function(){return{padding:a}}),[a]),arrowStyle:(0,r.useMemo)((function(){return n({position:"absolute"},function(){var e=2*a,n=t.top-o.top+t.height/2-e/2,r=t.left-o.left+t.width/2-e/2,u=a,l=o.width-a,s=o.height-a;switch(r=(r=r<u?u:r)+e>l?l-e:r,n=(n=n<u?u:n)+e>s?s-e:n,n=Number.isNaN(n)?0:n,r=Number.isNaN(r)?0:r,i){case"right":return{borderTop:"".concat(a,"px solid transparent"),borderBottom:"".concat(a,"px solid transparent"),borderRight:"".concat(a,"px solid ").concat(c),left:0,top:n};case"left":return{borderTop:"".concat(a,"px solid transparent"),borderBottom:"".concat(a,"px solid transparent"),borderLeft:"".concat(a,"px solid ").concat(c),right:0,top:n};case"bottom":return{borderLeft:"".concat(a,"px solid transparent"),borderRight:"".concat(a,"px solid transparent"),borderBottom:"".concat(a,"px solid ").concat(c),top:0,left:r};case"top":return{borderLeft:"".concat(a,"px solid transparent"),borderRight:"".concat(a,"px solid transparent"),borderTop:"".concat(a,"px solid ").concat(c),bottom:0,left:r};default:return{display:"hidden"}}}())}),[c,a,t.height,t.left,t.top,t.width,o.height,o.left,o.top,o.width,i])}}},17785:(e,t,o)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.useHandlePrevValues=void 0;var n=o(14041);t.useHandlePrevValues=function(e){var t=(0,n.useRef)(e.positions),o=(0,n.useRef)(e.reposition),r=(0,n.useRef)(e.transformMode),i=(0,n.useRef)(e.transform),a=(0,n.useRef)(e.boundaryElement),c=(0,n.useRef)(e.boundaryInset),u=(0,n.useCallback)((function(){t.current=e.positions,o.current=e.reposition,r.current=e.transformMode,i.current=e.transform,a.current=e.boundaryElement,c.current=e.boundaryInset}),[e.boundaryElement,e.boundaryInset,e.positions,e.reposition,e.transform,e.transformMode]);return{prev:{positions:t.current,reposition:o.current,transformMode:r.current,transform:i.current,boundaryElement:a.current,boundaryInset:c.current},updatePrevValues:u}}},20955:function(e,t,o){var n=this&&this.__assign||function(){return n=Object.assign||function(e){for(var t,o=1,n=arguments.length;o<n;o++)for(var r in t=arguments[o])Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r]);return e},n.apply(this,arguments)};Object.defineProperty(t,"__esModule",{value:!0}),t.ArrowContainer=void 0;var r=o(31085),i=o(14041),a=o(17532);t.ArrowContainer=function(e){var t=e.childRect,o=e.popoverRect,c=e.position,u=e.arrowColor,l=e.arrowSize,s=e.arrowClassName,d=e.arrowStyle,p=e.className,f=e.children,v=e.style,h=(0,a.useArrowContainer)({childRect:t,popoverRect:o,position:c,arrowColor:u,arrowSize:l}),g=h.arrowContainerStyle,b=h.arrowStyle,m=(0,i.useMemo)((function(){return n(n({},g),v)}),[g,v]),y=(0,i.useMemo)((function(){return n(n({},b),d)}),[b,d]);return(0,r.jsxs)("div",{className:p,style:m,children:[(0,r.jsx)("div",{style:y,className:s}),f]})}},49160:(e,t,o)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.PopoverPortal=void 0;var n=o(14041),r=o(43144);t.PopoverPortal=function(e){var t=e.container,o=e.element,i=e.scoutElement,a=e.children;return(0,n.useLayoutEffect)((function(){return t.appendChild(o),t.appendChild(i),function(){t.removeChild(o),t.removeChild(i)}}),[t,o,i]),(0,r.createPortal)(a,o)}},59203:(e,t,o)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.usePopover=void 0;var n=o(14041),r=o(59835),i=o(72229),a={position:"fixed",overflow:"visible",top:"0px",left:"0px"},c={position:"fixed",top:"0px",left:"0px",width:"0px",height:"0px",visibility:"hidden"};t.usePopover=function(e){var t=e.isOpen,o=e.childRef,u=e.positions,l=e.containerClassName,s=e.parentElement,d=e.transform,p=e.transformMode,f=e.align,v=e.padding,h=e.reposition,g=e.boundaryInset,b=e.boundaryElement,m=e.onPositionPopover,y=(0,i.useElementRef)({containerClassName:"react-tiny-popover-scout",containerStyle:c}),R=(0,i.useElementRef)({containerClassName:null!=l&&l.length>0&&"react-tiny-popover-container"!==l?"react-tiny-popover-container ".concat(l):"react-tiny-popover-container",containerStyle:a}),w=(0,n.useCallback)((function(e){var n,i,a=void 0===e?{}:e,c=a.positionIndex,l=void 0===c?0:c,P=a.parentRect,C=void 0===P?s.getBoundingClientRect():P,E=a.childRect,M=void 0===E?null===(n=null==o?void 0:o.current)||void 0===n?void 0:n.getBoundingClientRect():E,x=a.scoutRect,_=void 0===x?null===(i=null==y?void 0:y.current)||void 0===i?void 0:i.getBoundingClientRect():x,O=a.popoverRect,j=void 0===O?R.current.getBoundingClientRect():O,N=a.boundaryRect,T=void 0===N?b===s?C:b.getBoundingClientRect():N;if(M&&C&&t){if(d&&"absolute"===p){var A="function"==typeof d?d({childRect:M,popoverRect:j,parentRect:C,boundaryRect:T,padding:v,align:f,nudgedTop:0,nudgedLeft:0,boundaryInset:g,violations:r.EMPTY_RECT,hasViolations:!1}):d,k=A.top,L=A.left,I=Math.round(C.left+L-_.left),S=Math.round(C.top+k-_.top);return R.current.style.transform="translate(".concat(I,"px, ").concat(S,"px)"),void m({childRect:M,popoverRect:(0,r.createRect)({left:I,top:S,width:j.width,height:j.height}),parentRect:C,boundaryRect:T,padding:v,align:f,transform:{top:k,left:L},nudgedTop:0,nudgedLeft:0,boundaryInset:g,violations:r.EMPTY_RECT,hasViolations:!1})}var V=l===u.length,B=V?u[0]:u[l],Y=(0,r.getNewPopoverRect)({childRect:M,popoverRect:j,boundaryRect:T,position:B,align:f,padding:v,reposition:h},g),z=Y.rect;if(Y.boundaryViolation&&h&&!V)w({positionIndex:l+1,childRect:M,popoverRect:j,parentRect:C,boundaryRect:T});else{var F=z.top,q=z.left,H=z.width,D=z.height,G=h&&!V,J=(0,r.getNudgedPopoverRect)(z,T,g),K=J.left,Q=J.top,U=F,W=q;G&&(U=Q,W=K),U=Math.round(U-_.top),W=Math.round(W-_.left),R.current.style.transform="translate(".concat(W,"px, ").concat(U,"px)");var X={top:T.top+g-U,left:T.left+g-W,right:W+H-T.right+g,bottom:U+D-T.bottom+g},Z={childRect:M,popoverRect:(0,r.createRect)({left:W,top:U,width:H,height:D}),parentRect:C,boundaryRect:T,position:B,align:f,padding:v,nudgedTop:Q-F,nudgedLeft:K-q,boundaryInset:g,violations:{top:X.top<=0?0:X.top,left:X.left<=0?0:X.left,right:X.right<=0?0:X.right,bottom:X.bottom<=0?0:X.bottom},hasViolations:X.top>0||X.left>0||X.right>0||X.bottom>0};if(d){m(Z);var $="function"==typeof d?d(Z):d,ee=$.top,te=$.left;R.current.style.transform="translate(".concat(Math.round(W+(null!=te?te:0)),"px, ").concat(Math.round(U+(null!=ee?ee:0)),"px)"),Z.nudgedLeft+=null!=te?te:0,Z.nudgedTop+=null!=ee?ee:0,Z.transform={top:ee,left:te}}m(Z)}}}),[s,o,y,R,b,t,d,p,u,f,v,h,g,m]);return{positionPopover:w,popoverRef:R,scoutRef:y}}},59835:function(e,t){var o=this&&this.__assign||function(){return o=Object.assign||function(e){for(var t,o=1,n=arguments.length;o<n;o++)for(var r in t=arguments[o])Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r]);return e},o.apply(this,arguments)};Object.defineProperty(t,"__esModule",{value:!0}),t.getNudgedPopoverRect=t.getNewPopoverRect=t.popoverRectForPosition=t.createContainer=t.rectsAreEqual=t.createRect=t.EMPTY_RECT=void 0,t.EMPTY_RECT={top:0,left:0,right:0,bottom:0,width:0,height:0},t.createRect=function(e){var t=e.top,o=e.left,n=e.width,r=e.height;return{top:t,left:o,width:n,height:r,right:o+n,bottom:t+r}},t.rectsAreEqual=function(e,t){return e===t||(null==e?void 0:e.bottom)===(null==t?void 0:t.bottom)&&(null==e?void 0:e.height)===(null==t?void 0:t.height)&&(null==e?void 0:e.left)===(null==t?void 0:t.left)&&(null==e?void 0:e.right)===(null==t?void 0:t.right)&&(null==e?void 0:e.top)===(null==t?void 0:t.top)&&(null==e?void 0:e.width)===(null==t?void 0:t.width)},t.createContainer=function(e){var t=e.containerStyle,o=e.containerClassName,n=window.document.createElement("div");return o&&(n.className=o),Object.assign(n.style,t),n},t.popoverRectForPosition=function(e,o,n,r,i){var a,c,u=o.left+o.width/2,l=o.top+o.height/2,s=n.width,d=n.height;switch(e){case"left":a=l-d/2,c=o.left-r-s,"start"===i&&(a=o.top),"end"===i&&(a=o.bottom-d);break;case"bottom":a=o.bottom+r,c=u-s/2,"start"===i&&(c=o.left),"end"===i&&(c=o.right-s);break;case"right":a=l-d/2,c=o.right+r,"start"===i&&(a=o.top),"end"===i&&(a=o.bottom-d);break;default:a=o.top-d-r,c=u-s/2,"start"===i&&(c=o.left),"end"===i&&(c=o.right-s)}return(0,t.createRect)({left:c,top:a,width:s,height:d})},t.getNewPopoverRect=function(e,o){var n=e.position,r=e.align,i=e.childRect,a=e.popoverRect,c=e.boundaryRect,u=e.padding,l=e.reposition,s=(0,t.popoverRectForPosition)(n,i,a,u,r);return{rect:s,boundaryViolation:l&&("top"===n&&s.top<c.top+o||"left"===n&&s.left<c.left+o||"right"===n&&s.right>c.right-o||"bottom"===n&&s.bottom>c.bottom-o)}},t.getNudgedPopoverRect=function(e,n,r){var i=n.top+r,a=n.left+r,c=n.right-r,u=n.bottom-r,l=e.top<i?i:e.top;l=l+e.height>u?u-e.height:l;var s=e.left<a?a:e.left;return s=s+e.width>c?c-e.width:s,(0,t.createRect)(o(o({},e),{top:l,left:s}))}},63831:(e,t,o)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.useMemoizedArray=void 0;var n=o(14041);t.useMemoizedArray=function(e){var t=(0,n.useRef)(e);return(0,n.useMemo)((function(){if(t.current===e)return t.current;if(t.current.length!==e.length)return t.current=e,e;for(var o=0;o<e.length;o+=1)if(e[o]!==t.current[o])return t.current=e,e;return t.current}),[e])}},72229:(e,t,o)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.useElementRef=void 0;var n=o(14041),r=o(59835);t.useElementRef=function(e){var t=e.containerClassName,o=e.containerStyle,i=(0,n.useRef)(),a=(0,n.useState)((function(){return(0,r.createContainer)({containerStyle:o,containerClassName:t})}))[0];return(0,n.useLayoutEffect)((function(){a.className=t}),[t,a]),(0,n.useLayoutEffect)((function(){Object.assign(a.style,o)}),[o,a]),i.current=a,i}}}]);
//# sourceMappingURL=bundle.929af1b45eb780bfc503.358.js.map