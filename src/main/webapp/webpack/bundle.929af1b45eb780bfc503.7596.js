/*! For license information please see bundle.929af1b45eb780bfc503.7596.js.LICENSE.txt */
"use strict";(self.webpackChunkopenboxes=self.webpackChunkopenboxes||[]).push([[7596],{69131:(e,t,r)=>{r.r(t),r.d(t,{default:()=>ue});var n=r(96540),o=r(5556),a=r.n(o),i=r(697),c=r(84976),l=r(8949),s=r(8089),u=r(66592),f=r(39802);const d={receiptStatusCode:{type:u.A,attributes:{multi:!0,filterElement:!0,placeholder:"react.stockMovement.inbound.filters.receiptStatus.label",defaultPlaceholder:"Receipt Status",ariaLabel:"Receipt Status",showLabelTooltip:!0,options:[],closeMenuOnSelect:!1,blurInputOnSelect:!1},getDynamicAttr:function(e){return{options:e.shipmentStatuses}}},origin:{type:u.A,attributes:{async:!0,openOnClick:!1,autoload:!1,cache:!1,valueKey:"id",labelKey:"name",options:[],filterOptions:function(e){return e},filterElement:!0,placeholder:"react.stockMovement.origin.label",defaultPlaceholder:"Origin",ariaLabel:"Origin",showLabelTooltip:!0},getDynamicAttr:function(e){return{loadOptions:e.fetchLocations}}},destination:{type:u.A,attributes:{valueKey:"id",options:[],filterElement:!0,placeholder:"react.stockMovement.destination.label",defaultPlaceholder:"Destination",ariaLabel:"Destination",showLabelTooltip:!0,disabled:!0}},shipmentType:{type:u.A,attributes:{multi:!0,filterElement:!0,placeholder:"react.stockMovement.shipmentType.label",defaultPlaceholder:"Shipment type",ariaLabel:"Shipment type",showLabelTooltip:!0,options:[],blurInputOnSelect:!1,closeMenuOnSelect:!1,valueKey:"id",labelKey:"displayName"},getDynamicAttr:function(e){return{options:e.shipmentTypes}}},requestedBy:{type:u.A,attributes:{async:!0,openOnClick:!1,autoload:!1,cache:!1,valueKey:"id",labelKey:"name",options:[],filterOptions:function(e){return e},filterElement:!0,placeholder:"react.stockMovement.requestedBy.label",defaultPlaceholder:"Requested By",ariaLabel:"Requested By",showLabelTooltip:!0},getDynamicAttr:function(e){return{loadOptions:e.fetchPeople}}},createdBy:{type:u.A,attributes:{async:!0,openOnClick:!1,autoload:!1,cache:!1,valueKey:"id",labelKey:"name",options:[],filterOptions:function(e){return e},filterElement:!0,placeholder:"react.stockMovement.createdBy.label",defaultPlaceholder:"Created By",ariaLabel:"Created By",showLabelTooltip:!0},getDynamicAttr:function(e){return{loadOptions:e.fetchUsers}}},updatedBy:{type:u.A,attributes:{async:!0,openOnClick:!1,autoload:!1,cache:!1,valueKey:"id",labelKey:"name",options:[],filterOptions:function(e){return e},filterElement:!0,placeholder:"react.stockMovement.updatedBy.label",defaultPlaceholder:"Updated By",ariaLabel:"Updated By",showLabelTooltip:!0},getDynamicAttr:function(e){return{loadOptions:e.fetchUsers}}},createdAfter:{type:s.A,attributes:{localizeDate:!0,localizedDateFormat:f.A.COMMON,label:"react.stockMovement.filter.createdAfter.label",defaultMessage:"Created after",dateFormat:"MM/DD/YYYY",ariaLabel:"Created after",filterElement:!0}},createdBefore:{type:s.A,attributes:{localizeDate:!0,localizedDateFormat:f.A.COMMON,label:"react.stockMovement.filter.createdBefore.label",defaultMessage:"Created before",dateFormat:"MM/DD/YYYY",ariaLabel:"Created before",filterElement:!0}}};var p=r(35546),m=r(24178);function h(e){return h="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},h(e)}function y(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function v(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?y(Object(r),!0).forEach((function(t){b(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):y(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function b(e,t,r){return(t=function(e){var t=function(e){if("object"!=h(e)||!e)return e;var t=e[Symbol.toPrimitive];if(void 0!==t){var r=t.call(e,"string");if("object"!=h(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==h(t)?t:t+""}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var g=function(e){var t=e.setFilterParams,r=e.debounceTime,o=e.minSearchLength,a=e.formProps,i=e.filterFields,c=e.defaultValues,l=(0,n.useCallback)((0,m.wY)(r,o),[r,o]),s=(0,n.useCallback)((0,m.tF)(r,o),[r,o]),u=(0,n.useCallback)((0,m.Uq)(r,o,[],!0,!1,!1),[r,o]);return n.createElement("div",{className:"d-flex flex-column list-page-filters"},n.createElement(p.A,{searchFieldId:"q",searchFieldPlaceholder:"react.stockMovement.search.placeholder.label",searchFieldDefaultPlaceholder:"Search by requisition number, name etc.",filterFields:i,defaultValues:c,ignoreClearFilters:["destination","direction"],updateFilterParams:function(e){return t(v({},e))},hidden:!1,formProps:v(v({},a),{},{fetchUsers:l,fetchLocations:u,fetchPeople:s})}))};const w=(0,i.Ng)((function(e){return{debounceTime:e.session.searchConfig.debounceTime,minSearchLength:e.session.searchConfig.minSearchLength}}))(g);g.propTypes={setFilterParams:a().func.isRequired,debounceTime:a().number.isRequired,minSearchLength:a().number.isRequired,filterFields:a().shape({}).isRequired,defaultValues:a().shape({}).isRequired,formProps:a().shape({}).isRequired};var E=r(42164),S=r(50709),O=r(26216),k=function(e){var t=e.showMyStockMovements;return n.createElement("div",{className:"d-flex list-page-header"},n.createElement("span",{className:"d-flex align-self-center title"},n.createElement(O.A,{id:"react.stockMovement.inbound.list.label",defaultMessage:"Inbound Movement List"})),n.createElement("div",{className:"d-flex justify-content-end buttons align-items-center"},n.createElement(E.A,{defaultLabel:"My Stock Movements",variant:"primary-outline",label:"react.stockMovement.myStockMovement.label",onClick:t}),n.createElement(c.N_,{className:"primary-button",to:{pathname:S.ti.createCombinedShipments(),search:"direction=INBOUND"}},n.createElement(O.A,{id:"react.stockMovement.createShipmentFromPO.label",defaultMessage:"Create Shipment from PO"})),n.createElement(c.N_,{className:"primary-button",to:S.ti.createInbound()},n.createElement(O.A,{id:"react.stockMovement.createStockMovement.label",defaultMessage:"Create Stock Movement"}))))};k.propTypes={showMyStockMovements:a().func.isRequired};const L=k;var x=r(41357),M=r(88600),P=r(61965),A=r(6016),j=r(85297),C=r(2543),B=r.n(C),D=r(23350),N=r(84914),T=r.n(N),F=r(76191),I=r(46857),q=r(85204),_=r(55216);function R(){R=function(){return t};var e,t={},r=Object.prototype,n=r.hasOwnProperty,o=Object.defineProperty||function(e,t,r){e[t]=r.value},a="function"==typeof Symbol?Symbol:{},i=a.iterator||"@@iterator",c=a.asyncIterator||"@@asyncIterator",l=a.toStringTag||"@@toStringTag";function s(e,t,r){return Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{s({},"")}catch(e){s=function(e,t,r){return e[t]=r}}function u(e,t,r,n){var a=t&&t.prototype instanceof v?t:v,i=Object.create(a.prototype),c=new j(n||[]);return o(i,"_invoke",{value:x(e,r,c)}),i}function f(e,t,r){try{return{type:"normal",arg:e.call(t,r)}}catch(e){return{type:"throw",arg:e}}}t.wrap=u;var d="suspendedStart",p="suspendedYield",m="executing",h="completed",y={};function v(){}function b(){}function g(){}var w={};s(w,i,(function(){return this}));var E=Object.getPrototypeOf,S=E&&E(E(C([])));S&&S!==r&&n.call(S,i)&&(w=S);var O=g.prototype=v.prototype=Object.create(w);function k(e){["next","throw","return"].forEach((function(t){s(e,t,(function(e){return this._invoke(t,e)}))}))}function L(e,t){function r(o,a,i,c){var l=f(e[o],e,a);if("throw"!==l.type){var s=l.arg,u=s.value;return u&&"object"==U(u)&&n.call(u,"__await")?t.resolve(u.__await).then((function(e){r("next",e,i,c)}),(function(e){r("throw",e,i,c)})):t.resolve(u).then((function(e){s.value=e,i(s)}),(function(e){return r("throw",e,i,c)}))}c(l.arg)}var a;o(this,"_invoke",{value:function(e,n){function o(){return new t((function(t,o){r(e,n,t,o)}))}return a=a?a.then(o,o):o()}})}function x(t,r,n){var o=d;return function(a,i){if(o===m)throw Error("Generator is already running");if(o===h){if("throw"===a)throw i;return{value:e,done:!0}}for(n.method=a,n.arg=i;;){var c=n.delegate;if(c){var l=M(c,n);if(l){if(l===y)continue;return l}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if(o===d)throw o=h,n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);o=m;var s=f(t,r,n);if("normal"===s.type){if(o=n.done?h:p,s.arg===y)continue;return{value:s.arg,done:n.done}}"throw"===s.type&&(o=h,n.method="throw",n.arg=s.arg)}}}function M(t,r){var n=r.method,o=t.iterator[n];if(o===e)return r.delegate=null,"throw"===n&&t.iterator.return&&(r.method="return",r.arg=e,M(t,r),"throw"===r.method)||"return"!==n&&(r.method="throw",r.arg=new TypeError("The iterator does not provide a '"+n+"' method")),y;var a=f(o,t.iterator,r.arg);if("throw"===a.type)return r.method="throw",r.arg=a.arg,r.delegate=null,y;var i=a.arg;return i?i.done?(r[t.resultName]=i.value,r.next=t.nextLoc,"return"!==r.method&&(r.method="next",r.arg=e),r.delegate=null,y):i:(r.method="throw",r.arg=new TypeError("iterator result is not an object"),r.delegate=null,y)}function P(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function A(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function j(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(P,this),this.reset(!0)}function C(t){if(t||""===t){var r=t[i];if(r)return r.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var o=-1,a=function r(){for(;++o<t.length;)if(n.call(t,o))return r.value=t[o],r.done=!1,r;return r.value=e,r.done=!0,r};return a.next=a}}throw new TypeError(U(t)+" is not iterable")}return b.prototype=g,o(O,"constructor",{value:g,configurable:!0}),o(g,"constructor",{value:b,configurable:!0}),b.displayName=s(g,l,"GeneratorFunction"),t.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===b||"GeneratorFunction"===(t.displayName||t.name))},t.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,g):(e.__proto__=g,s(e,l,"GeneratorFunction")),e.prototype=Object.create(O),e},t.awrap=function(e){return{__await:e}},k(L.prototype),s(L.prototype,c,(function(){return this})),t.AsyncIterator=L,t.async=function(e,r,n,o,a){void 0===a&&(a=Promise);var i=new L(u(e,r,n,o),a);return t.isGeneratorFunction(r)?i:i.next().then((function(e){return e.done?e.value:i.next()}))},k(O),s(O,l,"Generator"),s(O,i,(function(){return this})),s(O,"toString",(function(){return"[object Generator]"})),t.keys=function(e){var t=Object(e),r=[];for(var n in t)r.push(n);return r.reverse(),function e(){for(;r.length;){var n=r.pop();if(n in t)return e.value=n,e.done=!1,e}return e.done=!0,e}},t.values=C,j.prototype={constructor:j,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=e,this.done=!1,this.delegate=null,this.method="next",this.arg=e,this.tryEntries.forEach(A),!t)for(var r in this)"t"===r.charAt(0)&&n.call(this,r)&&!isNaN(+r.slice(1))&&(this[r]=e)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var r=this;function o(n,o){return c.type="throw",c.arg=t,r.next=n,o&&(r.method="next",r.arg=e),!!o}for(var a=this.tryEntries.length-1;a>=0;--a){var i=this.tryEntries[a],c=i.completion;if("root"===i.tryLoc)return o("end");if(i.tryLoc<=this.prev){var l=n.call(i,"catchLoc"),s=n.call(i,"finallyLoc");if(l&&s){if(this.prev<i.catchLoc)return o(i.catchLoc,!0);if(this.prev<i.finallyLoc)return o(i.finallyLoc)}else if(l){if(this.prev<i.catchLoc)return o(i.catchLoc,!0)}else{if(!s)throw Error("try statement without catch or finally");if(this.prev<i.finallyLoc)return o(i.finallyLoc)}}}},abrupt:function(e,t){for(var r=this.tryEntries.length-1;r>=0;--r){var o=this.tryEntries[r];if(o.tryLoc<=this.prev&&n.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var a=o;break}}a&&("break"===e||"continue"===e)&&a.tryLoc<=t&&t<=a.finallyLoc&&(a=null);var i=a?a.completion:{};return i.type=e,i.arg=t,a?(this.method="next",this.next=a.finallyLoc,y):this.complete(i)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),y},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.finallyLoc===e)return this.complete(r.completion,r.afterLoc),A(r),y}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.tryLoc===e){var n=r.completion;if("throw"===n.type){var o=n.arg;A(r)}return o}}throw Error("illegal catch attempt")},delegateYield:function(t,r,n){return this.delegate={iterator:C(t),resultName:r,nextLoc:n},"next"===this.method&&(this.arg=e),y}},t}function G(e,t,r,n,o,a,i){try{var c=e[a](i),l=c.value}catch(e){return void r(e)}c.done?t(l):Promise.resolve(l).then(n,o)}function U(e){return U="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},U(e)}function Y(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function H(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?Y(Object(r),!0).forEach((function(t){z(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Y(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function z(e,t,r){return(t=function(e){var t=function(e){if("object"!=U(e)||!e)return e;var t=e[Symbol.toPrimitive];if(void 0!==t){var r=t.call(e,"string");if("object"!=U(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==U(t)?t:t+""}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var V=r(94731),K=r(99236),W=r(22715);function X(){return X=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},X.apply(null,arguments)}var Z=function(e){var t=e.filterParams,r=e.translate,o=e.shipmentStatuses,a=e.currentLocation,c=e.isUserAdmin,s=function(e){var t=(0,q.A)({filterParams:e,url:I.eI,errorMessageId:"react.stockMovement.inbound.fetching.error",defaultErrorMessage:"Unable to fetch inbound movements",getParams:function(t){var r,n=t.offset,o=t.state,a=t.sortingParams,i=e.receiptStatusCode,c=e.origin,l=e.destination,s=e.requestedBy,u=e.createdBy,f=e.updatedBy,d=e.shipmentType;return B().omitBy(H(H({},e),{},{offset:"".concat(n),max:"".concat(o.pageSize),receiptStatusCode:i&&i.map((function(e){return e.id})),origin:null==c?void 0:c.id,destination:null==l?void 0:l.id,requestedBy:null==s?void 0:s.id,createdBy:null==u?void 0:u.id,updatedBy:null==f?void 0:f.id,shipmentType:null==d||null===(r=d.map)||void 0===r?void 0:r.call(d,(function(e){return e.id}))},a),(function(e){return!("object"!==U(e)||!B().isEmpty(e))||!e}))}}),r=t.tableRef,o=t.fireFetchData,a=t.loading,c=t.tableData,s=t.onFetchHandler,u=(0,i.wA)(),f=(0,i.d4)((function(e){return{isShipmentStatusesFetched:e.shipmentStatuses.data,shipmentStatuses:e.shipmentStatuses.data,translate:(0,O.H)((0,M.ro)(e.localize))}})),d=f.isShipmentStatusesFetched,p=f.shipmentStatuses,m=f.translate;(0,n.useEffect)((function(){d&&p.length||u((0,l.n_)())}),[]);var h=function(){var e,t=(e=R().mark((function e(t){var r;return R().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return u((0,l.xc)()),e.prev=1,e.next=4,F.A.deleteStockMovement(t);case 4:204===e.sent.status&&(r=m("react.stockMovement.deleted.success.message.label","Stock Movement has been deleted successfully"),T().success(r),o());case 7:return e.prev=7,u((0,l.W$)()),e.finish(7);case 10:case"end":return e.stop()}}),e,null,[[1,,7,10]])})),function(){var t=this,r=arguments;return new Promise((function(n,o){var a=e.apply(t,r);function i(e){G(a,n,o,i,c,"next",e)}function c(e){G(a,n,o,i,c,"throw",e)}i(void 0)}))});return function(e){return t.apply(this,arguments)}}();return{tableData:c,tableRef:r,loading:a,onFetchHandler:s,exportAllIncomingItems:function(){(0,_.A)({url:I.p7,params:c.currentParams})},exportStockMovements:function(){(0,_.A)({url:I.eI,params:c.currentParams})},deleteConfirmAlert:function(e){var t={label:m("react.default.yes.label","Yes"),onClick:function(){return h(e)}},r={label:m("react.default.no.label","No")};(0,D.ZX)({title:m("react.default.areYouSure.label","Are you sure?"),message:m("react.stockMovement.areYouSure.label","Are you sure you want to delete this Stock Movement?"),buttons:[t,r]})}}}(t),u=s.tableData,d=s.tableRef,p=s.loading,h=s.onFetchHandler,y=s.exportAllIncomingItems,v=s.exportStockMovements,b=s.deleteConfirmAlert,g=(0,n.useCallback)((function(e){var t=e.original,r=t.id,o=t.isPending,i=t.isReturn,l=t.order,s=t.origin,u=t.isReceived,f=t.isPartiallyReceived,d=[],p={defaultLabel:"Show Stock Movement",label:"react.stockMovement.action.show.label",leftIcon:n.createElement(x.CwO,null),href:S.ti.show};if(i&&(p.href=function(){return S.ti.show(null==l?void 0:l.id)}),d.push(p),!u&&!f){var m={defaultLabel:"Edit Stock Movement",label:"react.stockMovement.action.edit.label",leftIcon:n.createElement(x.Jno,null)};m.href=i?function(){return S.L8.edit(null==l?void 0:l.id)}:S.ti.genericEdit,d.push(m)}var h=a.id===(null==s?void 0:s.id);if(o&&(h||null==s||!s.isDepot)){var y={defaultLabel:"Delete Stock Movement",label:"react.stockMovement.action.delete.label",leftIcon:n.createElement(x.WFf,null),variant:"danger",onClick:function(){return b(i?null==l?void 0:l.id:r)}};(!i||i&&c)&&d.push(y)}return d}),[]),w=(0,n.useMemo)((function(){return[{Header:" ",width:50,sortable:!1,style:{overflow:"visible",zIndex:1},fixed:"left",Cell:function(e){return n.createElement(V.A,{positions:["right"],dropdownClasses:"action-dropdown-offset",actions:g(e),id:e.original.id})}},{Header:n.createElement(O.A,{id:"react.stockMovement.column.itemsCount.label",defaultMessage:"# items"}),accessor:"lineItemCount",fixed:"left",className:"active-circle d-flex justify-content-center",headerClassName:"header justify-content-center",width:80,sortable:!1,Cell:function(e){return n.createElement(P.n,X({defaultValue:0},e,{className:"items-count-circle"}))}},{Header:n.createElement(O.A,{id:"react.stockMovement.column.status.label",defaultMessage:"Status"}),accessor:"displayStatus",fixed:"left",width:170,sortable:!1,Cell:function(e){var t,o,a,i;return n.createElement(P.n,X({},e,{tooltip:!0,tooltipLabel:(i=null===(t=e.value)||void 0===t?void 0:t.name,r("react.stockMovement.status.".concat(i.toLowerCase(),".description.label"),i.toLowerCase()))}),n.createElement(W.A,{variant:null==e||null===(o=e.value)||void 0===o?void 0:o.variant,status:null==e||null===(a=e.value)||void 0===a?void 0:a.label}))}},{Header:n.createElement(O.A,{id:"react.stockMovement.column.identifier.label",defaultMessage:"Identifier"}),accessor:"identifier",headerClassName:"header justify-content-center",fixed:"left",minWidth:100,Cell:function(e){var t=e.original,o=t.isReturn,a=t.id,i=t.order,c=t.shipmentType,l=o?null==i?void 0:i.id:a;return n.createElement(P.n,X({},e,{link:S.ti.show(l),tooltip:!0,tooltipLabel:(0,K.Ep)(r,null==c?void 0:c.displayName)}),n.createElement(j.A,{shipmentType:(0,m.EX)(c),identifier:null==e?void 0:e.value}))}},{Header:n.createElement(O.A,{id:"react.stockMovement.column.name.label",defaultMessage:"Name"}),accessor:"name",minWidth:250,sortable:!1,Cell:function(e){var t=e.original,r=t.isReturn,o=t.id,a=t.order,i=t.description,c=t.name,l=r?null==a?void 0:a.id:o;return n.createElement(P.n,X({},e,{tooltip:!0,link:S.ti.show(l),value:i||c}))}},{Header:n.createElement(O.A,{id:"react.stockMovement.origin.label",defaultMessage:"Origin"}),accessor:"origin.name",minWidth:250,Cell:function(e){return n.createElement(P.n,X({},e,{tooltip:!0}))}},{Header:n.createElement(O.A,{id:"react.stockMovement.stocklist.label",defaultMessage:"Stocklist"}),accessor:"stocklist.name",minWidth:150,Cell:function(e){return n.createElement(P.n,X({},e,{tooltip:!0,defaultValue:"None"}))}},{Header:n.createElement(O.A,{id:"react.stockMovement.requestedBy.label",defaultMessage:"Requested by"}),accessor:"requestedBy.name",minWidth:250,sortable:!1,Cell:function(e){return n.createElement(P.n,X({},e,{defaultValue:"None"}))}},{Header:n.createElement(O.A,{id:"react.stockMovement.column.dateCreated.label",defaultMessage:"Date Created"}),accessor:"dateCreated",width:150,Cell:function(e){return n.createElement(A.A,X({localizeDate:!0,formatLocalizedDate:f.A.DISPLAY},e))}},{Header:n.createElement(O.A,{id:"react.stockMovement.column.expectedReceiptDate",defaultMessage:"Expected Receipt Date"}),accessor:"expectedDeliveryDate",width:200,Cell:function(e){return n.createElement(A.A,X({localizeDate:!0,formatLocalizedDate:f.A.DISPLAY},e))}}]}),[o,r]);return n.createElement("div",{className:"list-page-list-section"},n.createElement("div",{className:"title-text p-3 d-flex justify-content-between align-items-center"},n.createElement("div",null,n.createElement(O.A,{id:"react.stockMovement.inbound.label",defaultMessage:"Inbound"}),n.createElement("span",{className:"ml-1"},"(".concat(u.totalCount,")"))),n.createElement(E.A,{isDropdown:!0,defaultLabel:"Export",label:"react.default.button.export.label",variant:"secondary",EndIcon:n.createElement(x.U3X,null)}),n.createElement("div",{className:"dropdown-menu dropdown-menu-right nav-item padding-8","aria-labelledby":"dropdownMenuButton"},n.createElement("a",{href:"#",className:"dropdown-item",onClick:v,role:"button",tabIndex:0},n.createElement(O.A,{id:"react.stockMovement.export.label",defaultMessage:"Export Stock Movements"})),n.createElement("a",{className:"dropdown-item",onClick:y,href:"#"},n.createElement(O.A,{id:"react.stockMovement.export.allIncomingItems.label",defaultMessage:"Export all incoming items"})))),n.createElement(P.A,{manual:!0,sortable:!0,ref:d,columns:w,data:u.data,loading:p,defaultPageSize:10,pages:u.pages,totalData:u.totalCount,onFetchData:h,noDataText:r("react.stockMovement.empty.list.label","No Stock Movements match the given criteria")}))};const J=(0,i.Ng)((function(e){return{translate:(0,O.H)((0,M.ro)(e.localize)),shipmentStatuses:e.shipmentStatuses.data,currentLocation:e.session.currentLocation,isUserAdmin:e.session.isUserAdmin,currentLocale:e.session.activeLanguage}}))(Z);Z.propTypes={filterParams:a().shape({}).isRequired,translate:a().func.isRequired,isUserAdmin:a().bool.isRequired,currentLocation:a().shape({id:a().string.isRequired,name:a().string.isRequired}).isRequired,shipmentStatuses:a().arrayOf(a().shape({id:a().string,name:a().string,variant:a().string,label:a().string})).isRequired};var $=r(38798),Q=r(17328);function ee(e){return ee="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},ee(e)}function te(){te=function(){return t};var e,t={},r=Object.prototype,n=r.hasOwnProperty,o=Object.defineProperty||function(e,t,r){e[t]=r.value},a="function"==typeof Symbol?Symbol:{},i=a.iterator||"@@iterator",c=a.asyncIterator||"@@asyncIterator",l=a.toStringTag||"@@toStringTag";function s(e,t,r){return Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{s({},"")}catch(e){s=function(e,t,r){return e[t]=r}}function u(e,t,r,n){var a=t&&t.prototype instanceof v?t:v,i=Object.create(a.prototype),c=new j(n||[]);return o(i,"_invoke",{value:x(e,r,c)}),i}function f(e,t,r){try{return{type:"normal",arg:e.call(t,r)}}catch(e){return{type:"throw",arg:e}}}t.wrap=u;var d="suspendedStart",p="suspendedYield",m="executing",h="completed",y={};function v(){}function b(){}function g(){}var w={};s(w,i,(function(){return this}));var E=Object.getPrototypeOf,S=E&&E(E(C([])));S&&S!==r&&n.call(S,i)&&(w=S);var O=g.prototype=v.prototype=Object.create(w);function k(e){["next","throw","return"].forEach((function(t){s(e,t,(function(e){return this._invoke(t,e)}))}))}function L(e,t){function r(o,a,i,c){var l=f(e[o],e,a);if("throw"!==l.type){var s=l.arg,u=s.value;return u&&"object"==ee(u)&&n.call(u,"__await")?t.resolve(u.__await).then((function(e){r("next",e,i,c)}),(function(e){r("throw",e,i,c)})):t.resolve(u).then((function(e){s.value=e,i(s)}),(function(e){return r("throw",e,i,c)}))}c(l.arg)}var a;o(this,"_invoke",{value:function(e,n){function o(){return new t((function(t,o){r(e,n,t,o)}))}return a=a?a.then(o,o):o()}})}function x(t,r,n){var o=d;return function(a,i){if(o===m)throw Error("Generator is already running");if(o===h){if("throw"===a)throw i;return{value:e,done:!0}}for(n.method=a,n.arg=i;;){var c=n.delegate;if(c){var l=M(c,n);if(l){if(l===y)continue;return l}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if(o===d)throw o=h,n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);o=m;var s=f(t,r,n);if("normal"===s.type){if(o=n.done?h:p,s.arg===y)continue;return{value:s.arg,done:n.done}}"throw"===s.type&&(o=h,n.method="throw",n.arg=s.arg)}}}function M(t,r){var n=r.method,o=t.iterator[n];if(o===e)return r.delegate=null,"throw"===n&&t.iterator.return&&(r.method="return",r.arg=e,M(t,r),"throw"===r.method)||"return"!==n&&(r.method="throw",r.arg=new TypeError("The iterator does not provide a '"+n+"' method")),y;var a=f(o,t.iterator,r.arg);if("throw"===a.type)return r.method="throw",r.arg=a.arg,r.delegate=null,y;var i=a.arg;return i?i.done?(r[t.resultName]=i.value,r.next=t.nextLoc,"return"!==r.method&&(r.method="next",r.arg=e),r.delegate=null,y):i:(r.method="throw",r.arg=new TypeError("iterator result is not an object"),r.delegate=null,y)}function P(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function A(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function j(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(P,this),this.reset(!0)}function C(t){if(t||""===t){var r=t[i];if(r)return r.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var o=-1,a=function r(){for(;++o<t.length;)if(n.call(t,o))return r.value=t[o],r.done=!1,r;return r.value=e,r.done=!0,r};return a.next=a}}throw new TypeError(ee(t)+" is not iterable")}return b.prototype=g,o(O,"constructor",{value:g,configurable:!0}),o(g,"constructor",{value:b,configurable:!0}),b.displayName=s(g,l,"GeneratorFunction"),t.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===b||"GeneratorFunction"===(t.displayName||t.name))},t.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,g):(e.__proto__=g,s(e,l,"GeneratorFunction")),e.prototype=Object.create(O),e},t.awrap=function(e){return{__await:e}},k(L.prototype),s(L.prototype,c,(function(){return this})),t.AsyncIterator=L,t.async=function(e,r,n,o,a){void 0===a&&(a=Promise);var i=new L(u(e,r,n,o),a);return t.isGeneratorFunction(r)?i:i.next().then((function(e){return e.done?e.value:i.next()}))},k(O),s(O,l,"Generator"),s(O,i,(function(){return this})),s(O,"toString",(function(){return"[object Generator]"})),t.keys=function(e){var t=Object(e),r=[];for(var n in t)r.push(n);return r.reverse(),function e(){for(;r.length;){var n=r.pop();if(n in t)return e.value=n,e.done=!1,e}return e.done=!0,e}},t.values=C,j.prototype={constructor:j,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=e,this.done=!1,this.delegate=null,this.method="next",this.arg=e,this.tryEntries.forEach(A),!t)for(var r in this)"t"===r.charAt(0)&&n.call(this,r)&&!isNaN(+r.slice(1))&&(this[r]=e)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var r=this;function o(n,o){return c.type="throw",c.arg=t,r.next=n,o&&(r.method="next",r.arg=e),!!o}for(var a=this.tryEntries.length-1;a>=0;--a){var i=this.tryEntries[a],c=i.completion;if("root"===i.tryLoc)return o("end");if(i.tryLoc<=this.prev){var l=n.call(i,"catchLoc"),s=n.call(i,"finallyLoc");if(l&&s){if(this.prev<i.catchLoc)return o(i.catchLoc,!0);if(this.prev<i.finallyLoc)return o(i.finallyLoc)}else if(l){if(this.prev<i.catchLoc)return o(i.catchLoc,!0)}else{if(!s)throw Error("try statement without catch or finally");if(this.prev<i.finallyLoc)return o(i.finallyLoc)}}}},abrupt:function(e,t){for(var r=this.tryEntries.length-1;r>=0;--r){var o=this.tryEntries[r];if(o.tryLoc<=this.prev&&n.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var a=o;break}}a&&("break"===e||"continue"===e)&&a.tryLoc<=t&&t<=a.finallyLoc&&(a=null);var i=a?a.completion:{};return i.type=e,i.arg=t,a?(this.method="next",this.next=a.finallyLoc,y):this.complete(i)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),y},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.finallyLoc===e)return this.complete(r.completion,r.afterLoc),A(r),y}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.tryLoc===e){var n=r.completion;if("throw"===n.type){var o=n.arg;A(r)}return o}}throw Error("illegal catch attempt")},delegateYield:function(t,r,n){return this.delegate={iterator:C(t),resultName:r,nextLoc:n},"next"===this.method&&(this.arg=e),y}},t}function re(e,t,r,n,o,a,i){try{var c=e[a](i),l=c.value}catch(e){return void r(e)}c.done?t(l):Promise.resolve(l).then(n,o)}function ne(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function oe(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?ne(Object(r),!0).forEach((function(t){ae(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):ne(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function ae(e,t,r){return(t=function(e){var t=function(e){if("object"!=ee(e)||!e)return e;var t=e[Symbol.toPrimitive];if(void 0!==t){var r=t.call(e,"string");if("object"!=ee(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==ee(t)?t:t+""}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function ie(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var n,o,a,i,c=[],l=!0,s=!1;try{if(a=(r=r.call(e)).next,0===t){if(Object(r)!==r)return;l=!1}else for(;!(l=(n=a.call(r)).done)&&(c.push(n.value),c.length!==t);l=!0);}catch(e){s=!0,o=e}finally{try{if(!l&&null!=r.return&&(i=r.return(),Object(i)!==i))return}finally{if(s)throw o}}return c}}(e,t)||function(e,t){if(e){if("string"==typeof e)return ce(e,t);var r={}.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?ce(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function ce(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=Array(t);r<t;r++)n[r]=e[r];return n}var le=r(54035),se=function(e){var t=function(){var e=ie((0,n.useState)({}),2),t=e[0],r=e[1],o=ie((0,n.useState)({}),2),a=o[0],s=o[1],u=ie((0,n.useState)(!1),2),f=u[0],p=u[1],h=(0,c.useHistory)(),y=(0,i.wA)(),v=(0,i.d4)((function(e){return{currentLocation:e.session.currentLocation,shipmentStatuses:e.shipmentStatuses.data,currentUser:e.session.user,currentLocale:e.session.activeLanguage,shipmentTypes:e.stockMovementCommon.shipmentTypes}})),b=v.currentLocation,g=v.shipmentStatuses,w=v.currentUser,E=v.currentLocale,O=v.shipmentTypes;(0,n.useEffect)((function(){y((0,l.n_)()),y((0,l.CT)())}),[E]);var k=function(){var e,t=(e=te().mark((function e(){var t,r,n,o;return te().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if((t=Object.keys(d).reduce((function(e,t){return oe(oe({},e),{},ae({},t,""))}),{})).direction="INBOUND",void 0===(r=$.A.parse(h.location.search)).destination&&(t.destination={id:null==b?void 0:b.id,value:null==b?void 0:b.id,name:null==b?void 0:b.name,label:null==b?void 0:b.name}),r.receiptStatusCode&&(n=(0,K.GE)(r.receiptStatusCode),t.receiptStatusCode=g.filter((function(e){var t=e.value;return n.includes(t)}))),!r.origin){e.next=9;break}return e.next=8,(0,m.kJ)(r.origin);case 8:t.origin=e.sent;case 9:if(!r.requestedBy){e.next=18;break}if(r.requestedBy!==w.id){e.next=14;break}e.t0=w,e.next=17;break;case 14:return e.next=16,(0,m.Gu)(r.requestedBy);case 16:e.t0=e.sent;case 17:t.requestedBy=e.t0;case 18:if(!r.createdBy){e.next=27;break}if(r.createdBy!==w.id){e.next=23;break}e.t1=w,e.next=26;break;case 23:return e.next=25,(0,m.Gu)(r.createdBy);case 25:e.t1=e.sent;case 26:t.createdBy=e.t1;case 27:if(!r.updatedBy){e.next=36;break}if(r.updatedBy!==w.id){e.next=32;break}e.t2=w,e.next=35;break;case 32:return e.next=34,(0,m.Gu)(r.updatedBy);case 34:e.t2=e.sent;case 35:t.updatedBy=e.t2;case 36:r.createdAfter&&(t.createdAfter=r.createdAfter),r.createdBefore&&(t.createdBefore=r.createdBefore),r.shipmentType&&(o=(0,K.GE)(r.shipmentType),t.shipmentType=O.filter((function(e){var t=e.id;return o.includes(t)}))),s(t),p(!0);case 41:case"end":return e.stop()}}),e)})),function(){var t=this,r=arguments;return new Promise((function(n,o){var a=e.apply(t,r);function i(e){re(a,n,o,i,c,"next",e)}function c(e){re(a,n,o,i,c,"throw",e)}i(void 0)}))});return function(){return t.apply(this,arguments)}}();return(0,Q.A)({clearFilterValues:function(){var e=Object.keys(d).reduce((function(e,t){return oe(oe({},e),{},ae({},t,""))}),{direction:"INBOUND"}),t=(0,K.ZP)(e,{direction:{name:"direction"}}),r=$.A.stringify(t),n=h.location.pathname;r&&h.push({pathname:n,search:r})},filtersInitialized:f,initializeDefaultFilterValues:k}),{selectFiltersForMyStockMovements:function(){var e={id:w.id,value:w.id,label:w.name,name:w.name},t={direction:"INBOUND",requestedBy:e.id,createdBy:e.id};h.push({pathname:S.ti.list(),search:$.A.stringify(t)}),s((function(t){return oe(oe({},t),{},{requestedBy:e,createdBy:e})}))},defaultFilterValues:a,setFilterValues:function(e){var t=(0,K.ZP)(e,{direction:{name:"direction"},origin:{name:"origin",accessor:"id"},requestedBy:{name:"requestedBy",accessor:"id"},createdBy:{name:"createdBy",accessor:"id"},updatedBy:{name:"updatedBy",accessor:"id"},createdAfter:{name:"createdAfter"},createdBefore:{name:"createdBefore"},receiptStatusCode:{name:"receiptStatusCode",accessor:"id"},shipmentType:{name:"shipmentType",accessor:"id"}}),n=$.A.stringify(t),o=h.location.pathname;n&&h.push({pathname:o,search:n}),r(e)},filterParams:t}}(),r=t.selectFiltersForMyStockMovements,o=t.defaultFilterValues,a=t.setFilterValues,s=t.filterParams;return(0,le.A)("stockMovement","reactTable"),n.createElement("div",{className:"d-flex flex-column list-page-main"},n.createElement(L,{showMyStockMovements:r}),n.createElement(w,{defaultValues:o,setFilterParams:a,filterFields:d,formProps:{shipmentStatuses:e.shipmentStatuses,shipmentTypes:e.shipmentTypes}}),n.createElement(J,{filterParams:s}))};const ue=(0,c.withRouter)((0,i.Ng)((function(e){return{shipmentStatuses:e.shipmentStatuses.data,isShipmentStatusesFetched:e.shipmentStatuses.fetched,shipmentTypes:e.stockMovementCommon.shipmentTypes}}),{fetchStatuses:l.n_})(se));se.propTypes={shipmentStatuses:a().arrayOf(a().shape({id:a().string,name:a().string,variant:a().string,label:a().string})).isRequired,shipmentTypes:a().arrayOf(a().shape({id:a().string,name:a().string,label:a().string,description:a().string})).isRequired}}}]);
//# sourceMappingURL=bundle.929af1b45eb780bfc503.7596.js.map