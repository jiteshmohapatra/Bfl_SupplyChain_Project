"use strict";(self.webpackChunkopenboxes=self.webpackChunkopenboxes||[]).push([[2306],{27595:(e,t,n)=>{n.d(t,{A:()=>l});var a=n(96540),r=n(5556),o=n.n(r),i=function(e){var t=e.show,n=e.message,r=e.danger,o=e.close,i=e.className,l=(0,a.useMemo)((function(){return("string"!=typeof n&&Array.isArray(n)?n:[n]).map((function(e){return a.createElement("div",null,a.createElement("i",{className:"fa ".concat(r?"fa-times-circle":"fa-exclamation-circle"," pr-2")}),e)}))}),[n]);return t?a.createElement("div",{"data-testid":"alert-message",className:"".concat(i," alert ").concat(r?"alert-danger":"alert-warning"),style:{cursor:o?"pointer":"default",whiteSpace:"pre-line"},role:"presentation",onClick:function(){return o()}},l):null};const l=i;i.propTypes={className:o().string,close:o().func,danger:o().bool,message:o().string,show:o().bool},i.defaultProps={className:"",close:function(){return null},danger:!1,message:"",show:!1}},38727:(e,t,n)=>{n.d(t,{A:()=>p});var a=n(96540),r=n(5556),o=n.n(r),i=n(26386),l=n(42164),s=n(15516),c=["height","width","minHeight","dropzoneText","buttonLabel","buttonVariant","className","multiple","maxFiles","allowedExtensions"];function u(){return u=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)({}).hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e},u.apply(null,arguments)}var f=function(e){var t=e.height,n=e.width,r=e.minHeight,o=e.dropzoneText,f=e.buttonLabel,p=e.buttonVariant,d=e.className,m=e.multiple,g=e.maxFiles,h=e.allowedExtensions,b=function(e,t){if(null==e)return{};var n,a,r=function(e,t){if(null==e)return{};var n={};for(var a in e)if({}.hasOwnProperty.call(e,a)){if(-1!==t.indexOf(a))continue;n[a]=e[a]}return n}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(a=0;a<o.length;a++)n=o[a],-1===t.indexOf(n)&&{}.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}(e,c),y=(0,a.useCallback)((function(e){var t;null===(t=b.onChange)||void 0===t||t.call(b,m?e:e[0])}),[]),v=(0,s.A)(),E=(0,i.VB)({onDrop:y,noClick:!0,noKeyboard:!0,validator:function(e){return!h.length||h.includes(function(e){var t;return null===(t=e.path.split("."))||void 0===t?void 0:t[1]}(e))?null:{code:"invalid-extension",message:v("react.default.error.invalidFileExtension.label","File extension should be one of: ".concat(h.join(", ")),[h.join(", ")])}},multiple:m,maxFiles:g}),w=E.getRootProps,S=E.getInputProps,x=E.open,C=E.acceptedFiles,k=E.fileRejections,M=function(e){return e.map((function(e){var t,n=null!=e&&e.path?e:e.file;return a.createElement("li",{key:n.path},n.path," (",n.size," bytes)",null!=e&&null!==(t=e.errors)&&void 0!==t&&t.length?a.createElement("ul",null,e.errors.map((function(e){return a.createElement("li",{key:e.code},e.message)}))):null)}))};return a.createElement("div",{style:{width:n,height:t,minHeight:r}},a.createElement("div",u({},w({className:"dropzone d-flex flex-column justify-content-center align-items-center p-3 bg-light ".concat(d)}),b),a.createElement("input",S()),a.createElement("h5",{className:"text-secondary font-italic"},v(o.id,o.defaultMessage)),a.createElement(l.A,{className:"mt-3",onClick:x,variant:p,defaultLabel:f.defaultMessage,label:f.id})),C.length?a.createElement("aside",null,a.createElement("h6",{className:"text-success"},v("react.default.acceptedFiles.label","Accepted Files"),":"),a.createElement("ul",null,M(C))):null,k.length?a.createElement("aside",null,a.createElement("h6",{className:"text-danger"},v("react.default.rejectedFiles.label","Rejected Files"),":"),a.createElement("ul",null,M(k))):null)};const p=f;f.propTypes={dropzoneText:o().shape({id:o().string,defaultMessage:o().string}),buttonLabel:o().shape({id:o().string,defaultMessage:o().string}),buttonVariant:o().string,width:o().string,height:o().string,minHeight:o().string,className:o().string,multiple:o().bool,maxFiles:o().number,allowedExtensions:o().arrayOf(o().string)},f.defaultProps={dropzoneText:{id:"react.default.dragDropHere.label",defaultMessage:"Drag and drop file here."},buttonLabel:{id:"react.default.fileDialog.label",defaultMessage:"OPEN FILE DIALOG"},buttonVariant:"grayed",width:"auto",height:"auto",minHeight:"200px",className:"",multiple:!1,maxFiles:null,allowedExtensions:[]}},42306:(e,t,n)=>{n.r(t),n.d(t,{default:()=>j});var a=n(96540),r=n(71083),o=n(5419),i=n.n(o),l=n(2543),s=n.n(l),c=n(5556),u=n.n(c),f=n(88600),p=n(697),d=n(84976),m=n(84914),g=n.n(m),h=n(8949),b=n(46857),y=n(38727),v=n(50709),E=n(27595),w=n(43256),S=n(26216);function x(e){return x="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},x(e)}function C(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,k(a.key),a)}}function k(e){var t=function(e){if("object"!=x(e)||!e)return e;var t=e[Symbol.toPrimitive];if(void 0!==t){var n=t.call(e,"string");if("object"!=x(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==x(t)?t:t+""}function M(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(e){}return(M=function(){return!!e})()}function N(e){return N=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},N(e)}function O(e,t){return O=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},O(e,t)}var A=r.A.create({}),L=function(e){function t(e){var n;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),(n=function(e,t,n){return t=N(t),function(e,t){if(t&&("object"==x(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(e,M()?Reflect.construct(t,n||[],N(e).constructor):t.apply(e,n))}(this,t,[e])).state={file:null,alertMessage:"",showAlert:!1,showSuccessMessage:!1,supportLinks:{}},n.onDrop=n.onDrop.bind(n),n.handleValidationErrors=n.handleValidationErrors.bind(n),n.getSupportLinks=n.getSupportLinks.bind(n),A.interceptors.response.use(w.oc,n.handleValidationErrors),n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&O(e,t)}(t,e),n=t,(r=[{key:"componentDidMount",value:function(){this.getSupportLinks()}},{key:"onDrop",value:function(e){this.setState({file:e})}},{key:"getSupportLinks",value:function(){var e=this;A.get(b.mT).then((function(t){var n=t.data.data;e.setState({supportLinks:n})}))}},{key:"handleValidationErrors",value:function(e){if(400===e.response.status){var t=s().get(e,"response.data.errorMessage","").split("\n"),n=s().get(e,"response.data.errorMessages",""),a="".concat(t.length>0?t[0]:""," \n ").concat(s().join(n,"\n"));return this.setState({alertMessage:a,showAlert:!0}),Promise.reject(e)}return(0,w.H4)(e)}},{key:"importLocations",value:function(){var e=this;this.props.showSpinner();var t=new FormData;return t.append("importFile",this.state.file.slice(0,this.state.file.size,"text/csv")),A.post(b.W5,t,{headers:{"content-type":"multipart/form-data"}}).then((function(){e.props.hideSpinner(),g().success(e.props.translate("react.locationsConfiguration.importSuccess.label","Locations Created Successfully")),e.setState({showSuccessMessage:!0})})).catch((function(){e.props.hideSpinner()}))}},{key:"downloadLocationsTemplate",value:function(){var e=this;this.props.showSpinner(),A.get(b.Ri).then((function(t){i()(t.data,"Locations_template.csv","text/csv"),e.props.hideSpinner()})).catch((function(){return e.props.hideSpinner()}))}},{key:"render",value:function(){var e=this;return a.createElement("div",{className:"content-wrap"},a.createElement("div",{className:"d-flex flex-column p-5 m-4 classic-card"},this.state.showSuccessMessage?a.createElement(a.Fragment,null,a.createElement("h3",{className:"align-self-center"},a.createElement(S.A,{id:"react.locationsConfiguration.importSuccess.label",defaultMessage:"Locations Created Successfully"})),a.createElement("div",{className:"align-self-center"},a.createElement(S.A,{id:"react.locationsConfiguration.importSuccess.message",defaultMessage:"Your locations have been created. You can review or edit them at any time from the location list page."})),a.createElement("a",{type:"button",className:"btn btn-outline-primary align-self-center w-auto mt-5",href:v.SC.list()},a.createElement(S.A,{id:"react.locationsConfiguration.viewLocations.label",defaultMessage:"View Location List"})),a.createElement(d.N_,{type:"button",className:"btn btn-outline-primary align-self-center w-auto mt-3",to:v.Nj.index()},a.createElement(S.A,{id:"react.locationsConfiguration.productWizard.label",defaultMessage:"Product Creation Wizard"})),a.createElement(d.N_,{className:"align-self-center w-auto mt-3",to:v.$h.base},a.createElement(S.A,{id:"react.locationsConfiguration.exitToDashboard.label",defaultMessage:"Exit to Dashboard"}))):a.createElement(a.Fragment,null,a.createElement("h3",null,a.createElement(S.A,{id:"react.locationsConfiguration.importLocationCsv.label",defaultMessage:"Import Locations"})),a.createElement("div",null,a.createElement(S.A,{id:"react.locationsConfiguration.csvUpload.label",defaultMessage:"On this screen, you can import a list of locations from .csv file."})," ",a.createElement(S.A,{id:"react.locationsConfiguration.click.label",defaultMessage:"Click"})," ",a.createElement("a",{href:"#",onClick:function(){return e.downloadLocationsTemplate()}},a.createElement(S.A,{id:"react.locationsConfiguration.here.label",defaultMessage:"here"}))," ",a.createElement(S.A,{id:"react.locationsConfiguration.templateInstructions.label",defaultMessage:"to download a template with instructions."})," ",a.createElement(S.A,{id:"react.locationsConfiguration.click.label",defaultMessage:"Click"})," ",a.createElement("a",{target:"_blank",rel:"noopener noreferrer",href:this.state.supportLinks.configureOrganizationsAndLocations||"#"},a.createElement(S.A,{id:"react.locationsConfiguration.here.label",defaultMessage:"here"}))," ",a.createElement(S.A,{id:"react.locationsConfiguration.createInstructions.label",defaultMessage:"to read more about location creation."})),a.createElement(y.A,{className:"my-2 p-5",onChange:this.onDrop,allowedExtensions:["csv"]}),a.createElement(E.A,{className:"m-3",show:this.state.showAlert,message:this.state.alertMessage,danger:!0}),a.createElement("div",{className:"align-self-end mt-5"},a.createElement("button",{type:"button",className:"btn btn-primary float-right",onClick:function(){return e.importLocations()},disabled:!this.state.file},a.createElement(S.A,{id:"react.locationsConfiguration.upload.label",defaultMessage:"Upload"}))))))}}])&&C(n.prototype,r),Object.defineProperty(n,"prototype",{writable:!1}),n;var n,r}(a.Component);const j=(0,p.Ng)((function(e){return{translate:(0,S.H)((0,f.ro)(e.localize))}}),{showSpinner:h.xc,hideSpinner:h.W$})(L);L.propTypes={showSpinner:u().func.isRequired,hideSpinner:u().func.isRequired,translate:u().func.isRequired}}}]);
//# sourceMappingURL=bundle.929af1b45eb780bfc503.2306.js.map